import{_ as d,a as r}from"./apollo8070.5177d292.js";import{_ as c,o as p,c as u,a as e,d as a,b as n,e as g,r as l}from"./app.d4c08878.js";const h={},v=a(`<h1 id="intro" tabindex="-1"><a class="header-anchor" href="#intro" aria-hidden="true">#</a> \u535A\u5BA2\u5185\u5BB9\u4ECB\u7ECD</h1><h2 id="\u535A\u5BA2\u5185\u5BB9\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u535A\u5BA2\u5185\u5BB9\u6982\u8FF0" aria-hidden="true">#</a> \u535A\u5BA2\u5185\u5BB9\u6982\u8FF0</h2><pre><code>\u672C\u7BC7\u535A\u5BA2\u6D89\u53CA\u4E3B\u8981\u5185\u5BB9\u6709\uFF1A
 1.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883
 2.\u642D\u5EFASpringCloud\u6280\u672F\u6808\u6240\u9700\u7EC4\u4EF6
\u5177\u4F53\u6BCF\u4E2A\u7AE0\u8282\u4E2D\u5305\u542B\u7684\u5185\u5BB9\u53EF\u4F7F\u901A\u8FC7\u4E0B\u9762\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2\u8FDB\u884C\u67E5\u770B\u3002
</code></pre><h2 id="\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2" tabindex="-1"><a class="header-anchor" href="#\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2" aria-hidden="true">#</a> \u535A\u5BA2\u5185\u5BB9\u5927\u7EB2</h2><h3 id="\u7B80\u5355\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5355\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2" aria-hidden="true">#</a> <a href="/enhance/markmap/environment/windows/windows-server2016/windows-server2016-outline2.html" target="_blank">\u7B80\u5355\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2</a></h3>`,5),f=n("blockquote",null,null,-1),m=n("h3",{id:"\u8BE6\u7EC6\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8BE6\u7EC6\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2","aria-hidden":"true"},"#"),g(),n("a",{href:"/enhance/markmap/environment/windows/windows-server2016/windows-server2016-outline5.html",target:"_blank"},"\u8BE6\u7EC6\u7248\u535A\u5BA2\u5185\u5BB9\u5927\u7EB2")],-1),x=a(`<h1 id="1." tabindex="-1"><a class="header-anchor" href="#1." aria-hidden="true">#</a> 1.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883</h1><h2 id="_1-1-\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#_1-1-\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0" aria-hidden="true">#</a> 1.1.\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0</h2><pre><code>\u672C\u7AE0\u8282\u6D89\u53CA\u4E3B\u8981\u5185\u5BB9\u6709\uFF1A
 1.1.\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0
 1.2.\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2
 1.3.\u5B89\u88C5jdk
\u5177\u4F53\u6BCF\u4E2A\u5C0F\u8282\u4E2D\u5305\u542B\u7684\u5185\u5BB9\u53EF\u4F7F\u901A\u8FC7\u4E0B\u9762\u7684\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2\u8FDB\u884C\u67E5\u770B\u3002
</code></pre><h2 id="_1-2-\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2" tabindex="-1"><a class="header-anchor" href="#_1-2-\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2" aria-hidden="true">#</a> <a href="/enhance/markmap/environment/windows/windows-server2016/chapter/windows-server2016-outline5-chapter1.html" target="_blank">1.2.\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2</a></h2>`,4),_=a(`<h2 id="_1-3-\u5B89\u88C5jdk" tabindex="-1"><a class="header-anchor" href="#_1-3-\u5B89\u88C5jdk" aria-hidden="true">#</a> 1.3.\u5B89\u88C5jdk</h2><h3 id="_1-3-1-\u5B89\u88C5jdk1-5" tabindex="-1"><a class="header-anchor" href="#_1-3-1-\u5B89\u88C5jdk1-5" aria-hidden="true">#</a> 1.3.1.\u5B89\u88C5jdk1.5</h3><pre><code>\u4E0B\u8F7Djdk1.5(64\u4F4D)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u software-1661635201061:b951fa2710ed220c45fe8104a47c32968160d016 \\
&quot;https://lingwh-generic.pkg.coding.net/coding-drive/software/jdk-1.5-windows-x64.zip?version=latest&quot; \\
-o jdk-1.5-windows-x64.zip
</code></pre></div><pre><code>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF
JAVA_HOME
D:\\Install\\develop\\JDK\\jdk1.5
PATH
%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin
CLASSPATH
.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar
</code></pre><h3 id="_1-3-2-\u5B89\u88C5jdk1-6" tabindex="-1"><a class="header-anchor" href="#_1-3-2-\u5B89\u88C5jdk1-6" aria-hidden="true">#</a> 1.3.2.\u5B89\u88C5jdk1.6</h3><pre><code>\u4E0B\u8F7Djdk1.6(64\u4F4D)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u software-1661635269701:dc992411c4328c8b858f80dd75e26084c1430ce3 \\
&quot;https://lingwh-generic.pkg.coding.net/coding-drive/software/jdk-1.6-windows-x64.zip?version=latest&quot; \\
-o jdk-1.6-windows-x64.zip
</code></pre></div><pre><code>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF
JAVA_HOME
D:\\Install\\develop\\JDK\\jdk1.6
PATH
%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin
CLASSPATH
.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar
</code></pre><h3 id="_1-3-3-\u5B89\u88C5jdk1-7" tabindex="-1"><a class="header-anchor" href="#_1-3-3-\u5B89\u88C5jdk1-7" aria-hidden="true">#</a> 1.3.3.\u5B89\u88C5jdk1.7</h3><pre><code>\u4E0B\u8F7Djdk1.7(64\u4F4D)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u software-1661635322447:bc66d997b7cf000b3932888504d1ac735fc4b530 \\
&quot;https://lingwh-generic.pkg.coding.net/coding-drive/software/jdk-1.7-windows-x64.zip?version=latest&quot; \\
-o jdk-1.7-windows-x64.zip
</code></pre></div><pre><code>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF
JAVA_HOME
D:\\Install\\develop\\JDK\\jdk1.7
PATH
%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin
CLASSPATH
.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar
</code></pre><h3 id="_1-3-4-\u5B89\u88C5jdk1-8" tabindex="-1"><a class="header-anchor" href="#_1-3-4-\u5B89\u88C5jdk1-8" aria-hidden="true">#</a> 1.3.4.\u5B89\u88C5jdk1.8</h3><pre><code>\u4E0B\u8F7Djdk1.8(64\u4F4D)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u software-1661635322447:bc66d997b7cf000b3932888504d1ac735fc4b530 \\
&quot;https://lingwh-generic.pkg.coding.net/coding-drive/software/jdk-1.8-windows-x64.zip?version=latest&quot; \\
-o jdk-1.8-windows-x64.zip
</code></pre></div><pre><code>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF
JAVA_HOME
D:\\Install\\develop\\JDK\\jdk1.8
PATH
%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin
CLASSPATH
.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar
</code></pre><h1 id="2." tabindex="-1"><a class="header-anchor" href="#2." aria-hidden="true">#</a> 2.\u642D\u5EFASpringCloud\u6280\u672F\u6808\u6240\u9700\u7EC4\u4EF6</h1><h2 id="_2-1-\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#_2-1-\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0" aria-hidden="true">#</a> 2.1.\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0</h2><pre><code>\u672C\u7AE0\u8282\u6D89\u53CA\u4E3B\u8981\u5185\u5BB9\u6709\uFF1A
 2.1.\u7AE0\u8282\u5185\u5BB9\u6982\u8FF0
 2.2.\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2
 2.3.\u642D\u5EFAZipkin
 2.4.\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3
 2.5.\u642D\u5EFASeata-Server
\u5177\u4F53\u6BCF\u4E2A\u5C0F\u8282\u4E2D\u5305\u542B\u7684\u5185\u5BB9\u53EF\u4F7F\u901A\u8FC7\u4E0B\u9762\u7684\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2\u8FDB\u884C\u67E5\u770B\u3002
</code></pre><h2 id="_2-2-\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2" tabindex="-1"><a class="header-anchor" href="#_2-2-\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2" aria-hidden="true">#</a> <a href="/enhance/markmap/environment/windows/windows-server2016/chapter/windows-server2016-outline5-chapter2.html" target="_blank">2.2.\u7AE0\u8282\u5185\u5BB9\u5927\u7EB2</a></h2>`,21),q=a(`<h2 id="_2-3-\u642D\u5EFAzipkin" tabindex="-1"><a class="header-anchor" href="#_2-3-\u642D\u5EFAzipkin" aria-hidden="true">#</a> 2.3.\u642D\u5EFAZipkin</h2><pre><code>\u5B89\u88C5jdk
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/windows/windows-server2016/shardings/windows-server2016-chapter-1.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_1-3-\u5B89\u88C5jdk" target="href">\u5B89\u88C5jdk</a></p><pre><code>\u521B\u5EFA\u5B58\u653E\u5B89\u88C5\u5305\u7684\u76EE\u5F55-&gt;\u8FDB\u5165\u8BE5\u76EE\u5F55-&gt;\u4E0B\u8F7Dzipkin-&gt;\u91CD\u547D\u540D-&gt;\u8D4B\u4E88\u8FD0\u884C\u6743\u9650
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mkdir -p /opt/software/springcloud/zipkin &amp;&amp;
cd /opt/software/springcloud/zipkin &amp;&amp;
curl -fL -u springcloud-1661567629477:e7770fbb167089a0ca2df33f8c03fa548c83b4c1 \\
&quot;https://lingwh-generic.pkg.coding.net/coding-drive/springcloud/zipkin-server-2.23.9-exec.jar?version=latest&quot; \\
-o zipkin-server-2.23.9-exec.jar &amp;&amp;
mv zipkin-server-2.23.9-exec.jar zipkin.jar &amp;&amp;
chmod +x zipkin.jar
</code></pre></div><pre><code>\u5982\u6709\u9700\u8981\u5728\u9632\u706B\u5899\u5F00\u653E\u7AEF\u53E3

\u542F\u52A8zipkin
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>java -jar zipkin.jar
</code></pre></div><h2 id="_2-4-\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-4-\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.4.\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h2><h3 id="_2-4-1-apollo\u914D\u7F6E\u4E2D\u5FC3\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_2-4-1-apollo\u914D\u7F6E\u4E2D\u5FC3\u7B80\u4ECB" aria-hidden="true">#</a> 2.4.1.Apollo\u914D\u7F6E\u4E2D\u5FC3\u7B80\u4ECB</h3><pre><code>Apollo(\u963F\u6CE2\u7F57)\u662F\u4E00\u6B3E\u53EF\u9760\u7684\u5206\u5E03\u5F0F\u914D\u7F6E\u7BA1\u7406\u4E2D\u5FC3\uFF0C\u8BDE\u751F\u4E8E\u643A\u7A0B\u6846\u67B6\u7814\u53D1\u90E8\uFF0C\u80FD\u591F\u96C6\u4E2D\u5316\u7BA1\u7406\u5E94\u7528\u4E0D\u540C\u73AF\u5883\u3001\u4E0D\u540C\u96C6\u7FA4\u7684\u914D\u7F6E\uFF0C\u914D\u7F6E\u4FEE\u6539\u540E\u80FD\u591F\u5B9E\u65F6\u63A8\u9001\u5230\u5E94\u7528\u7AEF\uFF0C\u5E76\u4E14\u5177\u5907\u89C4\u8303\u7684\u6743\u9650\u3001\u6D41\u7A0B\u6CBB\u7406\u7B49\u7279\u6027\uFF0C\u9002\u7528\u4E8E\u5FAE\u670D\u52A1\u914D\u7F6E\u7BA1\u7406\u573A\u666F\u3002
</code></pre><p><a href="https://www.apolloconfig.com" target="_blank">\u5B98\u65B9\u7F51\u5740</a></p><div class="language-text ext-text"><pre class="language-text"><code>https://www.apolloconfig.com
</code></pre></div><p><a href="https://github.com/apolloconfig" target="_blank">\u5B98\u65B9\u7F51\u5740(GITHUB)</a></p><div class="language-text ext-text"><pre class="language-text"><code>https://github.com/apolloconfig
</code></pre></div><h3 id="_2-4-2-\u57FA\u4E8Eapollo\u5185\u7F6E\u7684eureka\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-4-2-\u57FA\u4E8Eapollo\u5185\u7F6E\u7684eureka\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.4.2.\u57FA\u4E8EApollo\u5185\u7F6E\u7684Eureka\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h3><h4 id="_2-4-2-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.2.1.\u5355\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-2-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.2.1.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-2-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.2.1.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-2-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.2.1.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
c.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4\uFF1B\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><h5 id="_2-4-2-1-4-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-4-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.2.1.4.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4E00\u4E0B)
apollo2.0.1-built-in-eureka/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar -&gt; apollo-adminservice-2.0.1.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar	-&gt; apollo-configservice-2.0.1.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
</code></pre><h5 id="_2-4-2-1-5-\u521B\u5EFA\u542F\u52A8\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-5-\u521B\u5EFA\u542F\u52A8\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.2.1.5.\u521B\u5EFA\u542F\u52A8\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_built_in_eureka_dev\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E09\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662Fapollo-configservice.log\u3001apollo-adminservice.log\u3001apollo-portal.log(\u6CE8\u610F:\u4E0D\u7528\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6,\u7A0B\u5E8F\u8FD0\u884C\u4F1A\u81EA\u52A8\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6)
</code></pre><h5 id="_2-4-2-1-6-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-6-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.2.1.6.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>set url=&quot;192.168.0.2:3306&quot;
set username=&quot;root&quot;
set password=&quot;123456&quot;

set dev_meta=&quot;http://localhost:8080/&quot;
set portal_port=&quot;8070&quot;

start &quot;configService&quot; java -Dapollo_profile=github  -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-configservice.log -jar .\\apollo-configservice-2.0.1.jar

start &quot;adminService&quot; java -Dapollo_profile=github   -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-adminservice.log -jar .\\apollo-adminservice-2.0.1.jar

start &quot;portal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%dev_meta% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-2-1-7-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-7-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.2.1.7.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:7001/
</code></pre></div><pre><code>\u770B\u5230\u5982\u4E0B\u754C\u9762\u4EE3\u8868apollo\u7684adminservice\u670D\u52A1\u548Cconfigservice\u670D\u52A1\u542F\u52A8\u6210\u529F
</code></pre><img src="`+d+`" width="100%"><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-2-1-8-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-2-1-8-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.2.1.8.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',41),b=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><h4 id="_2-4-2-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.2.2.\u591A\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-2-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.2.2.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-2-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.2.2.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u6CE8\u610F:dev\u548Cpro\u73AF\u5883\u7684configService\u3001adminService\u7528\u5230\u7684\u6570\u636E\u5E93\u9700\u8981\u5206\u522B\u90E8\u7F72,dev\u548Cpro\u73AF\u5883\u7684protal\u53EF\u4EE5\u8FDE\u63A5\u5230\u540C\u4E00\u5957\u6570\u636E\u5E93

\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><pre><code>\u5728192.168.0.3\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-2-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.2.2.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>192.168.0.2
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
c.\u5728apollo2.0.1\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4\uFF1B\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><pre><code>d.\u66F4\u65B0\u6570\u636E\u5E93\u6570\u636E(\u4F7F\u7528Apollo\u5185\u7F6E\u7684Eureka\u4E00\u822C\u4E0D\u7528\u6267\u884C\u8FD9\u4E2A\u64CD\u4F5C,\u9ED8\u8BA4\u5C31\u662F8080Eureka\u670D\u52A1\u5668)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:8080/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>192.168.0.3
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.3\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u547D\u4EE4
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><pre><code>c.\u66F4\u65B0\u6570\u636E\u5E93\u6570\u636E
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:8081/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><h5 id="_2-4-2-2-4-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-4-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.2.2.4.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1-built-in-eureka/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-adminservice-2.0.1-dev.jar
  apollo-adminservice-2.0.1-pro.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar-&gt;-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-configservice-2.0.1-dev.jar
  apollo-configservice-2.0.1-pro.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
\u6CE8\u610F:\u64CD\u4F5C\u5B8C\u6210\u540E\u5171\u5F97\u52305\u4E2Ajar
</code></pre><h5 id="_2-4-2-2-5-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-5-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.2.2.5.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_eureka_built_in_pro\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E94\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662F
apollo-configservice-dev.log\u3001apollo-configservice-pro.log\u3001
apollo-adminservice-dev.log\u3001apollo-adminservice-pro.log\u3001
apollo-portal.log
</code></pre><h5 id="_2-4-2-2-6-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-6-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.2.2.6.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>rem dev\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_dev=&quot;192.168.0.2:3306&quot;
set username_dev=&quot;root&quot;
set password_dev=&quot;123456&quot;
rem dev\u73AF\u5883meta\u5730\u5740
set meta_dev=&quot;http://localhost:8080/&quot;

rem pro\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_pro=&quot;192.168.0.3:3306&quot;
set username_pro=&quot;root&quot;
set password_pro=&quot;123456&quot;
rem pro\u73AF\u5883adminService\u8BBF\u95EE\u7AEF\u53E3
set adminService_port_pro=&quot;8091&quot;
rem pro\u73AF\u5883configService\u8BBF\u95EE\u7AEF\u53E3
set configService_port_pro=&quot;8081&quot;
rem pro\u73AF\u5883meta\u5730\u5740
set meta_pro=&quot;http://localhost:8081/&quot;

rem portal\u7AEF\u53E3
set portal_port=&quot;8070&quot;

rem \u542F\u52A8dev\u73AF\u5883configService
start &quot;configService-dev&quot; java -Dapollo_profile=github -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-configservice-dev.log -jar .\\apollo-configservice-2.0.1-dev.jar
rem \u542F\u52A8dev\u73AF\u5883adminService
start &quot;adminService-dev&quot; java -Dapollo_profile=github  -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-adminservice-dev.log -jar .\\apollo-adminservice-2.0.1-dev.jar
rem \u542F\u52A8pro\u73AF\u5883configService
start &quot;configService-pro&quot; java -Dapollo_profile=github -DServer.port=%configService_port_pro% -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-configservice-pro.log -jar .\\apollo-configservice-2.0.1-pro.jar
rem \u542F\u52A8pro\u73AF\u5883adminService
start &quot;adminService-pro&quot; java -Dapollo_profile=github  -DServer.port=%adminService_port_pro%  -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-adminservice-pro.log -jar .\\apollo-adminservice-2.0.1-pro.jar
rem \u542F\u52A8portal
start &quot;ApolloPortal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%meta_dev% -Dpro_meta=%meta_pro% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-2-2-7-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-7-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.2.2.7.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC31
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC32
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8081/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-2-2-8-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-8-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.2.2.8.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',38),E=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><pre><code>\u521B\u5EFA\u591A\u73AF\u5883
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>apollo.portal.envs
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>value:  dev,pro
</code></pre></div><h5 id="_2-4-2-2-9-\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#_2-4-2-2-9-\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> 2.4.2.2.9.\u6CE8\u610F\u4E8B\u9879</h5><pre><code>a.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684\u6570\u636E\u5E93\u5730\u5740,
\u5373\u9700\u8981\u4E24\u5957Mysql\u73AF\u5883,\u7B2C\u4E00\u5957\u4E2D\u6709apolloconfigdb\u3001apolloportaldb\u4E24\u4E2A\u5E93,\u7B2C\u4E8C\u5957 \u73AF\u5883\u4E2D\u53EA\u6709apolloconfigdb\u8FD9\u4E2A\u5E93
b.\u542F\u52A8dev\u73AF\u5883\u548Cpro\u73AF\u5883\u65F6,\u4E0D\u8981\u518D\u8FD0\u884C\u53C2\u6570\u4E2D\u8986\u76D6eureka\u7684service-url,\u8981\u4FEE\u6539\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E,\u56E0\u4E3A\u8FD9\u4E2A\u914D\u7F6E\u662F\u4ECE\u6570\u636E\u5E93\u4E2D\u83B7\u53D6\u7684,\u5F53\u6570\u636E\u5E93\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u53C2\u6570\u65F6,\u4F7F\u7528\u542F\u52A8\u65F6\u53C2\u6570\u4FEE\u6539\u624D\u6709\u6548
192.168.0.2(\u4F7F\u7528Apollo\u5185\u7F6E\u7684Eureka\u4E00\u822C\u4E0D\u7528\u6267\u884C\u8FD9\u4E2A\u64CD\u4F5C,\u9ED8\u8BA4\u5C31\u662F8080Eureka\u670D\u52A1\u5668)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:8080/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>192.168.0.3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:8081/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>c.\u5982\u679C\u542F\u52A8\u540E\u591A\u73AF\u5883\u73B0\u5B9E\u4E0D\u6B63\u5E38,\u76F4\u63A5\u91CD\u542F\u4E0BPortal,\u518D\u5237\u65B0\u9875\u9762\u5373\u53EF
</code></pre><h4 id="_2-4-2-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_2-4-2-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" aria-hidden="true">#</a> 2.4.2.3.\u5F00\u7BB1\u5373\u7528\u7684Apollo(\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9)</h4><h5 id="_2-4-2-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-2-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.2.3.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1-built-in-eureka.git
</code></pre></div><h5 id="_2-4-2-3-2-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-2-3-2-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.2.3.2.\u83B7\u53D6jar\u5305</h5><pre><code>a.\u6267\u884Capollo2.0.1-built-in-eureka/scripts/build.bat
b.\u5728\u4E0B\u9762\u4E09\u4E2A\u4F4D\u7F6E\u627E\u5230\u7F16\u8BD1\u597D\u7684jar\u5305
apollo2.0.1-built-in-eureka/apollo-adminservice/target
apollo2.0.1-built-in-eureka/apollo-configservice/target
apollo2.0.1-built-in-eureka/apollo-portal/target
</code></pre><h5 id="_2-4-2-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-2-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" aria-hidden="true">#</a> 2.4.2.3.3.\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570</h5><pre><code>\u5728\u542F\u52A8\u811A\u672C\u4E2D\u5BF9\u4F7F\u7528\u5230\u7684\u53C2\u6570\u8FDB\u884C\u8BBE\u7F6E,\u5982-Dserver.port=8888
</code></pre><h3 id="_2-4-3-\u57FA\u4E8E\u72EC\u7ACB\u90E8\u7F72\u7684eureka\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-4-3-\u57FA\u4E8E\u72EC\u7ACB\u90E8\u7F72\u7684eureka\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.4.3.\u57FA\u4E8E\u72EC\u7ACB\u90E8\u7F72\u7684Eureka\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h3><h4 id="_2-4-3-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.3.1.\u5355\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-3-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.3.1.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-3-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.3.1.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-3-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.3.1.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
c.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4\uFF1B\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><pre><code>d.\u6570\u636E\u5E93\u521B\u5EFA\u597D\u4E4B\u540E\u5728ApolloConfigDB\u5E93\u4E2D\u6267\u884C:\u5C06Apollo\u81EA\u5E26\u7684Eureka\u7684\u5730\u5740\u6362\u6210\u5916\u90E8Eureka\u7684\u5730\u5740
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:7001/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><h5 id="_2-4-3-1-4-\u6539\u9020apollo-configservice" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-4-\u6539\u9020apollo-configservice" aria-hidden="true">#</a> 2.4.3.1.4.\u6539\u9020apollo-configservice</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/resources/application.yml
\u6DFB\u52A0\u4E0B\u9762\u914D\u7F6E,\u63A7\u5236\u7A0B\u5E8F \u5173\u95ED\u4F7F\u7528@EnableEurekaServer\u6CE8\u89E3,\u5F00\u542F\u4F7F\u7528@EnableEurekaClient\u6CE8\u89E3
apollo:
eureka:
  server:
  enabled: false
  client:
  enable: true
b.\u521B\u5EFA\u542F\u52A8EurekaClient\u7684\u914D\u7F6E\u7C7B
\u8DEF\u5F84
apollo2.0.1/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaClientConfigure.java
\u4EE3\u7801
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>@Configuration
@EnableEurekaClient
@ConditionalOnProperty(name = &quot;apollo.eureka.client.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)
public class ConfigServerEurekaClientConfigure {
}
</code></pre></div><pre><code>c.\u7ED9pom\u4E2D\u6DFB\u52A0eureka-client\u76F8\u5173\u4F9D\u8D56,\u6CE8\u610F\u7248\u672C\u8BBE\u7F6E\u4E3A\u548C\u5FAE\u670D\u52A1\u5E94\u7528\u4F7F\u7528\u7684Eureka\u4E00\u81F4\u7684\u7248\u672C
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
	&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
	&lt;exclusions&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;
		&lt;/exclusion&gt;
	&lt;/exclusions&gt;
&lt;/dependency&gt;
</code></pre></div><h5 id="_2-4-3-1-5-\u6539\u9020apollo-adminservice" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-5-\u6539\u9020apollo-adminservice" aria-hidden="true">#</a> 2.4.3.1.5.\u6539\u9020apollo-adminservice</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/resources/application.yml
\u6DFB\u52A0\u4E0B\u9762\u914D\u7F6E,\u63A7\u5236\u7A0B\u5E8F \u5173\u95ED\u4F7F\u7528@EnableEurekaServer\u6CE8\u89E3,\u5F00\u542F\u4F7F\u7528@EnableEurekaClient\u6CE8\u89E3
apollo:
eureka:
  server:
  enabled: false
  client:
  enable: true
b.\u521B\u5EFA\u542F\u52A8EurekaClient\u7684\u914D\u7F6E\u7C7B
\u8DEF\u5F84
apollo2.0.1/apollo-adminservice/src/main/java/com/ctrip/framework/apollo/adminservice/ConfigServerEurekaClientConfigure.java
\u4EE3\u7801
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>@Configuration
@EnableEurekaClient
@ConditionalOnProperty(name = &quot;apollo.eureka.client.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)
public class ConfigServerEurekaClientConfigure {
}
</code></pre></div><pre><code>c.\u7ED9pom\u4E2D\u6DFB\u52A0eureka-client\u76F8\u5173\u4F9D\u8D56,\u6CE8\u610F\u7248\u672C\u8BBE\u7F6E\u4E3A\u548C\u5916\u90E8\u4F7F\u7528\u7684Eureka\u4E00\u81F4\u7684\u7248\u672C
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
	&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
	&lt;exclusions&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;
		&lt;/exclusion&gt;
	&lt;/exclusions&gt;
&lt;/dependency&gt;
</code></pre></div><h5 id="_2-4-3-1-6-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-6-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.3.1.6.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar -&gt; apollo-adminservice-2.0.1.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar -&gt; apollo-configservice-2.0.1.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
</code></pre><h5 id="_2-4-3-1-7-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-7-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.3.1.7.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_eureka_dev\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E09\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662Fapollo-configservice.log\u3001apollo-adminservice.log\u3001apollo-portal.log(\u6CE8\u610F:\u4E0D\u7528\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6,\u7A0B\u5E8F\u8FD0\u884C\u4F1A\u81EA\u52A8\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6)
</code></pre><h5 id="_2-4-3-1-8-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-8-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.3.1.8.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>set url=&quot;192.168.0.2:3306&quot;
set username=&quot;root&quot;
set password=&quot;123456&quot;
set defaultZone=&quot;http://localhost:7001/eureka/&quot;

start &quot;configService&quot; java -Dapollo_profile=github -Deureka.client.serviceUrl.defaultZone=%defaultZone%  -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-configservice.log -jar .\\apollo-configservice-2.0.1.jar
start &quot;adminService&quot; java -Dapollo_profile=github -Deureka.client.serviceUrl.defaultZone=%defaultZone%   -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-adminservice.log -jar .\\apollo-adminservice-2.0.1.jar
start &quot;ApolloPortal&quot; java -Dapollo_profile=github,auth -Ddev_meta=http://localhost:8080/ -Dserver.port=8070 -Dspring.datasource.url=jdbc:mysql://%url%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-3-1-9-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-9-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.3.1.9.\u6D4B\u8BD5Apollo</h5><pre><code>\u8BBF\u95EE\u5730\u5740
Eureka\u6CE8\u518C\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-3-1-10-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-3-1-10-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.3.1.10.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',57),A=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><h4 id="_2-4-3-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.3.2.\u591A\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-3-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.3.2.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-3-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.3.2.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u6CE8\u610F:dev\u548Cpro\u73AF\u5883\u7684configService\u3001adminService\u7528\u5230\u7684\u6570\u636E\u5E93\u9700\u8981\u5206\u522B\u90E8\u7F72,dev\u548Cpro\u73AF\u5883\u7684protal\u53EF\u4EE5\u8FDE\u63A5\u5230\u540C\u4E00\u5957\u6570\u636E\u5E93

\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><pre><code>\u5728192.168.0.3\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-3-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.3.2.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>192.168.0.2
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1-eureka/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8054\u8FDE\u63A5\u4FE1\u606F
c.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4,\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><pre><code>d.\u66F4\u65B0\u6570\u636E\u5E93\u6570\u636E
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:7001/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>192.168.0.3
a.\u4FEE\u6539apollo2.0.1-eureka/scripts/flyway/flyway-configdb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4FEE\u6539\u4E3A192.168.0.3\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1-eureka\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u547D\u4EE4
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><pre><code>c.\u66F4\u65B0\u6570\u636E\u5E93\u6570\u636E
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:7002/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><h5 id="_2-4-3-2-4-\u6539\u9020apollo-configservice" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-4-\u6539\u9020apollo-configservice" aria-hidden="true">#</a> 2.4.3.2.4.\u6539\u9020apollo-configservice</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/resources/application.yml
\u6DFB\u52A0\u4E0B\u9762\u914D\u7F6E,\u63A7\u5236\u7A0B\u5E8F \u5173\u95ED\u4F7F\u7528@EnableEurekaServer\u6CE8\u89E3,\u5F00\u542F\u4F7F\u7528@EnableEurekaClient\u6CE8\u89E3
apollo:
eureka:
  server:
  enabled: false
  client:
  enable: true
b.\u521B\u5EFA\u542F\u52A8EurekaClient\u7684\u914D\u7F6E\u7C7B:
\u8DEF\u5F84
apollo2.0.1/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaClientConfigure.java
\u4EE3\u7801
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>@Configuration
@EnableEurekaClient
@ConditionalOnProperty(name = &quot;apollo.eureka.client.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)
public class ConfigServerEurekaClientConfigure {
}
</code></pre></div><pre><code>c.\u7ED9pom\u4E2D\u6DFB\u52A0eureka-client\u76F8\u5173\u4F9D\u8D56,\u6CE8\u610F\u7248\u672C\u8BBE\u7F6E\u4E3A\u548C\u5916\u90E8\u4F7F\u7528\u7684Eureka\u4E00\u81F4\u7684\u7248\u672C
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
	&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
	&lt;exclusions&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;
		&lt;/exclusion&gt;
	&lt;/exclusions&gt;
&lt;/dependency&gt;
</code></pre></div><h5 id="_2-4-3-2-5-\u6539\u9020apollo-adminservice" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-5-\u6539\u9020apollo-adminservice" aria-hidden="true">#</a> 2.4.3.2.5.\u6539\u9020apollo-adminservice</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/resources/application.yml
\u6DFB\u52A0\u4E0B\u9762\u914D\u7F6E,\u63A7\u5236\u7A0B\u5E8F \u5173\u95ED\u4F7F\u7528@EnableEurekaServer\u6CE8\u89E3,\u5F00\u542F\u4F7F\u7528@EnableEurekaClient\u6CE8\u89E3
apollo:
eureka:
  server:
  enabled: false
  client:
  enable: true
b.\u521B\u5EFA\u542F\u52A8EurekaClient\u7684\u914D\u7F6E\u7C7B:
\u8DEF\u5F84
apollo2.0.1/apollo-adminservice/src/main/java/com/ctrip/framework/apollo/adminservice/ConfigServerEurekaClientConfigure.java
\u4EE3\u7801
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>@Configuration
@EnableEurekaClient
@ConditionalOnProperty(name = &quot;apollo.eureka.client.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)
public class ConfigServerEurekaClientConfigure {
}
</code></pre></div><pre><code>c.\u7ED9pom\u4E2D\u6DFB\u52A0eureka-client\u76F8\u5173\u4F9D\u8D56,\u6CE8\u610F\u7248\u672C\u8BBE\u7F6E\u4E3A\u548C\u5916\u90E8\u4F7F\u7528\u7684Eureka\u4E00\u81F4\u7684\u7248\u672C
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
	&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
	&lt;exclusions&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;
		&lt;/exclusion&gt;
		&lt;exclusion&gt;
			&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;
			&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;
		&lt;/exclusion&gt;
	&lt;/exclusions&gt;
&lt;/dependency&gt;
</code></pre></div><h5 id="_2-4-3-2-6-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-6-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.3.2.6.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-adminservice-2.0.1-dev.jar
  apollo-adminservice-2.0.1-pro.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar-&gt;-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-configservice-2.0.1-dev.jar
  apollo-configservice-2.0.1-pro.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
\u6CE8\u610F:\u64CD\u4F5C\u5B8C\u6210\u540E\u5171\u5F97\u52305\u4E2Ajar
</code></pre><h5 id="_2-4-3-2-7-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-7-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.3.2.7.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_eureka_pro\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E94\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662F
apollo-configservice-dev.log\u3001apollo-configservice-pro.log\u3001
apollo-adminservice-dev.log\u3001apollo-adminservice-pro.log\u3001
apollo-portal.log
</code></pre><h5 id="_2-4-3-2-8-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-8-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.3.2.8.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>rem dev\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_dev=&quot;192.168.0.2:3306&quot;
set username_dev=&quot;root&quot;
set password_dev=&quot;123456&quot;
rem dev\u73AF\u5883meta\u5730\u5740
set meta_dev=&quot;http://localhost:8080/&quot;

rem pro\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_pro=&quot;192.168.0.3:3306&quot;
set username_pro=&quot;root&quot;
set password_pro=&quot;123456&quot;
rem pro\u73AF\u5883adminService\u8BBF\u95EE\u7AEF\u53E3
set adminService_port_pro=&quot;8091&quot;
rem pro\u73AF\u5883configService\u8BBF\u95EE\u7AEF\u53E3
set configService_port_pro=&quot;8081&quot;
rem pro\u73AF\u5883meta\u5730\u5740
set meta_pro=&quot;http://localhost:8081/&quot;

rem portal\u7AEF\u53E3
set portal_port=&quot;8070&quot;

rem \u542F\u52A8dev\u73AF\u5883configService
start &quot;configService-dev&quot; java -Dapollo_profile=github -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-configservice-dev.log -jar .\\apollo-configservice-2.0.1-dev.jar
rem \u542F\u52A8dev\u73AF\u5883adminService
start &quot;adminService-dev&quot; java -Dapollo_profile=github  -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-adminservice-dev.log -jar .\\apollo-adminservice-2.0.1-dev.jar
rem \u542F\u52A8pro\u73AF\u5883configService
start &quot;configService-pro&quot; java -Dapollo_profile=github -DServer.port=%configService_port_pro% -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-configservice-pro.log -jar .\\apollo-configservice-2.0.1-pro.jar
rem \u542F\u52A8pro\u73AF\u5883adminService
start &quot;adminService-pro&quot; java -Dapollo_profile=github  -DServer.port=%adminService_port_pro%  -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-adminservice-pro.log -jar .\\apollo-adminservice-2.0.1-pro.jar
rem \u542F\u52A8portal
start &quot;ApolloPortal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%meta_dev% -Dpro_meta=%meta_pro% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-3-2-9-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-9-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.3.2.9.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC31
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:7001/
</code></pre></div><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC32
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:7002/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-3-2-10-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-10-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.3.2.10.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',48),y=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><pre><code>\u521B\u5EFA\u591A\u73AF\u5883
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>apollo.portal.envs
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>value:  dev,pro
</code></pre></div><h5 id="_2-4-3-2-11-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#_2-4-3-2-11-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> 2.4.3.2.11.\u7279\u5225\u6CE8\u610F\u4E8B\u9879</h5><pre><code>a.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684\u6570\u636E\u5E93\u5730\u5740\u5373\u9700\u8981\u4E24\u5957Mysql\u73AF\u5883,\u7B2C\u4E00\u5957\u4E2D\u6709apolloconfigdb\u3001apolloportaldb\u4E24\u4E2A\u5E93,\u7B2C\u4E8C\u5957\u73AF\u5883\u4E2D\u53EA\u6709apolloconfigdb\u8FD9\u4E2A\u5E93
b.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684Eureka\u5730\u5740,\u5373\u9700\u8981\u4E24\u5957Eureka\u73AF\u5883
c.\u542F\u52A8dev\u73AF\u5883\u548Cpro\u73AF\u5883\u65F6,\u4E0D\u8981\u5728jvm\u8FD0\u884C\u53C2\u6570\u4E2D\u8986\u76D6eureka\u7684service-url,\u8981\u4FEE\u6539\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E,\u56E0\u4E3A\u8FD9\u4E2A\u914D\u7F6E\u662F\u4ECE\u6570\u636E\u5E93\u4E2D\u83B7\u53D6\u7684
192.168.0.2
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:7001/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>192.168.0.3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>UPDATE ApolloConfigDB.ServerConfig SET \`Value\` = &quot;http://localhost:7002/eureka/&quot; WHERE \`key\` = &quot;eureka.service.url&quot;;
</code></pre></div><pre><code>\u5F53\u6570\u636E\u5E93\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u53C2\u6570\u65F6,\u4F7F\u7528\u542F\u52A8\u65F6\u53C2\u6570\u4FEE\u6539\u624D\u6709\u6548
d.\u5982\u679C\u542F\u52A8\u540E\u591A\u73AF\u5883\u73B0\u5B9E\u4E0D\u6B63\u5E38,\u76F4\u63A5\u91CD\u542F\u4E0BPortal,\u518D\u5237\u65B0\u9875\u9762\u5373\u53EF
</code></pre><h4 id="_2-4-3-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_2-4-3-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" aria-hidden="true">#</a> 2.4.3.3.\u5F00\u7BB1\u5373\u7528\u7684Apollo(\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9)</h4><h5 id="_2-4-3-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-3-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.3.3.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1-eureka.git
</code></pre></div><h5 id="_2-4-3-3-2-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-3-3-2-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.3.3.2.\u83B7\u53D6jar\u5305</h5><pre><code>a.\u6267\u884Capollo2.0.1-eureka/scripts/build.bat
b.\u5728\u4E0B\u9762\u4E09\u4E2A\u4F4D\u7F6E\u627E\u5230\u7F16\u8BD1\u597D\u7684jar\u5305
apollo2.0.1-eureka/apollo-adminservice/target
apollo2.0.1-eureka/apollo-configservice/target
apollo2.0.1-eureka/apollo-portal/target
</code></pre><h5 id="_2-4-3-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-3-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" aria-hidden="true">#</a> 2.4.3.3.3.\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570</h5><pre><code>\u5728\u542F\u52A8\u811A\u672C\u4E2D\u5BF9\u4F7F\u7528\u5230\u7684\u53C2\u6570\u8FDB\u884C\u8BBE\u7F6E,\u5982-Dserver.port=8888
</code></pre><h3 id="_2-4-4-\u57FA\u4E8Ezookeeper\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-4-4-\u57FA\u4E8Ezookeeper\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.4.4.\u57FA\u4E8EZookeeper\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h3><h4 id="_2-4-4-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.4.1.\u5355\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-4-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.4.1.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-4-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.1.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-4-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.1.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1/scripts/flyway/flyway-portaldb.properties\u4E2D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4,\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
  \u7279\u522B\u6CE8\u610F:\u5982\u679C\u5DF2\u7ECF\u521B\u5EFA\u597D\u4E86\u6570\u636E\u5E93\u73AF\u5883\u8FD9\u4E00\u6B65\u9AA4\u53EF\u4EE5\u7701\u7565
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><h5 id="_2-4-4-1-4-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-4-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" aria-hidden="true">#</a> 2.4.4.1.4.\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4</h5><pre><code>\u4FEE\u6539apollo2.0.1/scripts/build.sh/build.bat\uFF0C\u5C06config-service\u548Cadmin-service\u7684maven\u7F16\u8BD1\u547D\u4EE4\u66F4\u6539\u4E3A
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn clean package -Pgithub -DskipTests -pl apollo-configservice,apollo-adminservice -am -Dapollo_profile=github,zookeeper-discovery -Dspring_datasource_url=$apollo_config_db_url -Dspring_datasource_username=$apollo_config_db_username -Dspring_datasource_password=$apollo_config_db_password
</code></pre></div><h5 id="_2-4-4-1-5-\u51C6\u5907zookeeper\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-5-\u51C6\u5907zookeeper\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.1.5.\u51C6\u5907Zookeeper\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAZookeeper\u73AF\u5883
</code></pre><h5 id="_2-4-4-1-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.4.4.1.6.\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</h5><pre><code>\u5206\u522B\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/config\u548Capollo2.0.1/apollo-adminservice/src/main/config\u5B89\u88C5\u5305\u4E2Dconfig\u76EE\u5F55\u4E0B\u7684application-github.properties\uFF0C\u914D\u7F6Ezookeeper\u8FDE\u63A5\u4FE1\u606F
#\u6CE8\u610F:\u6838\u5FC3\u662F\u5C06spring.cloud.zookeeper.connect-string\u8FD9\u4E2A\u914D\u7F6E\u8FDB\u6765,\u540E\u9762\u7684\u8FDE\u63A5\u4FE1\u606F\u53EF\u4EE5\u5728\u5916\u9762\u76F4\u63A5\u8986\u76D6
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>spring.cloud.zookeeper.connect-string=127.0.0.1:2181
</code></pre></div><h5 id="_2-4-4-1-7-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-7-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.4.1.7.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar -&gt; apollo-adminservice-2.0.1.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar	-&gt; apollo-configservice-2.0.1.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
</code></pre><h5 id="_2-4-4-1-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.4.1.8.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_zookeeper_dev\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E09\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662Fapollo-configservice.log\u3001apollo-adminservice.log\u3001apollo-portal.log(\u6CE8\u610F:\u4E0D\u7528\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6,\u7A0B\u5E8F\u8FD0\u884C\u4F1A\u81EA\u52A8\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6)
</code></pre><h5 id="_2-4-4-1-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.4.1.9.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>set url=&quot;192.168.0.2:3306&quot;
set username=&quot;root&quot;
set password=&quot;123456&quot;
set dev_meta=&quot;http://localhost:8080/&quot;
set portal_port=&quot;8070&quot;
set zookeeper_connect-string=&quot;192.168.0.2:2181&quot;

start &quot;configService&quot; java -Dapollo_profile=github  -Dspring.cloud.zookeeper.connect-string=%zookeeper_connect-string% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-configservice.log -jar .\\apollo-configservice-2.0.1.jar
start &quot;adminService&quot; java -Dapollo_profile=github   -Dspring.cloud.zookeeper.connect-string=%zookeeper_connect-string% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-adminservice.log -jar .\\apollo-adminservice-2.0.1.jar
start &quot;portal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%dev_meta% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-4-1-10-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-10-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.4.1.10.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-4-1-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-4-1-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.4.1.11.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',53),j=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><h4 id="_2-4-4-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.4.2.\u591A\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-4-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.4.2.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-4-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.2.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u6CE8\u610F:dev\u548Cpro\u73AF\u5883\u7684configService\u3001adminService\u7528\u5230\u7684\u6570\u636E\u5E93\u9700\u8981\u5206\u522B\u90E8\u7F72,dev\u548Cpro\u73AF\u5883\u7684protal\u53EF\u4EE5\u8FDE\u63A5\u5230\u540C\u4E00\u5957\u6570\u636E\u5E93

\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><pre><code>\u5728192.168.0.3\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-4-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.2.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>192.168.0.2
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1-zookeeper/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4FEE\u6539\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8054\u8FDE\u63A5\u4FE1\u606F
c.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4\uFF1B\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><pre><code>192.168.0.3
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4FEE\u6539\u4E3A192.168.0.3\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u547D\u4EE4
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><h5 id="_2-4-4-2-4-\u51C6\u5907zookeeper\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-4-\u51C6\u5907zookeeper\u73AF\u5883" aria-hidden="true">#</a> 2.4.4.2.4.\u51C6\u5907Zookeeper\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u3001192.168.0.3\u4E24\u53F0\u673A\u5668\u4E0A\u5206\u522B\u642D\u5EFA\u597DZookeeper\u73AF\u5883
</code></pre><h5 id="_2-4-4-2-5-\u66F4\u6539\u7F16\u8BD1\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-5-\u66F4\u6539\u7F16\u8BD1\u547D\u4EE4" aria-hidden="true">#</a> 2.4.4.2.5.\u66F4\u6539\u7F16\u8BD1\u547D\u4EE4</h5><pre><code>\u4FEE\u6539apollo2.0.1/scripts/build.sh/build.bat\uFF0C\u5C06config-service\u548Cadmin-service\u7684maven\u7F16\u8BD1\u547D\u4EE4\u66F4\u6539\u4E3A
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn clean package -Pgithub -DskipTests -pl apollo-configservice,apollo-adminservice -am -Dapollo_profile=github,zookeeper-discovery -Dspring_datasource_url=$apollo_config_db_url -Dspring_datasource_username=$apollo_config_db_username -Dspring_datasource_password=$apollo_config_db_password
</code></pre></div><h5 id="_2-4-4-2-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.4.4.2.6.\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</h5><pre><code>\u5206\u522B\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/config\u548Capollo2.0.1/apollo-adminservice/src/main/config\u5B89\u88C5\u5305\u4E2Dconfig\u76EE\u5F55\u4E0B\u7684application-github.properties,\u914D\u7F6Ezookeeper\u670D\u52A1\u5668\u5730\u5740
#\u6CE8\u610F:\u6838\u5FC3\u662F\u5C06spring.cloud.zookeeper.connect-string\u8FD9\u4E2A\u914D\u7F6E\u8FDB\u6765,\u540E\u9762\u7684\u8FDE\u63A5\u4FE1\u606F\u53EF\u4EE5\u5728\u5916\u9762\u76F4\u63A5\u8986\u76D6
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>spring.cloud.zookeeper.connect-string=127.0.0.1:2181
</code></pre></div><h5 id="_2-4-4-2-7-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-7-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.4.2.7.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-adminservice-2.0.1-dev.jar
  apollo-adminservice-2.0.1-pro.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar-&gt;-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-configservice-2.0.1-dev.jar
  apollo-configservice-2.0.1-pro.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
\u6CE8\u610F:\u64CD\u4F5C\u5B8C\u6210\u540E\u5171\u5F97\u52305\u4E2Ajar
</code></pre><h5 id="_2-4-4-2-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.4.2.8.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_zookeeper_pro\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E94\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662F
apollo-configservice-dev.log\u3001apollo-configservice-pro.log\u3001
apollo-adminservice-dev.log\u3001apollo-adminservice-pro.log\u3001
apollo-portal.log
</code></pre><h5 id="_2-4-4-2-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.4.2.9.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>#dev\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_dev=&quot;192.168.0.2:3306&quot;
set username_dev=&quot;root&quot;
set password_dev=&quot;123456&quot;
#dev\u73AF\u5883meta\u5730\u5740
set meta_dev=&quot;http://localhost:8080/&quot;
#dev\u73AF\u5883zookeeper\u5730\u5740
set zookeeper_dev=&quot;192.168.0.2:2181&quot;

#pro\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_pro=&quot;192.168.0.3:3306&quot;
set username_pro=&quot;root&quot;
set password_pro=&quot;123456&quot;
#pro\u73AF\u5883adminService\u8BBF\u95EE\u7AEF\u53E3
set adminService_port_pro=&quot;8091&quot;
#pro\u73AF\u5883configService\u8BBF\u95EE\u7AEF\u53E3
set configService_port_pro=&quot;8081&quot;
#pro\u73AF\u5883meta\u5730\u5740
set meta_pro=&quot;http://localhost:8081/&quot;
#pro\u73AF\u5883zookeeper\u5730\u5740
set zookeeper_pro=&quot;192.168.0.3:2181&quot;

#portal\u7AEF\u53E3
set portal_port=&quot;8070&quot;

#\u542F\u52A8dev\u73AF\u5883configService
start &quot;configService-dev&quot; java -Dapollo_profile=github -Dspring.cloud.zookeeper.connect-string=%zookeeper_dev% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-configservice-dev.log -jar .\\apollo-configservice-2.0.1-dev.jar
#\u542F\u52A8dev\u73AF\u5883adminService
start &quot;adminService-dev&quot; java -Dapollo_profile=github -Dspring.cloud.zookeeper.connect-string=%zookeeper_dev% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-adminservice-dev.log -jar .\\apollo-adminservice-2.0.1-dev.jar
#\u542F\u52A8pro\u73AF\u5883configService
start &quot;configService-pro&quot; java -Dapollo_profile=github -Dspring.cloud.zookeeper.connect-string=%zookeeper_pro% -DServer.port=%configService_port_pro% -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-configservice-pro.log -jar .\\apollo-configservice-2.0.1-pro.jar
#\u542F\u52A8pro\u73AF\u5883adminService
start &quot;adminService-pro&quot; java -Dapollo_profile=github  -Dspring.cloud.zookeeper.connect-string=%zookeeper_pro% -DServer.port=%adminService_port_pro%  -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-adminservice-pro.log -jar .\\apollo-adminservice-2.0.1-pro.jar
#\u542F\u52A8portal
start &quot;ApolloPortal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%meta_dev% -Dpro_meta=%meta_pro% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-4-2-10-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-10-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.4.2.10.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC31
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC32
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8081/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-4-2-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.4.2.11.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',42),k=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><pre><code>\u521B\u5EFA\u591A\u73AF\u5883
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>apollo.portal.envs
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>value:  dev,pro
</code></pre></div><h5 id="_2-4-4-2-12-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#_2-4-4-2-12-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> 2.4.4.2.12.\u7279\u5225\u6CE8\u610F\u4E8B\u9879</h5><pre><code>a.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684\u6570\u636E\u5E93\u5730\u5740\u5373\u9700\u8981\u4E24\u5957Mysql\u73AF\u5883,\u7B2C\u4E00\u5957\u4E2D\u6709apolloconfigdb\u3001apolloportaldb\u4E24\u4E2A\u5E93,\u7B2C\u4E8C\u5957\u73AF\u5883\u4E2D\u53EA\u6709apolloconfigdb\u8FD9\u4E2A\u5E93
b.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684Zookeeper\u5730\u5740,\u5373\u9700\u8981\u4E24\u5957Zookeeper\u73AF\u5883
c.\u5982\u679C\u542F\u52A8\u540E\u591A\u73AF\u5883\u73B0\u5B9E\u4E0D\u6B63\u5E38,\u76F4\u63A5\u91CD\u542F\u4E0BPortal,\u518D\u5237\u65B0\u9875\u9762\u5373\u53EF
</code></pre><h4 id="_2-4-4-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_2-4-4-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" aria-hidden="true">#</a> 2.4.4.3.\u5F00\u7BB1\u5373\u7528\u7684Apollo(\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9)</h4><h5 id="_2-4-4-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-4-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.4.3.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1-zookeeper.git
</code></pre></div><h5 id="_2-4-4-3-2-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-4-3-2-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.4.3.2.\u83B7\u53D6jar\u5305</h5><pre><code>a.\u6267\u884Capollo2.0.1-zookeeper/scripts/build.bat
b.\u5728\u4E0B\u9762\u4E09\u4E2A\u4F4D\u7F6E\u627E\u5230\u7F16\u8BD1\u597D\u7684jar\u5305
apollo2.0.1-zookeeper/apollo-adminservice/target
apollo2.0.1-zookeeper/apollo-configservice/target
apollo2.0.1-zookeeper/apollo-portal/target
</code></pre><h5 id="_2-4-4-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-4-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" aria-hidden="true">#</a> 2.4.4.3.3.\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570</h5><pre><code>\u5728\u542F\u52A8\u811A\u672C\u4E2D\u5BF9\u4F7F\u7528\u5230\u7684\u53C2\u6570\u8FDB\u884C\u8BBE\u7F6E,\u5982-Dserver.port=8888
</code></pre><h3 id="_2-4-5-\u57FA\u4E8Econsul\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-4-5-\u57FA\u4E8Econsul\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.4.5.\u57FA\u4E8EConsul\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h3><h4 id="_2-4-5-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-\u5355\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.5.1.\u5355\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-5-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.5.1.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-5-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.1.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-5-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.1.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1/scripts/flyway/flyway-portaldb.properties\u4E2D\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4,\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><h5 id="_2-4-5-1-4-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-4-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" aria-hidden="true">#</a> 2.4.5.1.4.\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4</h5><pre><code>\u4FEE\u6539apollo2.0.1/scripts/build.sh/build.bat,\u5C06config-service\u548Cadmin-service\u7684maven\u7F16\u8BD1\u547D\u4EE4\u66F4\u6539\u4E3A
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn clean package -Pgithub -DskipTests -pl apollo-configservice,apollo-adminservice -am -Dapollo_profile=github,consul-discovery -Dspring_datasource_url=$apollo_config_db_url -Dspring_datasource_username=$apollo_config_db_username -Dspring_datasource_password=$apollo_config_db_password
</code></pre></div><h5 id="_2-4-5-1-5-\u51C6\u5907consul\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-5-\u51C6\u5907consul\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.1.5.\u51C6\u5907Consul\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u4E0A\u642D\u5EFAConsul\u73AF\u5883
</code></pre><h5 id="_2-4-5-1-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-6-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.4.5.1.6.\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</h5><pre><code>\u5206\u522B\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/config\u548Capollo2.0.1/apollo-adminservice/src/main/config\u5B89\u88C5\u5305\u4E2Dconfig\u76EE\u5F55\u4E0B\u7684application-github.properties\uFF0C\u914D\u7F6Econsul\u8FDE\u63A5\u4FE1\u606F
#\u6CE8\u610F:\u6838\u5FC3\u662F\u5C06spring.cloud.consul.host\u548Cspring.cloud.consul.port\u8FD9\u4E24\u4E2A\u914D\u7F6E\u52A0\u8FDB\u6765,\u540E\u9762\u7684\u8FDE\u63A5\u4FE1\u606F\u53EF\u4EE5\u5728\u5916\u9762\u76F4\u63A5\u8986\u76D6
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>spring.cloud.consul.host=127.0.0.1
spring.cloud.consul.port=8500
</code></pre></div><h5 id="_2-4-5-1-7-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-7-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.5.1.7.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar -&gt; apollo-adminservice-2.0.1.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar -&gt; apollo-configservice-2.0.1.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
</code></pre><h5 id="_2-4-5-1-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.5.1.8.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_consul_dev\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E09\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662Fapollo-configservice.log\u3001apollo-adminservice.log\u3001apollo-portal.log(\u6CE8\u610F:\u4E0D\u7528\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6,\u7A0B\u5E8F\u8FD0\u884C\u4F1A\u81EA\u52A8\u521B\u5EFA\u8FD9\u4E09\u4E2A\u6587\u4EF6)
</code></pre><h5 id="_2-4-5-1-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.5.1.9.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E09\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>set url=&quot;192.168.0.2:3306&quot;
set username=&quot;root&quot;
set password=&quot;123456&quot;
set dev_meta=&quot;http://localhost:8080/&quot;
set portal_port=&quot;8070&quot;
set consul_host=&quot;192.168.0.2&quot;

start &quot;configService&quot; java -Dapollo_profile=github   -Dspring.cloud.consul.host=%consul_host% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-configservice.log -jar .\\apollo-configservice-2.0.1.jar
start &quot;adminService&quot; java -Dapollo_profile=github    -Dspring.cloud.consul.host=%consul_host% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-adminservice.log -jar .\\apollo-adminservice-2.0.1.jar
start &quot;portal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%dev_meta% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username% -Dspring.datasource.password=%password% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-5-1-10-\u8BBF\u95EE\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-10-\u8BBF\u95EE\u5730\u5740" aria-hidden="true">#</a> 2.4.5.1.10.\u8BBF\u95EE\u5730\u5740</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-5-1-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-5-1-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.5.1.11.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',49),w=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><h4 id="_2-4-5-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-\u591A\u73AF\u5883\u7248-\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 2.4.5.2.\u591A\u73AF\u5883\u7248(\u5305\u542B\u5B8C\u6574\u7F16\u8BD1\u8FC7\u7A0B)</h4><h5 id="_2-4-5-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.5.2.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1.git
</code></pre></div><h5 id="_2-4-5-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-2-\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.2.2.\u51C6\u5907\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>\u6CE8\u610F:dev\u548Cpro\u73AF\u5883\u7684configService\u3001adminService\u7528\u5230\u7684\u6570\u636E\u5E93\u9700\u8981\u5206\u522B\u90E8\u7F72,dev\u548Cpro\u73AF\u5883\u7684protal\u53EF\u4EE5\u8FDE\u63A5\u5230\u540C\u4E00\u5957\u6570\u636E\u5E93

\u5728192.168.0.2\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><pre><code>\u5728192.168.0.3\u4E0A\u642D\u5EFAMysql\u6570\u636E\u5E93
</code></pre><p>\u8BE6\u7EC6\u53C2\u8003-&gt; <a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-3.\u642D\u5EFA\u57FA\u7840\u5F00\u53D1\u73AF\u5883.html#_3-5-\u5B89\u88C5mysql" target="_blank">\u5B89\u88C5mysql(8.x\u7248\u672C)</a></p><h5 id="_2-4-5-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-3-\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.2.3.\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883</h5><pre><code>192.168.0.2
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u548Capollo2.0.1-zookeeper/scripts/flyway/flyway-portaldb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4FEE\u6539\u4E3A192.168.0.2\u76F8\u5173\u914D\u7F6E
b.\u4FEE\u6539apollo2.0.1/scripts/build.bat\u4E2D\u7684\u6570\u636E\u5E93\u8054\u8FDE\u63A5\u4FE1\u606F
c.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u4E24\u4E2A\u547D\u4EE4\uFF1B\u76EE\u7684\u662F\u4F7F\u7528flyway\u811A\u672C\u81EA\u52A8\u521B\u5EFA\u6570\u636E\u5E93\u73AF\u5883
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pportaldb flyway:migrate
</code></pre></div><pre><code>192.168.0.3
a.\u4FEE\u6539apollo2.0.1/scripts/flyway/flyway-configdb.properties\u4E2D\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F\u4FEE\u6539\u4E3A192.168.0.3\u76F8\u5173\u914D\u7F6E
b.\u5728apollo2.0.1\u6587\u4EF6\u5939\u4E0B\u6267\u884C\u5982\u4E0B\u547D\u4EE4
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn -N -Pconfigdb flyway:migrate
</code></pre></div><h5 id="_2-4-5-2-4-\u51C6\u5907consul\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-4-\u51C6\u5907consul\u73AF\u5883" aria-hidden="true">#</a> 2.4.5.2.4.\u51C6\u5907Consul\u73AF\u5883</h5><pre><code>\u5728192.168.0.2\u3001192.168.0.3\u4E24\u53F0\u673A\u5668\u4E0A\u5206\u522B\u642D\u5EFA\u597DConsul\u73AF\u5883
</code></pre><h5 id="_2-4-5-2-5-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-5-\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4" aria-hidden="true">#</a> 2.4.5.2.5.\u4FEE\u6539\u7F16\u8BD1\u547D\u4EE4</h5><pre><code>\u4FEE\u6539apollo2.0.1-consul/scripts/build.sh/build.bat\uFF0C\u5C06config-service\u548Cadmin-service\u7684maven\u7F16\u8BD1\u547D\u4EE4\u66F4\u6539\u4E3A
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>mvn clean package -Pgithub -DskipTests -pl apollo-configservice,apollo-adminservice -am -Dapollo_profile=github,consul-discovery -Dspring_datasource_url=$apollo_config_db_url -Dspring_datasource_username=$apollo_config_db_username -Dspring_datasource_password=$apollo_config_db_password
</code></pre></div><h5 id="_2-4-5-2-6-\u4FEE\u6539\u914D\u7F6E\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-6-\u4FEE\u6539\u914D\u7F6E\u4FE1\u606F" aria-hidden="true">#</a> 2.4.5.2.6.\u4FEE\u6539\u914D\u7F6E\u4FE1\u606F</h5><pre><code>\u5206\u522B\u4FEE\u6539apollo2.0.1/apollo-configservice/src/main/config\u548Capollo2.0.1/apollo-adminservice/src/main/config\u5B89\u88C5\u5305\u4E2Dconfig\u76EE\u5F55\u4E0B\u7684application-github.properties\uFF0C\u914D\u7F6E\u94FE\u63A5\u4FE1\u606F
#\u6CE8\u610F:\u6838\u5FC3\u662F\u5C06spring.cloud.consul.host\u548Cspring.cloud.consul.port\u8FD9\u4E24\u4E2A\u914D\u7F6E\u52A0\u8FDB\u6765,\u540E\u9762\u7684\u8FDE\u63A5\u4FE1\u606F\u53EF\u4EE5\u5728\u5916\u9762\u76F4\u63A5\u8986\u76D6
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>spring.cloud.consul.host=127.0.0.1
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>spring.cloud.consul.port=8500
</code></pre></div><h5 id="_2-4-5-2-7-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-7-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.5.2.7.\u83B7\u53D6jar\u5305</h5><pre><code>\u6267\u884Capollo2.0.1/scripts/build.bat,\u6267\u884C\u5B8C\u6210\u540E\u53EF\u4EE5\u5F97\u5230\u4E0B\u9762\u4E09\u4E2Ajar\u5305(\u6700\u597D\u662F\u91CD\u547D\u540D\u4EE5\u4E0B)
apollo2.0.1/apollo-adminservice/target/apollo-adminservice-2.0.1-SNAPSHOT.jar-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-adminservice-2.0.1-dev.jar
  apollo-adminservice-2.0.1-pro.jar
apollo2.0.1/apollo-configservice/target/apollo-configservice-2.0.1-SNAPSHOT.jar-&gt;-&gt;\u590D\u5236\u4E00\u4EFD\u5206\u522B\u547D\u540D\u4E3A
  apollo-configservice-2.0.1-dev.jar
  apollo-configservice-2.0.1-pro.jar
apollo2.0.1/apollo-portal/target/apollo-portal-2.0.1-SNAPSHOT.jar -&gt; apollo-portal-2.0.1.jar
\u6CE8\u610F:\u64CD\u4F5C\u5B8C\u6210\u540E\u5171\u5F97\u52305\u4E2Ajar
</code></pre><h5 id="_2-4-5-2-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-8-\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939" aria-hidden="true">#</a> 2.4.5.2.8.\u521B\u5EFA\u8FD0\u884C\u6587\u4EF6\u5939</h5><pre><code>a.\u521B\u5EFA\u540D\u79F0\u4E3AApollo2.0.1_consul_pro\u7684\u6587\u4EF6\u5939(\u7248\u672C\u53F7\u4EE5\u5B9E\u9645\u4E3A\u51C6)
b.\u628A\u4E94\u4E2Ajar\u5305\u653E\u5165\u6587\u4EF6\u5939\u4E2D
c.\u521B\u5EFA\u4E00\u4E2Alogs\u6587\u4EF6\u5939,\u91CC\u9762\u5B58\u653E\u65E5\u5FD7\u6587\u4EF6,\u65E5\u5FD7\u6587\u4EF6\u540D\u79F0\u5206\u522B\u662F
  apollo-configservice-dev.log\u3001apollo-configservice-pro.log\u3001
  apollo-adminservice-dev.log\u3001apollo-adminservice-pro.log\u3001
  apollo-portal.log
</code></pre><h5 id="_2-4-5-2-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-9-\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C" aria-hidden="true">#</a> 2.4.5.2.9.\u7F16\u5199\u4E00\u6B21\u542F\u52A8\u4E94\u4E2Ajar\u7684bat\u811A\u672C</h5><div class="language-text ext-text"><pre class="language-text"><code>#dev\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_dev=&quot;192.168.0.2:3306&quot;
set username_dev=&quot;root&quot;
set password_dev=&quot;123456&quot;
#dev\u73AF\u5883meta\u5730\u5740
set meta_dev=&quot;http://localhost:8080/&quot;
#dev\u73AF\u5883Consul\u8FDE\u63A5\u5730\u5740
set consul_host_dev=&quot;192.168.0.2&quot;

#pro\u73AF\u5883\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
set url_pro=&quot;192.168.0.3:3306&quot;
set username_pro=&quot;root&quot;
set password_pro=&quot;123456&quot;
#pro\u73AF\u5883adminService\u8BBF\u95EE\u7AEF\u53E3
set adminService_port_pro=&quot;8091&quot;
#pro\u73AF\u5883configService\u8BBF\u95EE\u7AEF\u53E3
set configService_port_pro=&quot;8081&quot;
#pro\u73AF\u5883meta\u5730\u5740
set meta_pro=&quot;http://localhost:8081/&quot;
#dev\u73AF\u5883Consul\u8FDE\u63A5\u5730\u5740
set consul_host_pro=&quot;192.168.0.3&quot;

#portal\u7AEF\u53E3
set portal_port=&quot;8070&quot;

#\u542F\u52A8dev\u73AF\u5883configService
start &quot;configService-dev&quot; java -Dapollo_profile=github -Dspring.cloud.consul.host=%consul_host_dev% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-configservice-dev.log -jar .\\apollo-configservice-2.0.1-dev.jar
#\u542F\u52A8dev\u73AF\u5883adminService
start &quot;adminService-dev&quot; java -Dapollo_profile=github -Dspring.cloud.consul.host=%consul_host_dev% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-adminservice-dev.log -jar .\\apollo-adminservice-2.0.1-dev.jar
#\u542F\u52A8pro\u73AF\u5883configService
start &quot;configService-pro&quot; java -Dapollo_profile=github -Dspring.cloud.consul.host=%consul_host_pro% -DServer.port=%configService_port_pro% -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-configservice-pro.log -jar .\\apollo-configservice-2.0.1-pro.jar
#\u542F\u52A8pro\u73AF\u5883adminService
start &quot;adminService-pro&quot; java -Dapollo_profile=github  -Dspring.cloud.consul.host=%consul_host_pro% -DServer.port=%adminService_port_pro%  -Dspring.datasource.url=jdbc:mysql://%url_pro%/ApolloConfigDB?characterEncoding=utf8 -Dspring.datasource.username=%username_pro% -Dspring.datasource.password=%password_pro% -Dlogging.file.name=.\\logs\\apollo-adminservice-pro.log -jar .\\apollo-adminservice-2.0.1-pro.jar
#\u542F\u52A8portal
start &quot;ApolloPortal&quot; java -Dapollo_profile=github,auth -Ddev_meta=%meta_dev% -Dpro_meta=%meta_pro% -Dserver.port=%portal_port% -Dspring.datasource.url=jdbc:mysql://%url_dev%/ApolloPortalDB?characterEncoding=utf8 -Dspring.datasource.username=%username_dev% -Dspring.datasource.password=%password_dev% -Dlogging.file.name=.\\logs\\apollo-portal.log -jar .\\apollo-portal-2.0.1.jar
</code></pre></div><h5 id="_2-4-5-2-10-\u6D4B\u8BD5apollo" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-10-\u6D4B\u8BD5apollo" aria-hidden="true">#</a> 2.4.5.2.10.\u6D4B\u8BD5Apollo</h5><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC31
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8080/
</code></pre></div><pre><code>Eureka\u6CE8\u518C\u4E2D\u5FC32
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8081/
</code></pre></div><pre><code>Apollo\u914D\u7F6E\u4E2D\u5FC3
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>http://localhost:8070/
</code></pre></div><img src="`+r+'" width="100%"> \u767B\u5F55\u7528\u6237\u540D/\u5BC6\u7801: apollo/admin <h5 id="_2-4-5-2-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-11-\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570" aria-hidden="true">#</a> 2.4.5.2.11.\u6DFB\u52A0\u7CFB\u7EDF\u53C2\u6570</h5>',43),D=a(`<pre><code>\u6DFB\u52A0\u65B0\u90E8\u95E8
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>organizations
</code></pre></div><pre><code>value
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>[{&quot;orgId&quot;:&quot;TEST1&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E81&quot;},{&quot;orgId&quot;:&quot;TEST2&quot;,&quot;orgName&quot;:&quot;\u6837\u4F8B\u90E8\u95E82&quot;},{&quot;orgId&quot;:&quot;micro_service&quot;,&quot;orgName&quot;:&quot;\u5FAE\u670D\u52A1\u90E8\u95E8&quot;}]
</code></pre></div><pre><code>\u521B\u5EFA\u591A\u73AF\u5883
key
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>apollo.portal.envs
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>value:  dev,pro
</code></pre></div><h5 id="_2-4-5-2-12-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#_2-4-5-2-12-\u7279\u5225\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> 2.4.5.2.12.\u7279\u5225\u6CE8\u610F\u4E8B\u9879</h5><pre><code>a.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684\u6570\u636E\u5E93\u5730\u5740\u5373\u9700\u8981\u4E24\u5957Mysql\u73AF\u5883,\u7B2C\u4E00\u5957\u4E2D\u6709apolloconfigdb\u3001apolloportaldb\u4E24\u4E2A\u5E93,\u7B2C\u4E8C\u5957\u73AF\u5883\u4E2D\u53EA\u6709apolloconfigdb\u8FD9\u4E2A\u5E93
b.dev\u73AF\u5883\u548Cpro\u73AF\u5883\u9700\u8981\u4E0D\u540C\u7684Consul\u5730\u5740,\u5373\u9700\u8981\u4E24\u5957Consul\u73AF\u5883
c.\u5982\u679C\u542F\u52A8\u540E\u591A\u73AF\u5883\u73B0\u5B9E\u4E0D\u6B63\u5E38,\u76F4\u63A5\u91CD\u542F\u4E0BPortal,\u518D\u5237\u65B0\u9875\u9762\u5373\u53EF
</code></pre><h4 id="_2-4-5-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_2-4-5-3-\u5F00\u7BB1\u5373\u7528\u7684apollo-\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9" aria-hidden="true">#</a> 2.4.5.3.\u5F00\u7BB1\u5373\u7528\u7684Apollo(\u5DF2\u7ECF\u4FEE\u6539\u597D\u4E86\u9700\u8981\u4FEE\u6539\u7684\u5185\u5BB9)</h4><h5 id="_2-4-5-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_2-4-5-3-1-\u4E0B\u8F7D\u5DE5\u7A0B-\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56" aria-hidden="true">#</a> 2.4.5.3.1.\u4E0B\u8F7D\u5DE5\u7A0B,\u5E76\u5728\u672C\u5730\u5B89\u88C5\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56</h5><div class="language-text ext-text"><pre class="language-text"><code>https://gitee.com/lingwh1995/apollo2.0.1-consul.git
</code></pre></div><h5 id="_2-4-5-3-2-\u83B7\u53D6jar\u5305" tabindex="-1"><a class="header-anchor" href="#_2-4-5-3-2-\u83B7\u53D6jar\u5305" aria-hidden="true">#</a> 2.4.5.3.2.\u83B7\u53D6jar\u5305</h5><pre><code>a.\u6267\u884Capollo2.0.1-consul/scripts/build.bat
b.\u5728\u4E0B\u9762\u4E09\u4E2A\u4F4D\u7F6E\u627E\u5230\u7F16\u8BD1\u597D\u7684jar\u5305
apollo2.0.1-consul/apollo-adminservice/target
apollo2.0.1-consul/apollo-configservice/target
apollo2.0.1-consul/apollo-portal/target
</code></pre><h5 id="_2-4-5-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_2-4-5-3-3-\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570" aria-hidden="true">#</a> 2.4.5.3.3.\u5982\u4F55\u4FEE\u6539\u4F7F\u7528\u5230\u7684\u53C2\u6570</h5><pre><code>\u5728\u542F\u52A8\u811A\u672C\u4E2D\u5BF9\u4F7F\u7528\u5230\u7684\u53C2\u6570\u8FDB\u884C\u8BBE\u7F6E,\u5982-Dserver.port=8888
</code></pre><h2 id="_2-5-\u642D\u5EFAseata-server" tabindex="-1"><a class="header-anchor" href="#_2-5-\u642D\u5EFAseata-server" aria-hidden="true">#</a> 2.5.\u642D\u5EFASeata-Server</h2><h3 id="_2-5-1-seata\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_2-5-1-seata\u7B80\u4ECB" aria-hidden="true">#</a> 2.5.1.Seata\u7B80\u4ECB</h3><pre><code>Seata\u662F\u4E00\u6B3E\u5F00\u6E90\u7684\u5206\u5E03\u5F0F\u4E8B\u52A1\u89E3\u51B3\u65B9\u6848,\u81F4\u529B\u4E8E\u63D0\u4F9B\u9AD8\u6027\u80FD\u548C\u7B80\u5355\u6613\u7528\u7684\u5206\u5E03\u5F0F\u4E8B\u52A1\u670D\u52A1\u3002Seata\u5C06\u4E3A\u7528\u6237\u63D0\u4F9B\u4E86 AT\u3001TCC\u3001SAGA \u548C XA \u4E8B\u52A1\u6A21\u5F0F,\u4E3A\u7528\u6237\u6253\u9020\u4E00\u7AD9\u5F0F\u7684\u5206\u5E03\u5F0F\u89E3\u51B3\u65B9\u6848\u3002\u672C\u5730\u4E8B\u52A1\u548Cseata\u4E8B\u52A1\u7684\u533A\u522B:\u672C\u5730\u4E8B\u52A1\u53EA\u53EF\u4EE5\u5728\u540C\u4E00\u53F0\u673A\u5668\u7684\u540C\u4E00\u4E2Amysql\u4E2D\u8FDB\u884C\u64CD\u4F5C,seata\u4E8B\u52A1\u53EF\u4EE5\u8DE8\u673A\u5668\u8FDB\u884C\u4E8B\u52A1\u63A7\u5236
</code></pre><p><a href="https://seata.io/zh-cn/" target="_blank">\u5B98\u65B9\u7F51\u5740</a></p><div class="language-text ext-text"><pre class="language-text"><code>https://seata.io/zh-cn/
</code></pre></div><p><a href="https://github.com/seata/seata" target="_blank">\u5B98\u65B9\u7F51\u5740(GITHUB)</a></p><div class="language-text ext-text"><pre class="language-text"><code>https://github.com/seata/seata
</code></pre></div><h3 id="_2-5-2-\u57FA\u4E8Eeureka-apollo\u642D\u5EFAseata-server" tabindex="-1"><a class="header-anchor" href="#_2-5-2-\u57FA\u4E8Eeureka-apollo\u642D\u5EFAseata-server" aria-hidden="true">#</a> 2.5.2.\u57FA\u4E8EEureka+Apollo\u642D\u5EFASeata-Server</h3><h4 id="_2-5-2-1-\u5355\u8282\u70B9\u7248" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-\u5355\u8282\u70B9\u7248" aria-hidden="true">#</a> 2.5.2.1.\u5355\u8282\u70B9\u7248</h4><h5 id="_2-5-2-1-1-\u5355\u8282\u70B9\u7248\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-1-\u5355\u8282\u70B9\u7248\u8BF4\u660E" aria-hidden="true">#</a> 2.5.2.1.1.\u5355\u8282\u70B9\u7248\u8BF4\u660E</h5><pre><code>\u4F7F\u7528eureka\u4F5C\u4E3A\u6CE8\u518C\u4E2D\u5FC3+\u4F7F\u7528apollo\u4F5C\u4E3A\u914D\u7F6E\u4E2D\u5FC3,seata-server\u7248\u672C\u4E3A1.4.2
</code></pre><h5 id="_2-5-2-1-2-\u4E0B\u8F7Dseata-server1-4-2" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-2-\u4E0B\u8F7Dseata-server1-4-2" aria-hidden="true">#</a> 2.5.2.1.2.\u4E0B\u8F7DSeata Server1.4.2</h5><pre><code>\u4E0B\u8F7DSeata-Server1.4.2
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u springcloud-1661828979817:5cc2489844765586c2032bafa6645a14921e4490 &quot;https://lingwh-generic.pkg.coding.net/coding-drive/springcloud/seata-server-1.4.2.zip?version=latest&quot; -o seata-server-1.4.2.zip
</code></pre></div><pre><code>\u4E0B\u8F7DSeata Server1.4.2\u6E90\u7801
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>curl -fL -u springcloud-1661829596333:f1e93d0e10c21c3e5cfd51b22a35fa8ee3fc79b9 &quot;https://lingwh-generic.pkg.coding.net/coding-drive/springcloud/seata-source_1.4.2.zip?version=latest&quot; -o seata-source_1.4.2.zip
</code></pre></div><h5 id="_2-5-2-1-3-\u4FEE\u6539\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-3-\u4FEE\u6539\u914D\u7F6E" aria-hidden="true">#</a> 2.5.2.1.3.\u4FEE\u6539\u914D\u7F6E</h5><pre><code>\u4FEE\u6539seata-server-1.4.2\\conf\\registry.conf
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>registry {
	# \u4F7F\u7528\u4EC0\u4E48\u4F5C\u4E3A\u6CE8\u518C\u4E2D\u5FC3\uFF1Afile \u3001nacos \u3001eureka\u3001redis\u3001zk\u3001consul\u3001etcd3\u3001sofa
	type = &quot;eureka&quot;

	eureka {
	serviceUrl = &quot;http://localhost:7001/eureka&quot;
	application = &quot;seata-server&quot;
	weight = &quot;1&quot;
	}
}
config {
	# \u4F7F\u7528\u4EC0\u4E48\u4F5C\u4E3A\u914D\u7F6E\u4E2D\u5FC3\uFF1Afile\u3001nacos \u3001apollo\u3001zk\u3001consul\u3001etcd3
	type = &quot;apollo&quot;

	apollo {
	seata = &quot;default&quot;  # \u6CE8\u610F\uFF1A1.4.2 \u8FD9\u91CC\u8981\u65B0\u589E\u4E00\u4E2A seata \u4E0E cluster \u4E00\u6837\uFF0C\u5426\u5219\u4F1A\u51FA\u73B0\u542F\u52A8\u7A7A\u6307\u9488
	cluster = &quot;default&quot;
	appId = &quot;springcloud-eureka-seata&quot;
	## apolloConfigService will cover apolloMeta
	apolloMeta = &quot;http://localhost:8080/&quot;
	apolloConfigService = &quot;http://localhost:8080/&quot;
	namespace = &quot;seata-server&quot;
	apolloAccesskeySecret = &quot;&quot;
	}
}
</code></pre></div><pre><code>\u4FEE\u6539seata-server-1.4.2\\conf\\file.conf
a.\u4FEE\u6539mode\u4E3Adb
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>store {
  mode = &quot;db&quot;
}
</code></pre></div><pre><code>b.\u4FEE\u6539\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>## database store property
db {
## the implement of javax.sql.DataSource, such as DruidDataSource(druid)/BasicDataSource(dbcp)/HikariDataSource(hikari) etc.
datasource = &quot;druid&quot;
## mysql/oracle/postgresql/h2/oceanbase etc.
dbType = &quot;mysql&quot;
driverClassName = &quot;com.mysql.cj.jdbc.Driver&quot;
## if using mysql to store the data, recommend add rewriteBatchedStatements=true in jdbc connection param
url = &quot;jdbc:mysql://192.168.0.5:3306/seata?rewriteBatchedStatements=true&amp;serverTimezone=Asia/Shanghai&quot;
user = &quot;root&quot;
password = &quot;Mysql123456_&quot;
minConn = 5
maxConn = 100
globalTable = &quot;global_table&quot;
branchTable = &quot;branch_table&quot;
lockTable = &quot;lock_table&quot;
queryLimit = 100
maxWait = 5000
}
</code></pre></div><h5 id="_2-5-2-1-4-\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-4-\u642D\u5EFAapollo\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> 2.5.2.1.4.\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3</h5><p><a href="/pure/blogs/environment/windows/windows-server2016/shardings/windows-server2016-chapter-2.\u642D\u5EFASpringCloud\u6280\u672F\u6808\u6240\u9700\u7EC4\u4EF6.html#_2-4-3-1-\u5355\u73AF\u5883\u7248" target="_blank">\u57FA\u4E8E\u72EC\u7ACB\u90E8\u7F72\u7684Eureka\u642D\u5EFAApollo\u914D\u7F6E\u4E2D\u5FC3-\u5355\u73AF\u5883\u7248(Windows\u7248)</a></p><h5 id="_2-5-2-1-5-\u5728apollo\u4E2D\u521B\u5EFA\u76F8\u5173\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-5-\u5728apollo\u4E2D\u521B\u5EFA\u76F8\u5173\u5185\u5BB9" aria-hidden="true">#</a> 2.5.2.1.5.\u5728Apollo\u4E2D\u521B\u5EFA\u76F8\u5173\u5185\u5BB9</h5><pre><code>\u6839\u636Eregistry.conf\u4E2Dconfig{apollo}\u7684\u914D\u7F6E,\u5728Apollo\u63A7\u5236\u53F0\u4E2D\u521B\u5EFA\u5982\u4E0B\u5185\u5BB9
\u521B\u5EFA\u9879\u76EE:springcloud-eureka-seata
\u521B\u5EFA\u96C6\u7FA4:default(\u5176\u5B9E\u4E0D\u7528\u521B\u5EFA,\u9ED8\u8BA4\u7684\u96C6\u7FA4\u5C31\u662Fdefault)
\u521B\u5EFANamespace:seata-server
</code></pre><h5 id="_2-5-2-1-6-\u4E0A\u4F20\u914D\u7F6E\u5230apollo" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-6-\u4E0A\u4F20\u914D\u7F6E\u5230apollo" aria-hidden="true">#</a> 2.5.2.1.6.\u4E0A\u4F20\u914D\u7F6E\u5230Apollo</h5><pre><code>\u5728\u6E90\u7801\u4E2D\u627E\u5230config.txt,\u4FEE\u6539\u540E\u5C06\u914D\u7F6E\u653E\u5165\u521A\u624D\u7684\u547D\u540D\u7A7A\u95F4seata-server\u4E2D,\u7136\u540E\u53D1\u5E03\u914D\u7F6Econfig.txt\u4FEE\u6539\u540E\u5185\u5BB9\u5982\u4E0B(\u53CC\u6A2A\u7EBF\u4E2D\u95F4\u7684\u5185\u5BB9\u90FD\u662F\u9700\u8981\u4FEE\u6539\u7684)
</code></pre><div class="language-text ext-text"><pre class="language-text"><code>transport.type=TCP
transport.server=NIO
transport.heartbeat=true
transport.enableClientBatchSendRequest=false
transport.threadFactory.bossThreadPrefix=NettyBoss
transport.threadFactory.workerThreadPrefix=NettyServerNIOWorker
transport.threadFactory.serverExecutorThreadPrefix=NettyServerBizHandler
transport.threadFactory.shareBossWorker=false
transport.threadFactory.clientSelectorThreadPrefix=NettyClientSelector
transport.threadFactory.clientSelectorThreadSize=1
transport.threadFactory.clientWorkerThreadPrefix=NettyClientWorkerThread
transport.threadFactory.bossThreadSize=1
transport.threadFactory.workerThreadSize=default
#---------------------------
transport.shutdown.wait=3
service.vgroupMapping.my_test_tx_group=seata-server
#----service.\u540E\u9762\u7684\u503C\u548C\u4E0A\u9762\u7684default\u4FDD\u6301\u4E00\u81F4
service.seata-server.grouplist=localhost:8091
service.enableDegrade=false
service.disableGlobalTransaction=false
#---------------------------
client.rm.asyncCommitBufferLimit=10000
client.rm.lock.retryInterval=10
client.rm.lock.retryTimes=30
client.rm.lock.retryPolicyBranchRollbackOnConflict=true
client.rm.reportRetryCount=5
client.rm.tableMetaCheckEnable=false
client.rm.tableMetaCheckerInterval=60000
client.rm.sqlParserType=druid
client.rm.reportSuccessEnable=false
client.rm.sagaBranchRegisterEnable=false
client.tm.commitRetryCount=5
client.tm.rollbackRetryCount=5
client.tm.defaultGlobalTransactionTimeout=60000
client.tm.degradeCheck=false
client.tm.degradeCheckAllowTimes=10
client.tm.degradeCheckPeriod=2000
#---------------------------
store.mode=db
#---------------------------
store.publicKey=
store.file.dir=file_store/data
store.file.maxBranchSessionSize=16384
store.file.maxGlobalSessionSize=512
store.file.fileWriteBufferCacheSize=16384
store.file.flushDiskMode=async
store.file.sessionReloadReadSize=100
store.db.datasource=druid
store.db.dbType=mysql
#---------------------------
store.db.driverClassName=com.mysql.cj.jdbc.Driver
store.db.url=jdbc:mysql://192.168.0.5:3306/seata?useUnicode=true&amp;rewriteBatchedStatements=true&amp;serverTimezone=Asia/Shanghai
store.db.user=root
store.db.password=123456
#---------------------------
store.db.minConn=5
store.db.maxConn=30
store.db.globalTable=global_table
store.db.branchTable=branch_table
store.db.queryLimit=100
store.db.lockTable=lock_table
store.db.maxWait=5000
store.redis.mode=single
store.redis.single.host=127.0.0.1
store.redis.single.port=6379
store.redis.sentinel.masterName=
store.redis.sentinel.sentinelHosts=
store.redis.maxConn=10
store.redis.minConn=1
store.redis.maxTotal=100
store.redis.database=0
store.redis.password=
store.redis.queryLimit=100
server.recovery.committingRetryPeriod=1000
server.recovery.asynCommittingRetryPeriod=1000
server.recovery.rollbackingRetryPeriod=1000
server.recovery.timeoutRetryPeriod=1000
server.maxCommitRetryTimeout=-1
server.maxRollbackRetryTimeout=-1
server.rollbackRetryTimeoutUnlockEnable=false
client.undo.dataValidation=true
client.undo.logSerialization=jackson
client.undo.onlyCareUpdateColumns=true
server.undo.logSaveDays=7
server.undo.logDeletePeriod=86400000
client.undo.logTable=undo_log
client.undo.compress.enable=true
client.undo.compress.type=zip
client.undo.compress.threshold=64k
log.exceptionRate=100
transport.serialization=seata
transport.compressor=none
metrics.enabled=false
metrics.registryType=compact
metrics.exporterList=prometheus
metrics.exporterPrometheusPort=9898
</code></pre></div><pre><code>\u4E0A\u4F20\u5B8C\u6210\u540E\u53D1\u5E03\u914D\u7F6E
</code></pre><h5 id="_2-5-2-1-7-\u542F\u52A8seata-server" tabindex="-1"><a class="header-anchor" href="#_2-5-2-1-7-\u542F\u52A8seata-server" aria-hidden="true">#</a> 2.5.2.1.7.\u542F\u52A8Seata-Server</h5><pre><code>\u8FDB\u5165bin\u76EE\u5F55,\u53CC\u51FBseata-server.bat\u542F\u52A8seate
</code></pre>`,49);function B(S,C){const i=l("Banner"),t=l("Markmap"),s=l("HideSideBar"),o=l("Mermaid");return p(),u("div",null,[e(i,{localtion:"/banner/particles/particles.html"}),v,e(t,{localtion:"/enhance/markmap/environment/windows/windows-server2016/windows-server2016-outline2.html",height:"500rem"}),f,m,e(t,{localtion:"/enhance/markmap/environment/windows/windows-server2016/windows-server2016-outline5.html",height:"600rem"}),e(s),x,e(t,{localtion:"/enhance/markmap/environment/windows/windows-server2016/chapter/windows-server2016-outline5-chapter1.html",height:"500rem"}),_,e(t,{localtion:"/enhance/markmap/environment/windows/windows-server2016/chapter/windows-server2016-outline5-chapter2.html",height:"500rem"}),q,e(o,{id:"mermaid-64a56fe4",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),b,e(o,{id:"mermaid-64a5695a",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),E,e(o,{id:"mermaid-64a561e6",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),A,e(o,{id:"mermaid-64a5602c",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),y,e(o,{id:"mermaid-64a558e6",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),j,e(o,{id:"mermaid-64a5521e",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),k,e(o,{id:"mermaid-64a54ae0",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),w,e(o,{id:"mermaid-64a5492c",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Apollo--%3E%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F%0A%09%E8%AE%BF%E9%97%AEhttp%3A%2F%2Flocalhost%3A8070%2F--%3E%E7%99%BB%E5%BD%95Apollo%0A%20%20%20%20%E7%99%BB%E5%BD%95Apollo--%3E%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7%0A%20%20%20%20%E7%AE%A1%E7%90%86%E5%91%98%E5%B7%A5%E5%85%B7--%3E%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%0A%20%20%20%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0--%3E%E8%BE%93%E5%85%A5key%E5%80%BC%2FValue%E5%80%BC%0A"}),D,e(o,{id:"mermaid-64a541ec",code:"flowchart%20LR%0A%20%20%20%20%E5%90%AF%E5%8A%A8Eureka%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83--%3E%E5%90%AF%E5%8A%A8Apollo%0A%09%E5%90%AF%E5%8A%A8Apollo--%3E%E5%90%AF%E5%8A%A8Seata-Server%0A"}),e(s)])}var I=c(h,[["render",B],["__file","windows-server2016.html.vue"]]);export{I as default};
