<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta name="keywords" content="设计模式引导,类与类之间的六种关系,设计模式七大原则,创建型模式-单例模式,创建型模式-简单工厂模式(Gof之外),创建型模式-工厂模式,创建型模式-抽象工厂模式,创建型模式-原型模式,创建型模式-建造者模式,结构型模式-适配器模式,结构型模式-桥接模式,结构型模式-装饰者模式,结构型模式-组合模式,结构型模式-外观模式,结构型模式-享元模式,结构型模式-代理模式,行为型模式-模版方法模式,行为型模式-命令模式,行为型模式-迭代器模式,行为型模式-观察者模式,行为型模式-中介者模式,行为型模式-备忘录模式,行为型模式-解释器模式,行为型模式-状态模式,行为型模式-策略模式,行为型模式-职责链模式,行为型模式-访问者模式,"><meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html"><meta property="og:site_name" content="此生挚爱万宝路"><meta property="og:title" content="使用Java语言编写设计模式-章节内容合集"><meta property="og:description" content="本章节涉及主要内容有：具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看,所有代码均经过严格测试，可直接复制运行即可。"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-09-10T12:56:45.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="设计模式"><meta property="article:tag" content="不同的语言编写设计模式"><meta property="article:tag" content="Java语言编写设计模式"><meta property="article:tag" content="安装linux操作系统"><meta property="article:tag" content="centos"><meta property="article:published_time" content="2021-08-01T00:00:00.000Z"><meta property="article:modified_time" content="2022-09-10T12:56:45.000Z"><link rel="icon" href="/images/headshot.jpg"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3564358_fdvgdum1r.css"><link rel="manifest" href="/pure/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/images/pwa/128.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/images/pwa/128.png"><meta name="msapplication-TileColor" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>使用Java语言编写设计模式-章节内容合集 | 此生挚爱万宝路</title><meta name="description" content="本章节涉及主要内容有：具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看,所有代码均经过严格测试，可直接复制运行即可。">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/pure/assets/style.ba738b59.css">
    <link rel="modulepreload" href="/pure/assets/app.d4c08878.js"><link rel="modulepreload" href="/pure/assets/designpattern-java.html.884d2474.js"><link rel="modulepreload" href="/pure/assets/designpattern-java.html.00418116.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/pure/" class="brand"><img class="logo" src="/pure/images/headshot.jpg" alt="此生挚爱万宝路"><!----><span class="site-name hide-in-pad">此生挚爱万宝路</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/pure/" class="nav-link" aria-label="个人主页"><span class="icon iconfont icon-hacker"></span>个人主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/pure/blog.html" class="nav-link" aria-label="博客主页"><span class="icon iconfont icon-blog"></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/pure/cinema.html" class="nav-link" aria-label="放映厅"><span class="icon iconfont icon-creative"></span>放映厅<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="后端"><span class="title"><span class="icon iconfont icon-java"></span>后端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>springcloud</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/backend/springcloud/springcloud-eureka/shardings/springcloud-eureka-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="springcloud-eureka"><span class="icon iconfont icon-cloud"></span>springcloud-eureka<!----></a></li><li class="dropdown-subitem"><a href="/pure/blogs/backend/springcloud/springcloud-eureka/shardings/springcloud-eureka-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="springcloud-zookeeper"><span class="icon iconfont icon-cloud"></span>springcloud-zookeeper<!----></a></li><li class="dropdown-subitem"><a href="/pure/blogs/backend/springcloud/springcloud-eureka/shardings/springcloud-eureka-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="springcloud-consul"><span class="icon iconfont icon-cloud"></span>springcloud-consul<!----></a></li><li class="dropdown-subitem"><a href="/pure/blogs/backend/springcloud/springcloud-eureka/shardings/springcloud-eureka-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="springcloud-alibaba"><span class="icon iconfont icon-cloud"></span>springcloud-alibaba<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="通用技能"><span class="title"><span class="icon iconfont icon-stack"></span>通用技能</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>设计模式</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/general/designpattern/designpattern-java/shardings/designpattern-java-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="Java语言构造"><span class="icon iconfont icon-java"></span>Java语言构造<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据结构</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/general/datastructure/datastructure-java/shardings/datastructure-java-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="Java语言构造"><span class="icon iconfont icon-java"></span>Java语言构造<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="环境搭建"><span class="title"><span class="icon iconfont icon-shell"></span>环境搭建</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>centos</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/environment/centos/centos7/shardings/centos7-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="centos7"><span class="icon iconfont icon-centos"></span>centos7<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>windows</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/environment/windows/windows-server2016/shardings/windows-server2016-chapter-0.%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.html" class="nav-link" aria-label="windows server2016"><span class="icon iconfont icon-windows"></span>windows server2016<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="基础支持"><span class="title"><span class="icon iconfont icon-tool"></span>基础支持</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>网站收藏</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pure/blogs/basicsupprot/tools.html" class="nav-link" aria-label="工具类网站"><span class="icon iconfont icon-repair"></span>工具类网站<!----></a></li><li class="dropdown-subitem"><a href="/pure/blogs/basicsupprot/knowledge.html" class="nav-link" aria-label="知识类网站"><span class="icon iconfont icon-study"></span>知识类网站<!----></a></li><li class="dropdown-subitem"><a href="/pure/blogs/basicsupprot/devresource.html" class="nav-link" aria-label="开发资源"><span class="icon iconfont icon-dev"></span>开发资源<!----></a></li></ul></li><li class="dropdown-item"><a href="/pure/blogs/environment/windows/windows.md" class="nav-link" aria-label="工具软件"><span class="icon iconfont icon-windows"></span>工具软件<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://github.com/lingwh1995" rel="noopener noreferrer" target="_blank" aria-label="GITHUB" class="nav-link"><span class="icon iconfont icon-github"></span>GITHUB<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://gitee.com/lingwh1995" rel="noopener noreferrer" target="_blank" aria-label="GITEE" class="nav-link"><span class="icon iconfont icon-gitee"></span>GITEE<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="pure-button" href="javascript:void(0)" target="_self" rel="noopener noreferrer" aria-label="Github"><svg t="1660309811545" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1872" width="1.1rem" height="1.1rem" style="vertical-align:middle;border-radius:0.2rem;"><path d="M892.708571 0H131.291429A131.267048 131.267048 0 0 0 0 131.267048v761.417142A131.31581 131.31581 0 0 0 131.291429 1024h761.417142A131.31581 131.31581 0 0 0 1024 892.68419V131.267048A131.267048 131.267048 0 0 0 892.708571 0z" fill="#3eaf7c" p-id="1873"></path></svg></a><div class="popup"><div class="item"><div class="title">当前模式</div><div class="content">常规模式</div></div><div class="item"><div class="title">常规模式➡️</div><div class="content">😄页面色彩丰富</div></div><div class="item"><div class="title">纯净模式➡️</div><div class="content">🍀页面色彩简单</div></div></div></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-a-archivecatalogue-fill"></span><span class="title">在Centos7上搭建开发环境</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-a-archivecatalogue-fill"></span><span class="title">在WindowsServer2016上搭建开发环境</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-a-archivecatalogue-fill"></span><span class="title">基于Eureka搭建Springcloud微服务</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-a-archivecatalogue-fill"></span><span class="title">使用Java语言编写设计模式</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-a-archivecatalogue-fill"></span><span class="title">使用Java语言构造数据结构</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-linux"></span>使用Java语言编写设计模式-章节内容合集</h1><div class="page-info"><span class="author-info" aria-label="作者" localizeddate="2021年7月31日" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/lingwh1995" target="_blank" rel="noopener noreferrer">lingwh</a></span><span property="author" content="lingwh"></span></span><span class="origin" localizeddate="2021年7月31日" pageview="true" pure="true">原创</span><span class="date-info" aria-label="写作日期" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2021年7月31日</span><meta property="datePublished" content="2021-08-01T00:00:00.000Z"></span><span class="reading-time-info" aria-label="阅读时间" localizeddate="2021年7月31日" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 53 分钟</span><meta property="timeRequired" content="PT53M"></span><span class="words-info" aria-label="字数" localizeddate="2021年7月31日" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 15871 字</span><meta property="wordCount" content="15871"></span><span class="category-info" aria-label="分类" localizeddate="2021年7月31日" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">设计模式</li><meta property="articleSection" content="设计模式"></ul></span><span aria-label="标签" localizeddate="2021年7月31日" isoriginal="true" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">设计模式</li><li class="tag clickable" role="navigation">不同的语言编写设计模式</li><li class="tag clickable" role="navigation">Java语言编写设计模式</li><li class="tag clickable" role="navigation">安装linux操作系统</li><li class="tag clickable" role="navigation">centos</li></ul><meta property="keywords" content="设计模式,不同的语言编写设计模式,Java语言编写设计模式,安装linux操作系统,centos"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#intro" class="router-link-active router-link-exact-active toc-link level1">博客内容介绍</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#博客内容概述" class="router-link-active router-link-exact-active toc-link level2">博客内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#博客内容大纲" class="router-link-active router-link-exact-active toc-link level2">博客内容大纲</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#简单版博客内容大纲" class="router-link-active router-link-exact-active toc-link level3">简单版博客内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#详细版博客内容大纲" class="router-link-active router-link-exact-active toc-link level3">详细版博客内容大纲</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#1." class="router-link-active router-link-exact-active toc-link level1">1.设计模式引导</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">1.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">1.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-3-设计模式起源" class="router-link-active router-link-exact-active toc-link level2">1.3.设计模式起源</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-4-设计模式是什么" class="router-link-active router-link-exact-active toc-link level2">1.4.设计模式是什么</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-5-设计模式作用" class="router-link-active router-link-exact-active toc-link level2">1.5.设计模式作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-6-设计模式目的" class="router-link-active router-link-exact-active toc-link level2">1.6.设计模式目的</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_1-7-设计模式分类" class="router-link-active router-link-exact-active toc-link level2">1.7.设计模式分类</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#2." class="router-link-active router-link-exact-active toc-link level1">2.类与类之间的六种关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">2.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">2.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-3-依赖关系" class="router-link-active router-link-exact-active toc-link level2">2.3.依赖关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-3-1-依赖关系概述" class="router-link-active router-link-exact-active toc-link level3">2.3.1.依赖关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-3-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.3.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-3-3-依赖关系类图" class="router-link-active router-link-exact-active toc-link level3">2.3.3.依赖关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-3-4-依赖关系代码" class="router-link-active router-link-exact-active toc-link level3">2.3.4.依赖关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-4-关联关系" class="router-link-active router-link-exact-active toc-link level2">2.4.关联关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-4-1-关联关系概述" class="router-link-active router-link-exact-active toc-link level3">2.4.1.关联关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-4-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.4.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-4-3-关联关系类图" class="router-link-active router-link-exact-active toc-link level3">2.4.3.关联关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-4-4-关联关系代码" class="router-link-active router-link-exact-active toc-link level3">2.4.4.关联关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-5-聚合关系" class="router-link-active router-link-exact-active toc-link level2">2.5.聚合关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-5-1-聚合关系概述" class="router-link-active router-link-exact-active toc-link level3">2.5.1.聚合关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-5-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.5.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-5-3-聚合关系类图" class="router-link-active router-link-exact-active toc-link level3">2.5.3.聚合关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-5-4-聚合关系代码" class="router-link-active router-link-exact-active toc-link level3">2.5.4.聚合关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-6-组合关系" class="router-link-active router-link-exact-active toc-link level2">2.6.组合关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-6-1-组合关系概述" class="router-link-active router-link-exact-active toc-link level3">2.6.1.组合关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-6-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.6.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-6-3-组合关系类图" class="router-link-active router-link-exact-active toc-link level3">2.6.3.组合关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-6-4-组合关系代码" class="router-link-active router-link-exact-active toc-link level3">2.6.4.组合关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-7-泛化关系" class="router-link-active router-link-exact-active toc-link level2">2.7.泛化关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-7-1-泛化关系概述" class="router-link-active router-link-exact-active toc-link level3">2.7.1.泛化关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-7-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.7.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-7-3-泛化关系类图" class="router-link-active router-link-exact-active toc-link level3">2.7.3.泛化关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-7-4-泛化关系代码" class="router-link-active router-link-exact-active toc-link level3">2.7.4.泛化关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-8-实现关系" class="router-link-active router-link-exact-active toc-link level2">2.8.实现关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-8-1-实现关系概述" class="router-link-active router-link-exact-active toc-link level3">2.8.1.实现关系概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-8-2-uml箭头及指向" class="router-link-active router-link-exact-active toc-link level3">2.8.2.UML箭头及指向</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-8-3-实现关系类图" class="router-link-active router-link-exact-active toc-link level3">2.8.3.实现关系类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-8-4-实现关系代码" class="router-link-active router-link-exact-active toc-link level3">2.8.4.实现关系代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_2-9-六种关系耦合度强弱" class="router-link-active router-link-exact-active toc-link level2">2.9.六种关系耦合度强弱</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#3." class="router-link-active router-link-exact-active toc-link level1">3.设计模式七大原则</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">3.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">3.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-3-单一职责原则srp" class="router-link-active router-link-exact-active toc-link level2">3.3.单一职责原则SRP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-3-1-单一职责原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.3.1.单一职责原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-3-2-单一职责原则代码" class="router-link-active router-link-exact-active toc-link level3">3.3.2.单一职责原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-3-2-1-不使用单一职责原则代码" class="router-link-active router-link-exact-active toc-link level4">3.3.2.1.不使用单一职责原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-3-2-2-使用单一职责原则代码" class="router-link-active router-link-exact-active toc-link level4">3.3.2.2.使用单一职责原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-4-接口隔离原则isp" class="router-link-active router-link-exact-active toc-link level2">3.4.接口隔离原则ISP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-4-1-接口隔离原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.4.1.接口隔离原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-4-2-接口隔离原则代码" class="router-link-active router-link-exact-active toc-link level3">3.4.2.接口隔离原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-4-2-1-不使用接口隔离原则代码" class="router-link-active router-link-exact-active toc-link level4">3.4.2.1.不使用接口隔离原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-4-2-2-使用接口隔离原则代码" class="router-link-active router-link-exact-active toc-link level4">3.4.2.2.使用接口隔离原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-5-依赖倒转原则dip" class="router-link-active router-link-exact-active toc-link level2">3.5.依赖倒转原则DIP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-5-1-依赖倒转原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.5.1.依赖倒转原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-5-2-依赖倒转原则代码" class="router-link-active router-link-exact-active toc-link level3">3.5.2.依赖倒转原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-5-2-1-不使用依赖倒转原则代码" class="router-link-active router-link-exact-active toc-link level4">3.5.2.1.不使用依赖倒转原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-5-2-2-使用依赖倒转原则代码" class="router-link-active router-link-exact-active toc-link level4">3.5.2.2.使用依赖倒转原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-6-里氏替换原则lsp" class="router-link-active router-link-exact-active toc-link level2">3.6.里氏替换原则LSP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-6-1-里氏替换原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.6.1.里氏替换原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-6-2-里氏替换原则代码" class="router-link-active router-link-exact-active toc-link level3">3.6.2.里氏替换原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-6-2-1-不使用里氏替换原则代码" class="router-link-active router-link-exact-active toc-link level4">3.6.2.1.不使用里氏替换原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-6-2-2-使用里氏替换原则代码" class="router-link-active router-link-exact-active toc-link level4">3.6.2.2.使用里氏替换原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-7-开闭原则ocp" class="router-link-active router-link-exact-active toc-link level2">3.7.开闭原则OCP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-7-1-开闭原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.7.1.开闭原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-7-2-开闭原则代码" class="router-link-active router-link-exact-active toc-link level3">3.7.2.开闭原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-7-2-1-不使用开闭原则代码" class="router-link-active router-link-exact-active toc-link level4">3.7.2.1.不使用开闭原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-7-2-2-使用开闭原则代码" class="router-link-active router-link-exact-active toc-link level4">3.7.2.2.使用开闭原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-8-迪米特原则lod" class="router-link-active router-link-exact-active toc-link level2">3.8.迪米特原则LoD</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-8-1-迪米特原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.8.1.迪米特原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-8-2-迪米特原则代码" class="router-link-active router-link-exact-active toc-link level3">3.8.2.迪米特原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-8-2-1-不使用迪米特原则代码" class="router-link-active router-link-exact-active toc-link level4">3.8.2.1.不使用迪米特原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-8-2-2-使用迪米特原则代码" class="router-link-active router-link-exact-active toc-link level4">3.8.2.2.使用迪米特原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-9-合成复用原则carp" class="router-link-active router-link-exact-active toc-link level2">3.9.合成复用原则CARP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-9-1-合成复用原则介绍" class="router-link-active router-link-exact-active toc-link level3">3.9.1.合成复用原则介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-9-2-合成复用原则代码" class="router-link-active router-link-exact-active toc-link level3">3.9.2.合成复用原则代码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-9-2-1-不使用合成复用原则代码" class="router-link-active router-link-exact-active toc-link level4">3.9.2.1.不使用合成复用原则代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_3-9-2-2-使用合成复用原则代码" class="router-link-active router-link-exact-active toc-link level4">3.9.2.2.使用合成复用原则代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#4." class="router-link-active router-link-exact-active toc-link level1">4.创建型模式-单例模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">4.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">4.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-3-简介" class="router-link-active router-link-exact-active toc-link level2">4.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">4.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">4.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">4.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">4.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">4.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-7-模型" class="router-link-active router-link-exact-active toc-link level2">4.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">4.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-7-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.7.2.代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-示例" class="router-link-active router-link-exact-active toc-link level2">4.8.示例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-1-饿汉式单例" class="router-link-active router-link-exact-active toc-link level3">4.8.1.饿汉式单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-1-1-类图" class="router-link-active router-link-exact-active toc-link level3">4.8.1.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-1-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.1.2.代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-2-懒汉式单例" class="router-link-active router-link-exact-active toc-link level3">4.8.2.懒汉式单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-2-1-饿汉式单例类图" class="router-link-active router-link-exact-active toc-link level3">4.8.2.1.饿汉式单例类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-2-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.2.2.代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-3-线程安全的懒汉式单例" class="router-link-active router-link-exact-active toc-link level3">4.8.3.线程安全的懒汉式单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-3-1-类图" class="router-link-active router-link-exact-active toc-link level3">4.8.3.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-3-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.3.2.代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-4-双重检索懒汉式懒汉式单例" class="router-link-active router-link-exact-active toc-link level3">4.8.4.双重检索懒汉式懒汉式单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-4-1-类图" class="router-link-active router-link-exact-active toc-link level3">4.8.4.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-4-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.4.2.代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-5-静态内部类懒汉式单例" class="router-link-active router-link-exact-active toc-link level3">4.8.5.静态内部类懒汉式单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-5-1-类图" class="router-link-active router-link-exact-active toc-link level3">4.8.5.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-5-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.5.2.代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-6-枚举单例" class="router-link-active router-link-exact-active toc-link level3">4.8.6.枚举单例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-6-1-类图" class="router-link-active router-link-exact-active toc-link level3">4.8.6.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-8-6-2-代码" class="router-link-active router-link-exact-active toc-link level3">4.8.6.2.代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_4-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">4.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#5." class="router-link-active router-link-exact-active toc-link level1">5.创建型模式-简单工厂模式(Gof之外)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">5.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">5.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-3-简介" class="router-link-active router-link-exact-active toc-link level2">5.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">5.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">5.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">5.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">5.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">5.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-7-模型" class="router-link-active router-link-exact-active toc-link level2">5.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">5.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">5.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-示例" class="router-link-active router-link-exact-active toc-link level2">5.8.示例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-1-不使用简单工厂模式" class="router-link-active router-link-exact-active toc-link level3">5.8.1.不使用简单工厂模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-1-1-类图" class="router-link-active router-link-exact-active toc-link level4">5.8.1.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-1-2-代码" class="router-link-active router-link-exact-active toc-link level4">5.8.1.2.代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-2-使用简单工厂模式" class="router-link-active router-link-exact-active toc-link level3">5.8.2.使用简单工厂模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-2-1-类图" class="router-link-active router-link-exact-active toc-link level4">5.8.2.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-8-2-2-代码" class="router-link-active router-link-exact-active toc-link level4">5.8.2.2.代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">5.9.在开源框架中的应用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_5-9-1-在jdk中的应用" class="router-link-active router-link-exact-active toc-link level2">5.9.1.在JDK中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#6." class="router-link-active router-link-exact-active toc-link level1">6.创建型模式-工厂模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">6.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">6.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-3-简介" class="router-link-active router-link-exact-active toc-link level2">6.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">6.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">6.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">6.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">6.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">6.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-7-模型" class="router-link-active router-link-exact-active toc-link level2">6.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">6.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">6.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-示例" class="router-link-active router-link-exact-active toc-link level2">6.8.示例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-1-不使用工厂模式-实际上使用了简单工厂模式" class="router-link-active router-link-exact-active toc-link level3">6.8.1.不使用工厂模式(实际上使用了简单工厂模式)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-1-1-类图" class="router-link-active router-link-exact-active toc-link level4">6.8.1.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-1-1-代码" class="router-link-active router-link-exact-active toc-link level4">6.8.1.1.代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-2-使用工厂模式" class="router-link-active router-link-exact-active toc-link level3">6.8.2.使用工厂模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-2-1-类图" class="router-link-active router-link-exact-active toc-link level4">6.8.2.1.类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-8-2-2-代码" class="router-link-active router-link-exact-active toc-link level4">6.8.2.2.代码</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">6.9.在开源框架中的应用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_6-9-1-在jdk中的应用" class="router-link-active router-link-exact-active toc-link level3">6.9.1.在JDK中的应用</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#7." class="router-link-active router-link-exact-active toc-link level1">7.创建型模式-抽象工厂模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">7.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">7.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-3-简介" class="router-link-active router-link-exact-active toc-link level2">7.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">7.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">7.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">7.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">7.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">7.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-7-模型" class="router-link-active router-link-exact-active toc-link level2">7.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">7.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">7.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-8-示例" class="router-link-active router-link-exact-active toc-link level2">7.8.示例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-8-1-不使用抽象工厂模式" class="router-link-active router-link-exact-active toc-link level3">7.8.1.不使用抽象工厂模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-8-2-使用抽象工厂模式" class="router-link-active router-link-exact-active toc-link level3">7.8.2.使用抽象工厂模式</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_7-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">7.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#8." class="router-link-active router-link-exact-active toc-link level1">8.创建型模式-原型模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">8.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">8.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-3-简介" class="router-link-active router-link-exact-active toc-link level2">8.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">8.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">8.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">8.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">8.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">8.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-7-模型" class="router-link-active router-link-exact-active toc-link level2">8.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">8.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">8.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-8-示例" class="router-link-active router-link-exact-active toc-link level2">8.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_8-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">8.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#9." class="router-link-active router-link-exact-active toc-link level1">9.创建型模式-建造者模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">9.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">9.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-3-简介" class="router-link-active router-link-exact-active toc-link level2">9.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">9.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">9.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">9.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">9.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">9.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-7-模型" class="router-link-active router-link-exact-active toc-link level2">9.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">9.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">9.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-8-示例" class="router-link-active router-link-exact-active toc-link level2">9.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_9-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">9.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#10." class="router-link-active router-link-exact-active toc-link level1">10.结构型模式-适配器模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">10.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">10.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-3-简介" class="router-link-active router-link-exact-active toc-link level2">10.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">10.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">10.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">10.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">10.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">10.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-7-模型" class="router-link-active router-link-exact-active toc-link level2">10.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">10.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">10.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-8-示例" class="router-link-active router-link-exact-active toc-link level2">10.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_10-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">10.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#11." class="router-link-active router-link-exact-active toc-link level1">11.结构型模式-桥接模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">11.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">11.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-3-简介" class="router-link-active router-link-exact-active toc-link level2">11.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">11.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">11.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">11.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">11.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">11.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-7-模型" class="router-link-active router-link-exact-active toc-link level2">11.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">11.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">11.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-8-示例" class="router-link-active router-link-exact-active toc-link level2">11.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_11-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">11.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#12." class="router-link-active router-link-exact-active toc-link level1">12.结构型模式-装饰者模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">12.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">12.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-3-简介" class="router-link-active router-link-exact-active toc-link level2">12.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">12.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">12.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">12.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">12.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">12.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-7-模型" class="router-link-active router-link-exact-active toc-link level2">12.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">12.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">12.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-8-示例" class="router-link-active router-link-exact-active toc-link level2">12.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_12-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">12.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#13." class="router-link-active router-link-exact-active toc-link level1">13.结构型模式-组合模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">13.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">13.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-3-简介" class="router-link-active router-link-exact-active toc-link level2">13.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">13.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">13.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">13.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">13.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">13.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-7-模型" class="router-link-active router-link-exact-active toc-link level2">13.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">13.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">13.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-8-示例" class="router-link-active router-link-exact-active toc-link level2">13.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_13-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">13.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#14." class="router-link-active router-link-exact-active toc-link level1">14.结构型模式-外观模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">14.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">14.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-3-简介" class="router-link-active router-link-exact-active toc-link level2">14.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">14.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">14.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">14.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">14.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">14.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-7-模型" class="router-link-active router-link-exact-active toc-link level2">14.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">14.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">14.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-8-示例" class="router-link-active router-link-exact-active toc-link level2">14.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_14-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">14.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#15." class="router-link-active router-link-exact-active toc-link level1">15.结构型模式-享元模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">15.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">15.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-3-简介" class="router-link-active router-link-exact-active toc-link level2">15.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">15.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">15.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">15.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">15.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">15.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-7-模型" class="router-link-active router-link-exact-active toc-link level2">15.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">15.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">15.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-8-示例" class="router-link-active router-link-exact-active toc-link level2">15.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_15-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">15.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#16." class="router-link-active router-link-exact-active toc-link level1">16.结构型模式-代理模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">16.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">16.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-3-简介" class="router-link-active router-link-exact-active toc-link level2">16.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">16.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">16.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">16.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">16.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">16.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-7-模型" class="router-link-active router-link-exact-active toc-link level2">16.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">16.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">16.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-8-示例" class="router-link-active router-link-exact-active toc-link level2">16.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_16-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">16.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#17." class="router-link-active router-link-exact-active toc-link level1">17.行为型模式-模版方法模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">17.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">17.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-3-简介" class="router-link-active router-link-exact-active toc-link level2">17.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">17.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">17.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">17.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">17.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">17.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-7-模型" class="router-link-active router-link-exact-active toc-link level2">17.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">17.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">17.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-8-示例" class="router-link-active router-link-exact-active toc-link level2">17.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_17-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">17.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#18." class="router-link-active router-link-exact-active toc-link level1">18.行为型模式-命令模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">18.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">18.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-3-简介" class="router-link-active router-link-exact-active toc-link level2">18.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">18.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">18.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">18.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">18.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">18.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-7-模型" class="router-link-active router-link-exact-active toc-link level2">18.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">18.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">18.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-8-示例" class="router-link-active router-link-exact-active toc-link level2">18.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_18-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">18.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#19." class="router-link-active router-link-exact-active toc-link level1">19.行为型模式-迭代器模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">19.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">19.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-3-简介" class="router-link-active router-link-exact-active toc-link level2">19.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">19.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">19.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">19.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">19.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">19.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-7-模型" class="router-link-active router-link-exact-active toc-link level2">19.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">19.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">19.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-8-示例" class="router-link-active router-link-exact-active toc-link level2">19.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_19-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">19.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#20." class="router-link-active router-link-exact-active toc-link level1">20.行为型模式-观察者模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">20.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">20.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-3-简介" class="router-link-active router-link-exact-active toc-link level2">20.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">20.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">20.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">20.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">20.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">20.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-7-模型" class="router-link-active router-link-exact-active toc-link level2">20.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">20.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">20.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-8-示例" class="router-link-active router-link-exact-active toc-link level2">20.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_20-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">20.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#21." class="router-link-active router-link-exact-active toc-link level1">21.行为型模式-中介者模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">21.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">21.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-3-简介" class="router-link-active router-link-exact-active toc-link level2">21.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">21.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">21.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">21.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">21.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">21.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-7-模型" class="router-link-active router-link-exact-active toc-link level2">21.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">21.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">21.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-8-示例" class="router-link-active router-link-exact-active toc-link level2">21.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_21-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">21.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#22." class="router-link-active router-link-exact-active toc-link level1">22.行为型模式-备忘录模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">22.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">22.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-3-简介" class="router-link-active router-link-exact-active toc-link level2">22.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">22.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">22.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">22.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">22.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">22.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-7-模型" class="router-link-active router-link-exact-active toc-link level2">22.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">22.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">22.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-8-示例" class="router-link-active router-link-exact-active toc-link level2">22.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_22-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">22.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#23." class="router-link-active router-link-exact-active toc-link level1">23.行为型模式-解释器模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">23.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">23.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-3-简介" class="router-link-active router-link-exact-active toc-link level2">23.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">23.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">23.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">23.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">23.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">23.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-7-模型" class="router-link-active router-link-exact-active toc-link level2">23.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">23.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">23.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-8-示例" class="router-link-active router-link-exact-active toc-link level2">23.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_23-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">23.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#24." class="router-link-active router-link-exact-active toc-link level1">24.行为型模式-状态模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">24.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">24.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-3-简介" class="router-link-active router-link-exact-active toc-link level2">24.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">24.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">24.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">24.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">24.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">24.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-7-模型" class="router-link-active router-link-exact-active toc-link level2">24.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">24.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">24.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-8-示例" class="router-link-active router-link-exact-active toc-link level2">24.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_24-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">24.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#25." class="router-link-active router-link-exact-active toc-link level1">25.行为型模式-策略模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">25.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">25.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-3-简介" class="router-link-active router-link-exact-active toc-link level2">25.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">25.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">25.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">25.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">25.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">25.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-7-模型" class="router-link-active router-link-exact-active toc-link level2">25.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">25.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">25.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-8-示例" class="router-link-active router-link-exact-active toc-link level2">25.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_25-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">25.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#26." class="router-link-active router-link-exact-active toc-link level1">26.行为型模式-职责链模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">26.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">26.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-3-简介" class="router-link-active router-link-exact-active toc-link level2">26.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">26.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">26.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">26.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">26.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">26.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-7-模型" class="router-link-active router-link-exact-active toc-link level2">26.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">26.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">26.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-8-示例" class="router-link-active router-link-exact-active toc-link level2">26.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_26-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">26.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#27." class="router-link-active router-link-exact-active toc-link level1">27.行为型模式-访问者模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-1-章节内容概述" class="router-link-active router-link-exact-active toc-link level2">27.1.章节内容概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-2-章节内容大纲" class="router-link-active router-link-exact-active toc-link level2">27.2.章节内容大纲</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-3-简介" class="router-link-active router-link-exact-active toc-link level2">27.3.简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-4-应用场景" class="router-link-active router-link-exact-active toc-link level2">27.4.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-5-优缺点" class="router-link-active router-link-exact-active toc-link level2">27.5.优缺点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-5-1-优点" class="router-link-active router-link-exact-active toc-link level3">27.5.1.优点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-5-2-缺点" class="router-link-active router-link-exact-active toc-link level3">27.5.2.缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-6-角色及其职责" class="router-link-active router-link-exact-active toc-link level2">27.6.角色及其职责</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-7-模型" class="router-link-active router-link-exact-active toc-link level2">27.7.模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-7-1-模型类图" class="router-link-active router-link-exact-active toc-link level3">27.7.1.模型类图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-7-2-模型代码" class="router-link-active router-link-exact-active toc-link level3">27.7.2.模型代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-8-示例" class="router-link-active router-link-exact-active toc-link level2">27.8.示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pure/blogs/general/designpattern/designpattern-java/designpattern-java.html#_27-9-在开源框架中的应用" class="router-link-active router-link-exact-active toc-link level2">27.9.在开源框架中的应用</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><div><iframe src="/banner/particles/particles.html" width="100%" height="400rm" frameborder="0" scrolling="No" leftmargin="0" topmargin="0"></iframe></div><h1 id="intro" tabindex="-1"><a class="header-anchor" href="#intro" aria-hidden="true">#</a> 博客内容介绍</h1><h2 id="博客内容概述" tabindex="-1"><a class="header-anchor" href="#博客内容概述" aria-hidden="true">#</a> 博客内容概述</h2><pre><code>本篇博客涉及主要内容有：
 1.设计模式引导
 2.类与类之间的六种关系
 3.设计模式七大原则
 4.创建型模式-单例模式
 5.创建型模式-简单工厂模式(Gof之外)
 6.创建型模式-工厂模式
 7.创建型模式-抽象工厂模式
 8.创建型模式-原型模式
 9.创建型模式-建造者模式
 10.结构型模式-适配器模式
 11.结构型模式-桥接模式
 12.结构型模式-装饰者模式
 13.结构型模式-组合模式
 14.结构型模式-外观模式
 15.结构型模式-享元模式
 16.结构型模式-代理模式
 17.行为型模式-模版方法模式
 18.行为型模式-命令模式
 19.行为型模式-迭代器模式
 20.行为型模式-观察者模式
 21.行为型模式-中介者模式
 22.行为型模式-备忘录模式
 23.行为型模式-解释器模式
 24.行为型模式-状态模式
 25.行为型模式-策略模式
 26.行为型模式-职责链模式
 27.行为型模式-访问者模式
具体每个章节中包含的内容可使通过下面博客内容大纲进行查看。
</code></pre><h2 id="博客内容大纲" tabindex="-1"><a class="header-anchor" href="#博客内容大纲" aria-hidden="true">#</a> 博客内容大纲</h2><h3 id="简单版博客内容大纲" tabindex="-1"><a class="header-anchor" href="#简单版博客内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/designpattern-java-outline2.html" target="_blank">简单版博客内容大纲</a></h3><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/designpattern-java-outline2.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><blockquote></blockquote><h3 id="详细版博客内容大纲" tabindex="-1"><a class="header-anchor" href="#详细版博客内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/designpattern-java-outline5.html" target="_blank">详细版博客内容大纲</a></h3><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/designpattern-java-outline5.html" width="100%" height="600rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><div data-v-1641239a><div class="toggle-show-all-sidebars-btn hide-in-mobile" aria-label="显示所有博客侧边栏" data-balloon-pos="left" data-v-1641239a><span class="icon iconfont icon-a-archivecatalogue-fill" data-v-1641239a></span></div></div><h1 id="1." tabindex="-1"><a class="header-anchor" href="#1." aria-hidden="true">#</a> 1.设计模式引导</h1><h2 id="_1-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_1-1-章节内容概述" aria-hidden="true">#</a> 1.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 1.1.章节内容概述
 1.2.章节内容大纲
 1.3.设计模式起源
 1.4.设计模式是什么
 1.5.设计模式作用
 1.6.设计模式目的
 1.7.设计模式分类
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_1-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_1-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter1.html" target="_blank">1.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter1.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_1-3-设计模式起源" tabindex="-1"><a class="header-anchor" href="#_1-3-设计模式起源" aria-hidden="true">#</a> 1.3.设计模式起源</h2><pre><code>模式的概念
在介绍设计模式的起源之前,需要先介绍一个位于设计模式之上的概念,这个概念就是模式,设计模式是模式的一个分支,模式起源于建筑工程领域,最开始由是建筑工程领域提出。Christopher Alexander博士及其研究团队用了约20年的时间,对住宅和周边环境进行了大量的调查研究和资料收集工作,发现人们对舒适住宅和城市环境存在一些共同的认同规律,并在他的著作中把这些认同规律归纳为253个模式,对每一个模式(Pattern)都从Context(前提条件)、Theme或Problem(目标问题)、 Solution(解决方案)三个方面进行了描述,并给出了从用户需求分析到建筑环境结构设计直至经典实例的过程模型。在他的另一部经典著作《建筑的永恒之道》中,他给出了关于模式的定义:每个模式都描述了一个在我们的环境中不断出现的问题,然后描述了该问题的解决方案的核心,通过这种方式,我们可以无数次地重用那些已有的成功的解决方案，无须再重复相同的工作。这个定义可以简单地用一句话表示:模式是在特定环境下人们解决某类重复出现问题的一套成功或有效的解决方案。

Gof四人组与23中设计模式的诞生
1990年,软件工程界开始关注ChristopherAlexander等在这一住宅、公共建筑与城市规划领域的重大突破。最早将模式的思想引入软件工程方法学的是1991-1992年以&quot;四人组(Gang of Four，简称GoF,分别是Erich Gamma, Richard Helm, Ralph Johnson和John Vlissides)&quot;自称的四位著名软件工程学者,他们在1994年归纳发表了23种在软件开发中使用频率较高的设计模式,旨在用模式来统一沟通面向对象方法在分析、设计和实现间的鸿沟。

模式、软件模式、设计模式
GoF将模式的概念引入软件工程领域,这标志着软件模式的诞生。软件模式(Software Patterns)是将模式的一般概念应用于软件开发领域,即软件开发的总体指导思路或参照样板。软件模式并非仅限于设计模式,还包括架构模式、分析模式和过程模式等。
</code></pre><h2 id="_1-4-设计模式是什么" tabindex="-1"><a class="header-anchor" href="#_1-4-设计模式是什么" aria-hidden="true">#</a> 1.4.设计模式是什么</h2><pre><code>设计模式(Design Pattern)是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结,使用设计模式是为了可重用代码、让代码更容易被他人理解并且保证代码可靠性。其本质是是对类的封装性、继承性和多态性，以及类的关联关系和组合关系的充分理解,也可以说其本质是对面向对象开发的充分理解。
</code></pre><h2 id="_1-5-设计模式作用" tabindex="-1"><a class="header-anchor" href="#_1-5-设计模式作用" aria-hidden="true">#</a> 1.5.设计模式作用</h2><pre><code>设计模式以一种标准的方式供广大开发人员使用,为开发者的沟通提供了一套机制,帮助开发者更好地明白和更清晰地描述一段被给出的代码。

设计模式同样让开发人员之间有一套&quot;共享词汇&quot;,一旦懂这些词汇,开发人员之间沟通这些观念就很容易,也会促使那些不懂的程序员想开始学习设计模式。

设计模式可以使开发人员更加方便简单复用成功的设计模式和结构

设计模式可以使人们深入理解面向对象的设计思想,提高软件的开发效率,节约设计成本。
</code></pre><h2 id="_1-6-设计模式目的" tabindex="-1"><a class="header-anchor" href="#_1-6-设计模式目的" aria-hidden="true">#</a> 1.6.设计模式目的</h2><p>​ 代码重用性 相同功能的代码,不用多次编写 ​ 可读性 编程规范性,便于其他程序员的阅读和理解</p><p>​ 可扩展性 当需要增加新的功能时,非常的方便,称为可维护</p><p>​ 可靠性 当我们增加新的功能后,对原来的功能没有影响</p><pre><code>解耦性
使程序呈现高内聚，低耦合的特性
</code></pre><h2 id="_1-7-设计模式分类" tabindex="-1"><a class="header-anchor" href="#_1-7-设计模式分类" aria-hidden="true">#</a> 1.7.设计模式分类</h2><pre><code>Gof提出的设计模式共23种,可以分为三种类型
创建型模式(共5种)
单例模式、抽象工厂模式、建造者模式、工厂模式、原型模式。

结构型模式(共7种)
适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式。

行为型模式(共11种)
模版方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、状态模式、策略模式、职责链模式、访问者模式。

在Gof提出的23种设计模式之外,还有一些常用的模式
简单工厂模式/静态工厂模式
</code></pre><h1 id="2." tabindex="-1"><a class="header-anchor" href="#2." aria-hidden="true">#</a> 2.类与类之间的六种关系</h1><h2 id="_2-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_2-1-章节内容概述" aria-hidden="true">#</a> 2.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 2.1.章节内容概述
 2.2.章节内容大纲
 2.3.依赖关系
 2.4.关联关系
 2.5.聚合关系
 2.6.组合关系
 2.7.泛化关系
 2.8.实现关系
 2.9.六种关系耦合度强弱
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_2-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_2-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter2.html" target="_blank">2.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter2.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_2-3-依赖关系" tabindex="-1"><a class="header-anchor" href="#_2-3-依赖关系" aria-hidden="true">#</a> 2.3.依赖关系</h2><h3 id="_2-3-1-依赖关系概述" tabindex="-1"><a class="header-anchor" href="#_2-3-1-依赖关系概述" aria-hidden="true">#</a> 2.3.1.依赖关系概述</h3><pre><code>依赖关系(Dependence),只要是在类中用到了对方,那么它们之间就存在依赖关系。如果没有对方,无法通过编译。

在代码中表现为
a.类中用到了对方
b.是类的成员属性
c.是方法的返回类型
d.是方法接收的参数类型
e.方法中使用到
</code></pre><h3 id="_2-3-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-3-2-uml箭头及指向" aria-hidden="true">#</a> 2.3.2.UML箭头及指向</h3><pre><code>带箭头的虚线，指向被使用者
</code></pre><h3 id="_2-3-3-依赖关系类图" tabindex="-1"><a class="header-anchor" href="#_2-3-3-依赖关系类图" aria-hidden="true">#</a> 2.3.3.依赖关系类图</h3><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-3-4-依赖关系代码" tabindex="-1"><a class="header-anchor" href="#_2-3-4-依赖关系代码" aria-hidden="true">#</a> 2.3.4.依赖关系代码</h3><pre><code>Department.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>dependence</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Department</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>IDCard.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>dependence</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Person.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>dependence</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PersonDao.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>dependence</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDao</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PersonServiceBean.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>dependence</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">PersonDao</span> personDao<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">IDCard</span> <span class="token function">getIDCard</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> personId<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Department</span> department <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-4-关联关系" tabindex="-1"><a class="header-anchor" href="#_2-4-关联关系" aria-hidden="true">#</a> 2.4.关联关系</h2><h3 id="_2-4-1-关联关系概述" tabindex="-1"><a class="header-anchor" href="#_2-4-1-关联关系概述" aria-hidden="true">#</a> 2.4.1.关联关系概述</h3><pre><code>关联关系(Association),实际上就是类与类之间的联系,它是依赖关系的特例。关联关系具有导航性:即双向关联关系或单向关联关系
</code></pre><h3 id="_2-4-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-4-2-uml箭头及指向" aria-hidden="true">#</a> 2.4.2.UML箭头及指向</h3><pre><code>带普通箭头的实线,拥有者指向被拥有者
</code></pre><h3 id="_2-4-3-关联关系类图" tabindex="-1"><a class="header-anchor" href="#_2-4-3-关联关系类图" aria-hidden="true">#</a> 2.4.3.关联关系类图</h3><pre><code>单向关联关系
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>双向关联关系
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-4-4-关联关系代码" tabindex="-1"><a class="header-anchor" href="#_2-4-4-关联关系代码" aria-hidden="true">#</a> 2.4.4.关联关系代码</h3><pre><code>单向关联关系
Person.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>association<span class="token punctuation">.</span>singleone2one</span><span class="token punctuation">;</span>
<span class="token comment">//一个人只有一个身份证,一个身份证也只能对应一个人；所以身份证跟人是一对一关系</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IDCard</span> card<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>IDCard.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>association<span class="token punctuation">.</span>singleone2one</span><span class="token punctuation">;</span>
<span class="token comment">//若果代码是这样写的话，就是单向一对一的关系。因为Person中有IDCard成员变量，而中IDCard没有Person成员变量</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>双向关联关系
Person.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>association<span class="token punctuation">.</span>doubleone2one</span><span class="token punctuation">;</span>

<span class="token comment">//因为PersonIDCard中有成员变量，而中IDCard也有Person成员变量，所以这是双向一对一关系</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IDCard</span> card<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>IDCard.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>association<span class="token punctuation">.</span>doubleone2one</span><span class="token punctuation">;</span>
<span class="token comment">//因为Person中有IDCard成员变量，而中IDCard也有Person成员变量，所以这是双向一对一关系</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Person</span> person<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-5-聚合关系" tabindex="-1"><a class="header-anchor" href="#_2-5-聚合关系" aria-hidden="true">#</a> 2.5.聚合关系</h2><h3 id="_2-5-1-聚合关系概述" tabindex="-1"><a class="header-anchor" href="#_2-5-1-聚合关系概述" aria-hidden="true">#</a> 2.5.1.聚合关系概述</h3><pre><code>聚合关系(Aggregation)表示的是整体和部分的关系,整体与部分可以分开。聚合关系是关联关系的特例,所以它具有关联的导航性与多重性。
</code></pre><h3 id="_2-5-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-5-2-uml箭头及指向" aria-hidden="true">#</a> 2.5.2.UML箭头及指向</h3><pre><code>带空心菱形的实心线,菱形指向整体.
</code></pre><h3 id="_2-5-3-聚合关系类图" tabindex="-1"><a class="header-anchor" href="#_2-5-3-聚合关系类图" aria-hidden="true">#</a> 2.5.3.聚合关系类图</h3><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-5-4-聚合关系代码" tabindex="-1"><a class="header-anchor" href="#_2-5-4-聚合关系代码" aria-hidden="true">#</a> 2.5.4.聚合关系代码</h3><pre><code>Moniter.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>aggregation</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Moniter</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Mouse.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>aggregation</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Computer.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>aggregation</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Computer</span> <span class="token punctuation">{</span>
    <span class="token comment">//显示器可以和Computer分离</span>
    <span class="token keyword">private</span> <span class="token class-name">Moniter</span> moniter<span class="token punctuation">;</span>
    <span class="token comment">//鼠标可以和Computer分离</span>
    <span class="token keyword">private</span> <span class="token class-name">Mouse</span> mouse<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Moniter</span> <span class="token function">getMoniter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> moniter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoniter</span><span class="token punctuation">(</span><span class="token class-name">Moniter</span> moniter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>moniter <span class="token operator">=</span> moniter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Mouse</span> <span class="token function">getMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mouse<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMouse</span><span class="token punctuation">(</span><span class="token class-name">Mouse</span> mouse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mouse <span class="token operator">=</span> mouse<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-6-组合关系" tabindex="-1"><a class="header-anchor" href="#_2-6-组合关系" aria-hidden="true">#</a> 2.6.组合关系</h2><h3 id="_2-6-1-组合关系概述" tabindex="-1"><a class="header-anchor" href="#_2-6-1-组合关系概述" aria-hidden="true">#</a> 2.6.1.组合关系概述</h3><pre><code>组合关系(Composite))表示的是整体和部分的关系,整体与部分不能分开。组合关系是关联关系的一种特例。比如说B类里面用到了一个A类,且这个A类是通过new创建的,也就是说当B类被初始化的时候A类也被初始化了。(耦合度比聚合高)
</code></pre><h3 id="_2-6-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-6-2-uml箭头及指向" aria-hidden="true">#</a> 2.6.2.UML箭头及指向</h3><pre><code>带实心菱形的实线,菱形指向整体
</code></pre><h3 id="_2-6-3-组合关系类图" tabindex="-1"><a class="header-anchor" href="#_2-6-3-组合关系类图" aria-hidden="true">#</a> 2.6.3.组合关系类图</h3><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-6-4-组合关系代码" tabindex="-1"><a class="header-anchor" href="#_2-6-4-组合关系代码" aria-hidden="true">#</a> 2.6.4.组合关系代码</h3><pre><code>Head.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>composition</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Head</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Leg.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>composition</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Leg</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Person.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>composition</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">//组合关系，Person和Head是无法分开的</span>
    <span class="token keyword">private</span> <span class="token class-name">Head</span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Head</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//组合关系，Person和Leg是无法分开的</span>
    <span class="token keyword">private</span> <span class="token class-name">Leg</span> leg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-7-泛化关系" tabindex="-1"><a class="header-anchor" href="#_2-7-泛化关系" aria-hidden="true">#</a> 2.7.泛化关系</h2><h3 id="_2-7-1-泛化关系概述" tabindex="-1"><a class="header-anchor" href="#_2-7-1-泛化关系概述" aria-hidden="true">#</a> 2.7.1.泛化关系概述</h3><pre><code>泛化关系(Generalization),泛化关系实际上就是继承关系,它是依赖关系的特例。如果A类继承了B类,我们就说A和B存在泛化关系。
</code></pre><h3 id="_2-7-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-7-2-uml箭头及指向" aria-hidden="true">#</a> 2.7.2.UML箭头及指向</h3><pre><code>带三角箭头的实线,子类指向父类
</code></pre><h3 id="_2-7-3-泛化关系类图" tabindex="-1"><a class="header-anchor" href="#_2-7-3-泛化关系类图" aria-hidden="true">#</a> 2.7.3.泛化关系类图</h3><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-7-4-泛化关系代码" tabindex="-1"><a class="header-anchor" href="#_2-7-4-泛化关系代码" aria-hidden="true">#</a> 2.7.4.泛化关系代码</h3><pre><code>DaoSupport.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>generalization</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">DaoSupport</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PersonServiceBean.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>generalization</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token keyword">extends</span> <span class="token class-name">DaoSupport</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-8-实现关系" tabindex="-1"><a class="header-anchor" href="#_2-8-实现关系" aria-hidden="true">#</a> 2.8.实现关系</h2><h3 id="_2-8-1-实现关系概述" tabindex="-1"><a class="header-anchor" href="#_2-8-1-实现关系概述" aria-hidden="true">#</a> 2.8.1.实现关系概述</h3><pre><code>实现关系(Realization),比如某个类实现了一个接口。它也是依赖关系的特例。
</code></pre><h3 id="_2-8-2-uml箭头及指向" tabindex="-1"><a class="header-anchor" href="#_2-8-2-uml箭头及指向" aria-hidden="true">#</a> 2.8.2.UML箭头及指向</h3><pre><code>带三角箭头的虚线,箭头指向接口
</code></pre><h3 id="_2-8-3-实现关系类图" tabindex="-1"><a class="header-anchor" href="#_2-8-3-实现关系类图" aria-hidden="true">#</a> 2.8.3.实现关系类图</h3><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_2-8-4-实现关系代码" tabindex="-1"><a class="header-anchor" href="#_2-8-4-实现关系代码" aria-hidden="true">#</a> 2.8.4.实现关系代码</h3><pre><code>PersonService.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>realization</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PersonService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PersonServiceBean.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>classrelation<span class="token punctuation">.</span>realization</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token keyword">implements</span> <span class="token class-name">PersonService</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_2-9-六种关系耦合度强弱" tabindex="-1"><a class="header-anchor" href="#_2-9-六种关系耦合度强弱" aria-hidden="true">#</a> 2.9.六种关系耦合度强弱</h2><pre><code>泛化 = 实现 &gt; 组合 &gt; 聚合 &gt; 关联 &gt; 依赖
</code></pre><h1 id="3." tabindex="-1"><a class="header-anchor" href="#3." aria-hidden="true">#</a> 3.设计模式七大原则</h1><h2 id="_3-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_3-1-章节内容概述" aria-hidden="true">#</a> 3.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 3.1.章节内容概述
 3.2.章节内容大纲
 3.3.单一职责原则SRP
 3.4.接口隔离原则ISP
 3.5.依赖倒转原则DIP
 3.6.里氏替换原则LSP
 3.7.开闭原则OCP
 3.8.迪米特原则LoD
 3.9.合成复用原则CARP
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_3-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_3-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter3.html" target="_blank">3.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter3.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_3-3-单一职责原则srp" tabindex="-1"><a class="header-anchor" href="#_3-3-单一职责原则srp" aria-hidden="true">#</a> 3.3.单一职责原则SRP</h2><h3 id="_3-3-1-单一职责原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-3-1-单一职责原则介绍" aria-hidden="true">#</a> 3.3.1.单一职责原则介绍</h3><pre><code>概述
一个类应该只负责一项职责

为什么要遵循单一职责原则
如类A负责两个不同职责: 职责1,职责2。当职责1需求变更而改变A时,可能造成职责2执行错误,所以需要将类A的粒度分解为A1,A2。

注意事项
a.降低类的复杂度,一个类只负责一项职责
b.提高类的可读性,可维护性
c.降低变更引起的风险
d.通常情况下,我们应当遵守单一职责原则,只有逻辑足够简单,才可以在代码级违反单一职责原则,只有类中方法数量足够少,可以在方法级别保持单一职责原则,但是通常不要违反,因为很难确定代码以后是否会发生更改
</code></pre><h3 id="_3-3-2-单一职责原则代码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-单一职责原则代码" aria-hidden="true">#</a> 3.3.2.单一职责原则代码</h3><h4 id="_3-3-2-1-不使用单一职责原则代码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-1-不使用单一职责原则代码" aria-hidden="true">#</a> 3.3.2.1.不使用单一职责原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>single_reponsibility</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 不使用单一职能原则
 *      Vehicle1.run()方法违反了单一职能原则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleReponsibility1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Vehicle1</span> vehicle1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vehicle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vehicle1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;汽车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vehicle1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;火车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vehicle1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;飞机&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Vehicle1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle <span class="token operator">+</span> <span class="token string">&quot;在公路上跑...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-3-2-2-使用单一职责原则代码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-2-使用单一职责原则代码" aria-hidden="true">#</a> 3.3.2.2.使用单一职责原则代码</h4><h5 id="_3-3-2-2-1-类级别单一职责原则代码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-2-1-类级别单一职责原则代码" aria-hidden="true">#</a> 3.3.2.2.1.类级别单一职责原则代码</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>single_reponsibility</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 类级别的单一职能原则：严格遵守了单一职责原则
 * 遵守了单一职责原则:但是会导致类大爆炸
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleResponsibility2</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">RoadVehicle</span> roadVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RoadVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        roadVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;汽车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AirVehicle</span> airVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AirVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        airVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;飞机&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">WaterVehicle</span> waterVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WaterVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        waterVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;轮船&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">RoadVehicle</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在路上跑...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">WaterVehicle</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在水里跑...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AirVehicle</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在天上飞...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h5 id="_3-3-2-2-2-方法别单一职责原则代码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-2-2-方法别单一职责原则代码" aria-hidden="true">#</a> 3.3.2.2.2.方法别单一职责原则代码</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>single_reponsibility</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 方法级别的单一职能原则，会导致类中方法大爆炸
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleResponsibility3</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Veicle3</span> veicle3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Veicle3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        veicle3<span class="token punctuation">.</span><span class="token function">runRoad</span><span class="token punctuation">(</span><span class="token string">&quot;汽车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        veicle3<span class="token punctuation">.</span><span class="token function">runAir</span><span class="token punctuation">(</span><span class="token string">&quot;飞机&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        veicle3<span class="token punctuation">.</span><span class="token function">runWater</span><span class="token punctuation">(</span><span class="token string">&quot;轮船&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Veicle3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runRoad</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在路上跑...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runAir</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在天上飞...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runWater</span><span class="token punctuation">(</span><span class="token class-name">String</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>vehicle<span class="token operator">+</span><span class="token string">&quot;在水里跑...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-4-接口隔离原则isp" tabindex="-1"><a class="header-anchor" href="#_3-4-接口隔离原则isp" aria-hidden="true">#</a> 3.4.接口隔离原则ISP</h2><h3 id="_3-4-1-接口隔离原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-4-1-接口隔离原则介绍" aria-hidden="true">#</a> 3.4.1.接口隔离原则介绍</h3><pre><code>客户端不应该依赖它不需要的接口，即一个类对另一个类的依赖应该建立在最小的接口上
</code></pre><h3 id="_3-4-2-接口隔离原则代码" tabindex="-1"><a class="header-anchor" href="#_3-4-2-接口隔离原则代码" aria-hidden="true">#</a> 3.4.2.接口隔离原则代码</h3><h4 id="_3-4-2-1-不使用接口隔离原则代码" tabindex="-1"><a class="header-anchor" href="#_3-4-2-1-不使用接口隔离原则代码" aria-hidden="true">#</a> 3.4.2.1.不使用接口隔离原则代码</h4><pre><code>Interface1.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>interface_segregation</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 不遵守接口隔离原则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * A1通过Interface1依赖B类，但只会用到1、2、3方法
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator2()、operator3()、operator4()和operator5()两个方法，实际根本不需要这四个方法</span>
        <span class="token comment">//interface1.operator2();</span>
        <span class="token comment">//interface1.operator3();</span>
        <span class="token comment">//interface1.operator4();</span>
        <span class="token comment">//interface1.operator5();</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend2</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator1()、operator3()、operator4()和operator5()两个方法，实际根本不需要这两个方法</span>
        <span class="token comment">//interface1.operator1();</span>
        <span class="token comment">//interface1.operator3();</span>
        <span class="token comment">//interface1.operator4();</span>
        <span class="token comment">//interface1.operator5();</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend3</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator1()、operator2()、operator4()和operator5()两个方法，实际根本不需要这两个方法</span>
        <span class="token comment">//interface1.operator1();</span>
        <span class="token comment">//interface1.operator2();</span>
        <span class="token comment">//interface1.operator4();</span>
        <span class="token comment">//interface1.operator5();</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * C1通过Interface1依赖D类，但只会用到1、4、5方法
 */</span>
<span class="token keyword">class</span> <span class="token class-name">C1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator2()、operator3()、operator4()和operator5()两个方法，实际根本不需要这四个方法</span>
        <span class="token comment">//interface1.operator2();</span>
        <span class="token comment">//interface1.operator3();</span>
        <span class="token comment">//interface1.operator4();</span>
        <span class="token comment">//interface1.operator5();</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend4</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator1()、operator2()、operator3()和operator5()两个方法，实际根本不需要这四个方法</span>
        <span class="token comment">//interface1.operator1();</span>
        <span class="token comment">//interface1.operator2();</span>
        <span class="token comment">//interface1.operator3();</span>
        <span class="token comment">//interface1.operator5();</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend5</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> interface1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface1<span class="token punctuation">.</span><span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//如果不进行接口隔离，interface1仍然可以调用接口中的operator1()、operator2()、operator3()和operator4()两个方法，实际根本不需要这四个方法</span>
        <span class="token comment">//interface1.operator1();</span>
        <span class="token comment">//interface1.operator2();</span>
        <span class="token comment">//interface1.operator3();</span>
        <span class="token comment">//interface1.operator4();</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B1</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B1实现了操作1...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B1实现了操作2...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B1实现了操作3...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B1实现了操作4...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B1实现了操作5...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">D1</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D1实现了操作1...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D1实现了操作2...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D1实现了操作3...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D1实现了操作4...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D1实现了操作5...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Interface1Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>interface_segregation</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 调用Interface1的客户端
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Interface1Client</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 测试A1通过Interface1依赖B1，但是只调用1、2、3方法
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testA1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">A1</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//本来要传入接口Interface1的，现在根据面向接口编程原则，传入Interface1的实现B1</span>
        a1<span class="token punctuation">.</span><span class="token function">depend1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a1<span class="token punctuation">.</span><span class="token function">depend2</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a1<span class="token punctuation">.</span><span class="token function">depend3</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 测试C1通过Interface1依赖D1
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testC1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">C1</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//本来要传入接口Interface1的，现在根据面向接口编程原则，传入Interface1的实现D1</span>
        c1<span class="token punctuation">.</span><span class="token function">depend1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">depend4</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">depend5</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-4-2-2-使用接口隔离原则代码" tabindex="-1"><a class="header-anchor" href="#_3-4-2-2-使用接口隔离原则代码" aria-hidden="true">#</a> 3.4.2.2.使用接口隔离原则代码</h4><pre><code>Interface2.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>interface_segregation</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Interface2</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * 遵循接口隔离原则
 *      把接口1差分为3个接口
 */</span>
<span class="token comment">//public interface Interface1 {</span>
<span class="token comment">//    void operator1();</span>
<span class="token comment">//    void operator2();</span>
<span class="token comment">//    void operator3();</span>
<span class="token comment">//    void operator4();</span>
<span class="token comment">//    void operator5();</span>
<span class="token comment">//}</span>
<span class="token keyword">interface</span> <span class="token class-name">Interface2A</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Interface2B</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Interface2C</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 客户端不应该依赖它不需要的接口，即一个类对另一个类的依赖应该建立在最小的接口上
 * A2就是客户端
 * A2通过Interface1A,InterfaceC依赖B2类
 * 接口隔离后，interface2A只能调用operator1()
 *           interface2B只能调用operator2()和operator3()
 *           interface2C只能调用operator4()和operator5()
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface2A</span> interface2A<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2A<span class="token punctuation">.</span><span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend2</span><span class="token punctuation">(</span><span class="token class-name">Interface2B</span> interface2B<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2B<span class="token punctuation">.</span><span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend3</span><span class="token punctuation">(</span><span class="token class-name">Interface2B</span> interface2B<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2B<span class="token punctuation">.</span><span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 客户端不应该依赖它不需要的接口，即一个类对另一个类的依赖应该建立在最小的接口上
 * C2就是客户端
 * C2通过Interface2A,Interface2B依赖D2类
 * 接口隔离后，interface2A只能调用operator1()
 *            interface2B只能调用operator2()和operator3()
 *            interface2C只能调用operator4()和operator5()
 */</span>
<span class="token keyword">class</span> <span class="token class-name">C2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface2A</span> interface2A<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2A<span class="token punctuation">.</span><span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend4</span><span class="token punctuation">(</span><span class="token class-name">Interface2C</span> interface2C<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2C<span class="token punctuation">.</span><span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend5</span><span class="token punctuation">(</span><span class="token class-name">Interface2C</span> interface2C<span class="token punctuation">)</span><span class="token punctuation">{</span>
        interface2C<span class="token punctuation">.</span><span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B2</span> <span class="token keyword">implements</span> <span class="token class-name">Interface2A</span><span class="token punctuation">,</span><span class="token class-name">Interface2B</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B2实现了操作1...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B2实现了操作2...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B2实现了操作3...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">D2</span> <span class="token keyword">implements</span> <span class="token class-name">Interface2A</span><span class="token punctuation">,</span><span class="token class-name">Interface2C</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D2实现了操作1...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D2实现了操作4...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operator5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D2实现了操作5...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><pre><code>Interface2Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>interface_segregation</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Interface2Client</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 测试A2通过接口Interface2A,Interface2B依赖B2
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testA2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">A2</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a2<span class="token punctuation">.</span><span class="token function">depend1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a2<span class="token punctuation">.</span><span class="token function">depend2</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a2<span class="token punctuation">.</span><span class="token function">depend3</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 测试C2通过接口Interface2B,Interface2C依赖D2
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testC2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">C2</span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">depend1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">depend4</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">depend5</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-5-依赖倒转原则dip" tabindex="-1"><a class="header-anchor" href="#_3-5-依赖倒转原则dip" aria-hidden="true">#</a> 3.5.依赖倒转原则DIP</h2><h3 id="_3-5-1-依赖倒转原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-5-1-依赖倒转原则介绍" aria-hidden="true">#</a> 3.5.1.依赖倒转原则介绍</h3><pre><code>概述
a.高层模块不应该依赖底层模块,二者都应该依赖其抽象
b.抽象不应该依赖细节，细节应该依赖抽象
c.依赖反转的中心思想是面向结构编程
d.依赖反转的思想是基于这样的理念:相对于细节的多变性，抽象的东西要稳定的多,以抽象为基础的架构比以细节为基础的架构要稳定的多,在java中,抽象的多指接口和抽象类,细节就是具体的实现类
e.使用类或者接口的目的是制定规范,而不涉及任何具体的子类操作,把展现细节的任务交给他们的实现类去做

依赖关系传递的三种方式
a.接口传递
b.构造方法传递
c.setter方法传递

注意事项
a.底层模块尽量都要有抽象类或接口,或者两者都有，程序稳定性更好
b.变量的声明类型尽量都是抽象类或者接口,这样我们的变量引用和实际对象之间,就存在一个缓冲层,有利于程序的优化和扩展
c.继承是遵循里氏替换原则
</code></pre><h3 id="_3-5-2-依赖倒转原则代码" tabindex="-1"><a class="header-anchor" href="#_3-5-2-依赖倒转原则代码" aria-hidden="true">#</a> 3.5.2.依赖倒转原则代码</h3><h4 id="_3-5-2-1-不使用依赖倒转原则代码" tabindex="-1"><a class="header-anchor" href="#_3-5-2-1-不使用依赖倒转原则代码" aria-hidden="true">#</a> 3.5.2.1.不使用依赖倒转原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>dependenceinversion</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 不使用依赖反转原则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NoUseDependenceDeliverTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person1</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person1<span class="token punctuation">.</span><span class="token function">receviceEmail</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Email1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person1<span class="token punctuation">.</span><span class="token function">receviceQQ</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">QQ1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person1<span class="token punctuation">.</span><span class="token function">receviceWeChat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeChat1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 通过Person1实现接口消息的功能
 *      缺点:接受QQ要写一个方法，接收邮件要写一个方法
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Person1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receviceEmail</span><span class="token punctuation">(</span><span class="token class-name">Email1</span> email1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>email1<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receviceQQ</span><span class="token punctuation">(</span><span class="token class-name">QQ1</span> qq1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>qq1<span class="token punctuation">.</span><span class="token function">getQQ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receviceWeChat</span><span class="token punctuation">(</span><span class="token class-name">WeChat1</span> weChat<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>weChat<span class="token punctuation">.</span><span class="token function">getWeChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Email1</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;电子邮件信息:HelloWorld&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">QQ1</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getQQ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;QQ信息:收到了QQ消息&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">WeChat1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getWeChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;微信信息:收到了微信消息&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><h4 id="_3-5-2-2-使用依赖倒转原则代码" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2-使用依赖倒转原则代码" aria-hidden="true">#</a> 3.5.2.2.使用依赖倒转原则代码</h4><h5 id="_3-5-2-2-1-依赖倒转原则简单案例" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2-1-依赖倒转原则简单案例" aria-hidden="true">#</a> 3.5.2.2.1.依赖倒转原则简单案例</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>dependenceinversion</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 遵循依赖反转原则
 * 面向接口编程
 *      基于接口传递实现依赖
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UseDependenceDeliverTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//面向接口编程</span>
        <span class="token class-name">Person2</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person2<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Email2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person2<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">QQ2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        person2<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeChat2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token class-name">MessageInterface</span> messageInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>messageInterface<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">MessageInterface</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Email2</span> <span class="token keyword">implements</span> <span class="token class-name">MessageInterface</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token string">&quot;电子邮件信息:HelloWorld&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">QQ2</span> <span class="token keyword">implements</span> <span class="token class-name">MessageInterface</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;QQ信息:收到了QQ消息&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">WeChat2</span> <span class="token keyword">implements</span> <span class="token class-name">MessageInterface</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;微信信息:收到了微信消息&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h5 id="_3-5-2-2-2-通过接口传递依赖" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2-2-通过接口传递依赖" aria-hidden="true">#</a> 3.5.2.2.2.通过接口传递依赖</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>dependenceinversion</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 依赖关系传递的三种方式
 *  第一种方式：通过接口传递依赖
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DependenceDeliver1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">OpenAndClose1</span> openAndClose1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenAndClose1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        openAndClose1<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITV1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ITV1播放......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ITV1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">ITV1</span> iTv1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">OpenAndClose1</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose1</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">ITV1</span> iTv1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iTv1<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h5 id="_3-5-2-2-3-通过构造方法传递依赖" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2-3-通过构造方法传递依赖" aria-hidden="true">#</a> 3.5.2.2.3.通过构造方法传递依赖</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>dependenceinversion</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 依赖关系传递的三种方式
 *  第二种方式：通过构造方法传递依赖
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DependenceDeliver2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">OpenAndClose2</span> openAndClose2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenAndClose2</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITV2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ITV2播放......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        openAndClose2<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ITV2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">OpenAndClose2</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose2</span><span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">ITV2</span> iTv2<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">OpenAndClose2</span><span class="token punctuation">(</span><span class="token class-name">ITV2</span> iTv2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iTv2 <span class="token operator">=</span> iTv2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iTv2<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h5 id="_3-5-2-2-4-通过setter-方法传递依赖" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2-4-通过setter-方法传递依赖" aria-hidden="true">#</a> 3.5.2.2.4.通过setter()方法传递依赖</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>dependenceinversion</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 依赖关系传递的三种方式
 *  第三种方式：通过setter()方法传递依赖
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DependenceDeliver3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">OpenAndClose3</span> openAndClose3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenAndClose3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        openAndClose3<span class="token punctuation">.</span><span class="token function">setItv3</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITV3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ITV3播放......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        openAndClose3<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ITV3</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">OpenAndClose3</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose3</span><span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ITV3</span> itv3<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setItv3</span><span class="token punctuation">(</span><span class="token class-name">ITV3</span> itv3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itv3 <span class="token operator">=</span> itv3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itv3<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-6-里氏替换原则lsp" tabindex="-1"><a class="header-anchor" href="#_3-6-里氏替换原则lsp" aria-hidden="true">#</a> 3.6.里氏替换原则LSP</h2><h3 id="_3-6-1-里氏替换原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-6-1-里氏替换原则介绍" aria-hidden="true">#</a> 3.6.1.里氏替换原则介绍</h3><pre><code>概述
里氏替换原则告诉我们,继承实际上让两个类耦合性增强了,在适当的情况下,可以通过聚合、组合、依赖来解决问题

里氏替换原则是为了解决了什么问题
a.正确的使用继承
b.将原来的继承关系转换为继承基类+聚合/组合/依赖关系

里氏替换原则详细说明
a.所有能使用父类的地方,都能透明的使用该父类的子类对象
即继承时,子类尽量不要重写父类的方法,除非迫不得已,如果非要重写,就再写一个更基础的类,把这个要重写的方法提到基类里面去
b.遵循里氏替换原则,把继承这种高耦合的关系转换为聚合、组合、依赖这几种低耦合的关系
</code></pre><h3 id="_3-6-2-里氏替换原则代码" tabindex="-1"><a class="header-anchor" href="#_3-6-2-里氏替换原则代码" aria-hidden="true">#</a> 3.6.2.里氏替换原则代码</h3><h4 id="_3-6-2-1-不使用里氏替换原则代码" tabindex="-1"><a class="header-anchor" href="#_3-6-2-1-不使用里氏替换原则代码" aria-hidden="true">#</a> 3.6.2.1.不使用里氏替换原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>liskov_substitution</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 未使用里氏替换原则
 * B1类继承了A1类，在不知道的情况下重下了父类A1的fun1()方法，外部调用子类B1类中中fun1()的时候以为
 *      里面的逻辑还是a-b，其实逻辑已经在不知道的情况下被重写成a+b了，导致计算结果出了问题
 *
 * 缺点：A1和B1的耦合性太高了，修改B很容易对A造成影响
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Liskov1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">A1</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11-3 = &quot;</span><span class="token operator">+</span>a1<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1-8 = &quot;</span><span class="token operator">+</span>a1<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">A1</span> b1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11-3 = &quot;</span><span class="token operator">+</span>b1<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1-8 = &quot;</span><span class="token operator">+</span>b1<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A1</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 返回 a与b的差
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * B1类继承了A1类，在不知道的情况下重下了父类A的fun1()方法
 */</span>
<span class="token keyword">class</span> <span class="token class-name">B1</span> <span class="token keyword">extends</span> <span class="token class-name">A1</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 返回 a与b的和
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * B1独有方法，非继承自A1
     * 返回 a与b的和加上9
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">fun1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-6-2-2-使用里氏替换原则代码" tabindex="-1"><a class="header-anchor" href="#_3-6-2-2-使用里氏替换原则代码" aria-hidden="true">#</a> 3.6.2.2.使用里氏替换原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>liskov_substitution</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 使用里氏替换原则：
 *  1.B2类不再继承A2类，改为A2类和B2类都继承一个基类Base
 *  2.这样调用者通过查看继承关系，明显的就知道了B2类中的fun1()里面的逻辑是a+b，而不是a-b
 *  3.把A2和B2中的公用方法printHelloWorld()抽取到了Base中
 *
 *  注意：本来B2继承了A2，可以直接调用父类A2中的方法，里氏替换原则修改代码后，B2不再继承A2，B2想要调用A2中的方法则可以通过依赖A2来实现调用
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Liskov2</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 将A2和B2中的公用方法printHelloWorld()抽取到了Base中
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token comment">//把更加基础的方法和成员写到Base类中</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">A2</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 返回 a与b的差
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B2</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>

    <span class="token comment">//B通过这个方式依赖A</span>
    <span class="token keyword">private</span> <span class="token class-name">A2</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 返回 a与b的和
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * B2独有方法，非继承自A2
     * 返回 a与b的和加上9
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">fun1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 里氏替换原则，如果B2和A2同时继承了基类Base，那么当B2想要使用A2类中的方法的时候，可以通过依赖的方式来调用A类2中的方法
     * <span class="token keyword">@param</span> <span class="token parameter">a</span>
     * <span class="token keyword">@param</span> <span class="token parameter">b</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span>  <span class="token keyword">int</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a2<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-7-开闭原则ocp" tabindex="-1"><a class="header-anchor" href="#_3-7-开闭原则ocp" aria-hidden="true">#</a> 3.7.开闭原则OCP</h2><h3 id="_3-7-1-开闭原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-7-1-开闭原则介绍" aria-hidden="true">#</a> 3.7.1.开闭原则介绍</h3><pre><code>概述
对修改关闭,对扩展开放

开闭原则详细说明
a.开闭原则是编程中最基础，最为重要的原则
b.一个软件实体,函数模块应该对扩展开放(对提供功能的一方而言),对修改关闭(对调用方/使用功能的一方而言,注意:不是对于客户端开放,客户端调用方法的使用方)。换而言之,当当增加一个新的类或者方法后,原先正在使用的代码不会收到丝毫影响,概括的说:对扩展开放,对修改关闭,即用抽象构建框架,用实现扩展细节
c.当软件需要变化时,尽量通过扩展软件的实体行为来实现变化,而不是通过修改已有的代码去实现,简单的说,就是通过扩展而不是通过修改已有代码
d.使用设计模式就是为了使代码更遵守开闭原则,是最重要的原则,其他的设计模式都是为了达到开闭原则的效果
e.遵循OPC原则设计出来的系统意味着具有相当的稳定性,至少在增加新功能的时候不会影响旧的功能,因为新的功能是通过扩展原来功能,而不是修改原来的功能,在代码层面的体现是新增一个功能不会动原来的代码,而是把新的功能写在新的类中
</code></pre><h3 id="_3-7-2-开闭原则代码" tabindex="-1"><a class="header-anchor" href="#_3-7-2-开闭原则代码" aria-hidden="true">#</a> 3.7.2.开闭原则代码</h3><h4 id="_3-7-2-1-不使用开闭原则代码" tabindex="-1"><a class="header-anchor" href="#_3-7-2-1-不使用开闭原则代码" aria-hidden="true">#</a> 3.7.2.1.不使用开闭原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>open_close</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 不遵循OCP原则，目前只有一个画三角形的需求，当增加一个画圆形的需求的时候，
 * 不仅要对方法的提供者Painter做修改，也要对调用者做修改
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OCPTest1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Painter1</span> painter1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Painter1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        painter1<span class="token punctuation">.</span><span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Triagle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        painter1<span class="token punctuation">.</span><span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cricle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * 方法的使用方:
 *      不遵守OCP,扩展的时候要对方法的使用方做修改
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Painter1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token class-name">Shape1</span> shape<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">drawTriangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawTriangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;画三角形...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;画圆形...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Shape1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 方法的提供方
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Triagle1</span> <span class="token keyword">extends</span> <span class="token class-name">Shape1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Triagle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * 方法的提供方
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Cricle1</span> <span class="token keyword">extends</span> <span class="token class-name">Shape1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Cricle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-7-2-2-使用开闭原则代码" tabindex="-1"><a class="header-anchor" href="#_3-7-2-2-使用开闭原则代码" aria-hidden="true">#</a> 3.7.2.2.使用开闭原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>open_close</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OCPTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Painter2</span> painter2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Painter2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        painter2<span class="token punctuation">.</span><span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Triagle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        painter2<span class="token punctuation">.</span><span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cricle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 方法的使用方:
 *      遵守OCP,扩展的时候不用再对方法的使用方做修改
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Painter2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token class-name">Shape2</span> shape<span class="token punctuation">)</span><span class="token punctuation">{</span>
       shape<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> type<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * 方法的提供方
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Triagle2</span> <span class="token keyword">extends</span> <span class="token class-name">Shape2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Triagle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;画三角形......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
 * 方法的提供方
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Cricle2</span> <span class="token keyword">extends</span> <span class="token class-name">Shape2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Cricle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;画圆形......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-8-迪米特原则lod" tabindex="-1"><a class="header-anchor" href="#_3-8-迪米特原则lod" aria-hidden="true">#</a> 3.8.迪米特原则LoD</h2><h3 id="_3-8-1-迪米特原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-8-1-迪米特原则介绍" aria-hidden="true">#</a> 3.8.1.迪米特原则介绍</h3><pre><code>概述
只与直接的朋友通信，最少知道原则,避免与非直接朋友的耦合,对自己依赖的类知道的越少越好,对于被依赖的类不管多复杂,都尽量将逻辑封在内部。需要注意的是降低类之间的耦合,只是减少不必要的耦合,并不是要求完全解除耦合

迪米特原则详细说明
a.一个对象应该对其他对象保持最少的了解
b.类与类关系越密切,耦合度越大
c.迪米特原则又称最少知道原则,即一个类对自己依赖的类知道的越少越好,也就是说,对于被依赖的类不管多么复杂,都应该尽量将逻辑封装在类的内部,除了对外提供public方法之外,不对外泄露任何信息
e.迪米特方法还有个更简单的定义: 只与直接朋友通信
    直接朋友:每个对象都会与其他对象有耦合关系,只要两个对象之间有耦合关系,我们就直接说这两个对象之间是朋友关系。耦合的方式有很多依赖、关联、组合、聚合，其中我们将出现在成员变量,方法参数,方法返回值这几个位置中类称为直接朋友,而出现在局部变量中的类不是直接朋友,也就是说,陌生的类最好不要以局部变量的方式出现在类的内部

直接朋友和间接朋友
直接朋友:出现在返回值、成员变量、方法参数中的类
间接朋友:出现在方法中作为局部变量的类
class A{
    public void fun(){}
}
class C{
    public void fun(){}
}
class B{
    //C就是B的直接朋友:出现在成员变量位置
    private C c = new C();
    //C就是B的直接朋友:出现在方法参数位置
    public void test1(C c){
        c.fun();
    }
    //C就是B的直接朋友:出现在返回值位置
    public C test3(){
        return null;
    }
    public void test4(){
        //A就是B的间接朋友:出现在方法中作为局部变量位置
        A a = new A();
        a.fun();
    }
}
</code></pre><h3 id="_3-8-2-迪米特原则代码" tabindex="-1"><a class="header-anchor" href="#_3-8-2-迪米特原则代码" aria-hidden="true">#</a> 3.8.2.迪米特原则代码</h3><h4 id="_3-8-2-1-不使用迪米特原则代码" tabindex="-1"><a class="header-anchor" href="#_3-8-2-1-不使用迪米特原则代码" aria-hidden="true">#</a> 3.8.2.1.不使用迪米特原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>demeter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 未遵守迪米特法则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demeter1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SchoolManager1</span> schoolManager1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SchoolManager1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        schoolManager1<span class="token punctuation">.</span><span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CollegeManager1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学校总部员工类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Employee1</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学院员工类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CollegeEmployee1</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学院员工管理类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CollegeManager1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee1</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllCollegeEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee1</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//增加10个员工到学院</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">CollegeEmployee1</span> collegeEmployee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CollegeEmployee1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            collegeEmployee<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;学院员工id&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>collegeEmployee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学校总部员工管理类
 *  SchoolManager的直接朋友：Employee、CollegeManager
 *  SchoolManager的非直接朋友：CollegeEmployee，这样就 违反了迪米特法则（只与直接的朋友通信，最少知道原则，避免与非直接朋友的耦合）
 */</span>
<span class="token keyword">class</span> <span class="token class-name">SchoolManager1</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee1</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee1</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//增加5个员工到学校总部</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">Employee1</span> employee1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            employee1<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;学校总部员工id&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>employee1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 输出学校总部和学院员工信息
     * <span class="token keyword">@param</span> <span class="token parameter">collegeManager1</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token class-name">CollegeManager1</span> collegeManager1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee1</span><span class="token punctuation">&gt;</span></span> allCollegeEmployee <span class="token operator">=</span> collegeManager1<span class="token punctuation">.</span><span class="token function">getAllCollegeEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------学院员工--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CollegeEmployee1</span> collegeEmployee1 <span class="token operator">:</span> allCollegeEmployee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collegeEmployee1<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee1</span><span class="token punctuation">&gt;</span></span> allEmployee <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------学校总部员工--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee1</span> employee1 <span class="token operator">:</span> allEmployee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee1<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-8-2-2-使用迪米特原则代码" tabindex="-1"><a class="header-anchor" href="#_3-8-2-2-使用迪米特原则代码" aria-hidden="true">#</a> 3.8.2.2.使用迪米特原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>demeter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 使用迪米特法则改进
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demeter2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SchoolManager2</span> schoolManager2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SchoolManager2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        schoolManager2<span class="token punctuation">.</span><span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CollegeManager2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学校总部员工类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Employee2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学院员工类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CollegeEmployee2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学院员工管理类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CollegeManager2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee2</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllCollegeEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee2</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//增加10个员工到学院</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">CollegeEmployee2</span> collegeEmployee2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CollegeEmployee2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            collegeEmployee2<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;学院员工id&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>collegeEmployee2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * 输出学院员工信息
     * <span class="token keyword">@param</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee2</span><span class="token punctuation">&gt;</span></span> allCollegeEmployee <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllCollegeEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------学院员工--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CollegeEmployee2</span> collegeEmployee2 <span class="token operator">:</span> allCollegeEmployee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collegeEmployee2<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 学校总部员工管理类
 */</span>
<span class="token keyword">class</span> <span class="token class-name">SchoolManager2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee2</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee2</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//增加5个员工到学校总部</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">Employee2</span> employee2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            employee2<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;学校总部员工id&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>employee2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 输出学校总部员工信息
     * <span class="token keyword">@param</span> <span class="token parameter">collegeManager2</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token class-name">CollegeManager2</span> collegeManager2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//输出学院员工信息</span>
        collegeManager2<span class="token punctuation">.</span><span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//输出学校员工信息</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee2</span><span class="token punctuation">&gt;</span></span> allEmployee <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------学校总部员工--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee2</span> employee2 <span class="token operator">:</span> allEmployee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee2<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_3-9-合成复用原则carp" tabindex="-1"><a class="header-anchor" href="#_3-9-合成复用原则carp" aria-hidden="true">#</a> 3.9.合成复用原则CARP</h2><h3 id="_3-9-1-合成复用原则介绍" tabindex="-1"><a class="header-anchor" href="#_3-9-1-合成复用原则介绍" aria-hidden="true">#</a> 3.9.1.合成复用原则介绍</h3><pre><code>概述
尽量使用合成/聚合方法,避免使用继承

使用合成复用原则有什么效果
当A继承B后,A拥有B所有的方法,使用合成复用改进后,A可以调用B中的方法,不用的方法就不出现在B中了

合成复用原则与继承原则关系
在编程中,推荐尽量使用合成复用原则来代替继承,但是反过来,可以使用合成复用原则解决的问题也可以使用继承解决
</code></pre><h3 id="_3-9-2-合成复用原则代码" tabindex="-1"><a class="header-anchor" href="#_3-9-2-合成复用原则代码" aria-hidden="true">#</a> 3.9.2.合成复用原则代码</h3><h4 id="_3-9-2-1-不使用合成复用原则代码" tabindex="-1"><a class="header-anchor" href="#_3-9-2-1-不使用合成复用原则代码" aria-hidden="true">#</a> 3.9.2.1.不使用合成复用原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>compositereuse</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 合成复用原则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompositeReuse1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 继承关系
 * 如果想让B1使用A1的方法，可以让B1继承A1,不过，这样会加重B1和A1的耦合
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B1</span> <span class="token keyword">extends</span> <span class="token class-name">A1</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

</code></pre></div><h4 id="_3-9-2-2-使用合成复用原则代码" tabindex="-1"><a class="header-anchor" href="#_3-9-2-2-使用合成复用原则代码" aria-hidden="true">#</a> 3.9.2.2.使用合成复用原则代码</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>principles<span class="token punctuation">.</span>compositereuse</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 合成复用原则
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompositeReuse2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 代替继承关系的方式一：依赖关系
 * 如果想让B1使用A1的方法，B2依赖A2,即在B2的方法参数中传入A2，然后再通过调用A2对象的方法来实现B2使用A2中的方法
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token class-name">A2</span> a2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        a2<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token class-name">A2</span> a2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        a2<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token class-name">A2</span> a2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        a2<span class="token punctuation">.</span><span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 代替继承关系的方式二：聚合关系
 * 把A3聚合到B3中，即A3作为B3的属性出现在B3中，并且通过setter()方法为B3中的A3注入值
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A3</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B3</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">A3</span> a3<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setA3</span><span class="token punctuation">(</span><span class="token class-name">A3</span> a3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a3 <span class="token operator">=</span> a3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a3<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a3<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a3<span class="token punctuation">.</span><span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 代替继承关系的方式三：组合关系
 * 让A4作为B4的属性出现在B4中，而且当B4创建完成后A4就创建完成了，称为把A4组合到B4中
 * 让A4作为B5的属性出现在B5中，而且当B5创建完成后A4就创建完成了，称为把A5组合到B4中
 */</span>
<span class="token keyword">class</span> <span class="token class-name">A4</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//通过直接new给成员变量赋值</span>
<span class="token keyword">class</span> <span class="token class-name">B4</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">A4</span> a4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//通过构造方法给成员变量赋值</span>
<span class="token keyword">class</span> <span class="token class-name">B5</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">A4</span> a4<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">B5</span><span class="token punctuation">(</span><span class="token class-name">A4</span> a4<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a4 <span class="token operator">=</span> a4<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a4<span class="token punctuation">.</span><span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h1 id="4." tabindex="-1"><a class="header-anchor" href="#4." aria-hidden="true">#</a> 4.创建型模式-单例模式</h1><h2 id="_4-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_4-1-章节内容概述" aria-hidden="true">#</a> 4.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 4.1.章节内容概述
 4.2.章节内容大纲
 4.3.简介
 4.4.应用场景
 4.5.优缺点
 4.6.角色及其职责
 4.7.模型
 4.8.示例
 4.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_4-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_4-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter4.html" target="_blank">4.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter4.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_4-3-简介" tabindex="-1"><a class="header-anchor" href="#_4-3-简介" aria-hidden="true">#</a> 4.3.简介</h2><pre><code>单例模式(Singleton Pattern)是一种创建型设计模式,又名单件模式或单态模式,目的是为了保证一个类只有一个实例对象,并提供一个获取该实例对象的全局方法,通过这个全局方法创建的所有实例对象都是同一个实例对象,这个类称为单例类。单例模式的要点有三个:一是某个类只能有一个实例对象;二是这个类必须自行创建这个实例对象;三是这个类必须自行向整个系统提供这个实例。
</code></pre><h2 id="_4-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_4-4-应用场景" aria-hidden="true">#</a> 4.4.应用场景</h2><pre><code>单例模式应用的场景一般发现在以下条件下
资源共享的情况下: 避免由于资源操作时导致的性能或损耗等
控制资源的情况下: 方便资源之间的互相通信

具体应用场景
a.Windows的Task Manager(任务管理器),在一个Windows系统中只有一个Task Manager实例
b.Windows的Recycle Bin(回收站),在一个Windows系统中只有一个Recycle Bin实例
c.网站的计数器,一般也是采用单例模式实现,否则难以同步
d.应用程序的日志应用,一般都何用单例模式实现,这一般是由于共享的日志文件一直处于打开状态,因为只能有一个实例去操作,否则无法实现内容追加
e.数据库连接池的设计一般也是采用单例模式,因为数据库连接是一种数据库资源。数据库软件系统中使用数据库连接池,主要是节省打开或者关闭数据库连接所引起的效率损耗,这种效率上的损耗还是非常昂贵的,因为何用单例模式来维护,就可以大大降低这种损耗
f.多线程的线程池的设计一般也是采用单例模式,这是由于线程池要方便对池中的线程进行控制
g.操作系统的文件系统,也是大的单例模式实现的具体例子,一个操作系统只能有一个文件系统
</code></pre><h2 id="_4-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_4-5-优缺点" aria-hidden="true">#</a> 4.5.优缺点</h2><h3 id="_4-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_4-5-1-优点" aria-hidden="true">#</a> 4.5.1.优点</h3><pre><code>a.由于单例模式在内存中只有一个实例,减少内存开支,特别是一个对象需要频繁地创建销毁时,而且创建或销毁时性能又无法优化,单例模式就非常明显了
b.由于单例模式只生成一个实例,所以,减少系统的性能开销,当一个对象产生需要比较多的资源时,如读取配置,产生其他依赖对象时,则可以通过在应用启动时直接产生一个单例对象,然后永久驻留内存的方式来解决
c.单例模式可以避免对资源的多重占用,例如一个写文件操作,由于只有一个实例存在内存中,避免对同一个资源文件的同时写操作
d.单例模式可以在系统设置全局的访问点,优化和共享资源访问,例如，可以设计一个单例类,负责所有数据表的映射处理
</code></pre><h3 id="_4-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_4-5-2-缺点" aria-hidden="true">#</a> 4.5.2.缺点</h3><pre><code>a.单例模式没有抽象层,扩展很困难,若要扩展,除了修改代码基本上没有第二种途径可以实现,违反了OCP原则
b.单例类的职责过重,在一定程度上违背了&quot;单一职责原则&quot;
c.滥用单例将带来一些负面问题,如:为了节省资源将数据库连接池对象设计为的单例类,可能会导致共享连接池对象的程序过多而出现连接池溢出
</code></pre><h2 id="_4-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_4-6-角色及其职责" aria-hidden="true">#</a> 4.6.角色及其职责</h2><h2 id="_4-7-模型" tabindex="-1"><a class="header-anchor" href="#_4-7-模型" aria-hidden="true">#</a> 4.7.模型</h2><h3 id="_4-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_4-7-1-模型类图" aria-hidden="true">#</a> 4.7.1.模型类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-7-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-7-2-代码" aria-hidden="true">#</a> 4.7.2.代码</h3><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonObject</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SingletonObject</span> SINGLETON_INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonObject</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> SINGLETON_INSTANCE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do some operate......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_4-8-示例" tabindex="-1"><a class="header-anchor" href="#_4-8-示例" aria-hidden="true">#</a> 4.8.示例</h2><h3 id="_4-8-1-饿汉式单例" tabindex="-1"><a class="header-anchor" href="#_4-8-1-饿汉式单例" aria-hidden="true">#</a> 4.8.1.饿汉式单例</h3><h3 id="_4-8-1-1-类图" tabindex="-1"><a class="header-anchor" href="#_4-8-1-1-类图" aria-hidden="true">#</a> 4.8.1.1.类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-1-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-1-2-代码" aria-hidden="true">#</a> 4.8.1.2.代码</h3><pre><code>SingletonA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 饿汉式
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonA</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SingletonA</span> SINGLETONA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonA</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> SINGLETONA<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token doc-comment comment">/**
	 * 测试测试饿汉式单例
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SingletonA</span> instance1 <span class="token operator">=</span> <span class="token class-name">SingletonA</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">SingletonA</span> instance2 <span class="token operator">=</span> <span class="token class-name">SingletonA</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instance1 <span class="token operator">==</span> instance2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance1.hashCode():&quot;</span><span class="token operator">+</span>instance1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance2.hashCode():&quot;</span><span class="token operator">+</span>instance2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-2-懒汉式单例" tabindex="-1"><a class="header-anchor" href="#_4-8-2-懒汉式单例" aria-hidden="true">#</a> 4.8.2.懒汉式单例</h3><h3 id="_4-8-2-1-饿汉式单例类图" tabindex="-1"><a class="header-anchor" href="#_4-8-2-1-饿汉式单例类图" aria-hidden="true">#</a> 4.8.2.1.饿汉式单例类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-2-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-2-2-代码" aria-hidden="true">#</a> 4.8.2.2.代码</h3><pre><code>SingletonB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 懒汉式:
 * 	优点：可以实现懒加载
 * 	缺点：有线程安全问题
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonB</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SingletonB</span> singletonB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonB</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>singletonB <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            singletonB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> singletonB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token doc-comment comment">/**
	 * 测试单线程测试懒汉式
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SingletonB</span> instance1 <span class="token operator">=</span> <span class="token class-name">SingletonB</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">SingletonB</span> instance2 <span class="token operator">=</span> <span class="token class-name">SingletonB</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instance1 <span class="token operator">==</span> instance2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance1.hashCode():&quot;</span><span class="token operator">+</span>instance1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance2.hashCode():&quot;</span><span class="token operator">+</span>instance2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token doc-comment comment">/**
	 * 测试多线程测试线程不安全的懒汉式
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">long</span> begin <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//多线程测试单例模式线程是否安全</span>
		<span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token punctuation">]</span> threads <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token comment">//创建线程</span>
        	threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>
				<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    			<span class="token annotation punctuation">@Override</span>
	    			<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    				<span class="token class-name">SingletonB</span> instance <span class="token operator">=</span> <span class="token class-name">SingletonB</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance.hashCode():&quot;</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    			<span class="token punctuation">}</span>
	    		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线程启动</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;程序执行时间：&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end<span class="token operator">-</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-3-线程安全的懒汉式单例" tabindex="-1"><a class="header-anchor" href="#_4-8-3-线程安全的懒汉式单例" aria-hidden="true">#</a> 4.8.3.线程安全的懒汉式单例</h3><h3 id="_4-8-3-1-类图" tabindex="-1"><a class="header-anchor" href="#_4-8-3-1-类图" aria-hidden="true">#</a> 4.8.3.1.类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-3-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-3-2-代码" aria-hidden="true">#</a> 4.8.3.2.代码</h3><pre><code>SingletonC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 线程安全的懒汉式
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonC</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SingletonC</span> singletonC<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">SingletonC</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>singletonC <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            singletonC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> singletonC<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token doc-comment comment">/**
	 * 测试多线程测试线程安全的懒汉式
	 * 	方法级别的锁：实测执行效率并不是很低
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">long</span> begin <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//多线程测试单例模式线程是否安全</span>
		<span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token punctuation">]</span> threads <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">//创建线程</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>
					<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token annotation punctuation">@Override</span>
						<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token class-name">SingletonC</span> instance <span class="token operator">=</span> <span class="token class-name">SingletonC</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance.hashCode():&quot;</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线程启动</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;程序执行时间：&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end<span class="token operator">-</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-4-双重检索懒汉式懒汉式单例" tabindex="-1"><a class="header-anchor" href="#_4-8-4-双重检索懒汉式懒汉式单例" aria-hidden="true">#</a> 4.8.4.双重检索懒汉式懒汉式单例</h3><h3 id="_4-8-4-1-类图" tabindex="-1"><a class="header-anchor" href="#_4-8-4-1-类图" aria-hidden="true">#</a> 4.8.4.1.类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-4-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-4-2-代码" aria-hidden="true">#</a> 4.8.4.2.代码</h3><pre><code>SingletonD.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 双重检索懒汉式
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonD</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> <span class="token class-name">SingletonD</span> singletonD<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonD</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>singletonD <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token class-name">SingletonD</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>singletonD <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    singletonD <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> singletonD<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
	 * 测试多线程测试静态双重检索线程安全的懒汉式
	 * 	方法级别的锁：实测执行效率并不是很低
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">long</span> begin <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//多线程测试单例模式线程是否安全</span>
		<span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token punctuation">]</span> threads <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">//创建线程</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>
					<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token annotation punctuation">@Override</span>
						<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token class-name">SingletonD</span> instance <span class="token operator">=</span> <span class="token class-name">SingletonD</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance.hashCode():&quot;</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线程启动</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;程序执行时间：&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end<span class="token operator">-</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-5-静态内部类懒汉式单例" tabindex="-1"><a class="header-anchor" href="#_4-8-5-静态内部类懒汉式单例" aria-hidden="true">#</a> 4.8.5.静态内部类懒汉式单例</h3><h3 id="_4-8-5-1-类图" tabindex="-1"><a class="header-anchor" href="#_4-8-5-1-类图" aria-hidden="true">#</a> 4.8.5.1.类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-5-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-5-2-代码" aria-hidden="true">#</a> 4.8.5.2.代码</h3><pre><code>SingletonE.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 静态内部类懒汉式
 * 	原理：JVM在装载类的时候是线程安全的
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonE</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonE</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SingletonInstacne</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SingletonInstacne</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SingletonE</span> INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
	 * 测试多线程测试静态内部类线程安全的懒汉式
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">long</span> begin <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//多线程测试单例模式线程是否安全</span>
		<span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token punctuation">]</span> threads <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">//创建线程</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>
					<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token annotation punctuation">@Override</span>
						<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token class-name">SingletonE</span> instance <span class="token operator">=</span> <span class="token class-name">SingletonE</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance.hashCode():&quot;</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>threads<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线程启动</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;程序执行时间：&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end<span class="token operator">-</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-8-6-枚举单例" tabindex="-1"><a class="header-anchor" href="#_4-8-6-枚举单例" aria-hidden="true">#</a> 4.8.6.枚举单例</h3><h3 id="_4-8-6-1-类图" tabindex="-1"><a class="header-anchor" href="#_4-8-6-1-类图" aria-hidden="true">#</a> 4.8.6.1.类图</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_4-8-6-2-代码" tabindex="-1"><a class="header-anchor" href="#_4-8-6-2-代码" aria-hidden="true">#</a> 4.8.6.2.代码</h3><pre><code>SingletonF.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 枚举实现单例
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SingletonF</span> <span class="token punctuation">{</span>
    INSTANCE<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doSomething......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
	 * 测试枚举实现单例
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SingletonF</span> instance1 <span class="token operator">=</span> <span class="token class-name">SingletonF</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
		<span class="token class-name">SingletonF</span> instance2 <span class="token operator">=</span> <span class="token class-name">SingletonF</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instance1 <span class="token operator">==</span> instance2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance1.hashCode():&quot;</span><span class="token operator">+</span>instance1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance2.hashCode():&quot;</span><span class="token operator">+</span>instance2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//通过单例调用doSomething()</span>
		instance1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		instance2<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_4-9-在开源框架中的应用" aria-hidden="true">#</a> 4.9.在开源框架中的应用</h2><pre><code>JDK8#java.lang.Runtime(饿汉式)
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Runtime</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Runtime</span> currentRuntime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Runtime</span> <span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> currentRuntime<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="5." tabindex="-1"><a class="header-anchor" href="#5." aria-hidden="true">#</a> 5.创建型模式-简单工厂模式(Gof之外)</h1><h2 id="_5-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_5-1-章节内容概述" aria-hidden="true">#</a> 5.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 5.1.章节内容概述
 5.2.章节内容大纲
 5.3.简介
 5.4.应用场景
 5.5.优缺点
 5.6.角色及其职责
 5.7.模型
 5.8.示例
 5.9.在开源框架中的应用
 5.9.1.在JDK中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_5-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_5-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter5.html" target="_blank">5.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter5.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_5-3-简介" tabindex="-1"><a class="header-anchor" href="#_5-3-简介" aria-hidden="true">#</a> 5.3.简介</h2><pre><code>简单工厂模式(SimpleFactory Pattern)是一种创建型设计模式,是设计模式中最为常见的模式之一,但是不是Gof提出的23中设计模式中的一种,更像是一种编程习惯。简单工厂模式是隐藏对象的实例化过程,对外部提供一个获取对象的方法,可以根据参数获取不同类型的对象,是工厂模式家族中最简单实用的模式,可以理解为是不同工厂模式的一个特殊实现。
</code></pre><h2 id="_5-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_5-4-应用场景" aria-hidden="true">#</a> 5.4.应用场景</h2><pre><code>a.客户端如果只知道传入工厂类得参数,对于如何创建对象得逻辑不关心时
b.客户端既不需要关心创建细节,甚至连类名都不需要记住,只需要知道类型所对应得参数
c.工厂负责创建的类少,同时系统中需要的new对象较多而且复杂时可以使用,这样一方面不会造成工厂方法中得业务逻辑太过复杂,另一方面在使用时不用一直new,直接从工厂中获取即可
</code></pre><h2 id="_5-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_5-5-优缺点" aria-hidden="true">#</a> 5.5.优缺点</h2><h3 id="_5-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_5-5-1-优点" aria-hidden="true">#</a> 5.5.1.优点</h3><pre><code>a.屏蔽了具体的创建逻辑,客户端只需要要传入一个参数即可获取相应的结果,在一定程度上简化了对象的创建过程
b.将实例创建过程和使用过程分离开来,实现了解耦
</code></pre><h3 id="_5-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_5-5-2-缺点" aria-hidden="true">#</a> 5.5.2.缺点</h3><pre><code>a.工厂类集中了所有实例(产品)的创建逻辑,一旦这个工厂不能正常工作,整个系统都会受到影响
b.违背OCP原则,一旦添加新产品就不得不修改工厂类得逻辑,这样就会造成工厂逻辑过于复杂
c.简单工厂模式由于使用了静态工厂方法,静态方法不能被继承和重写,会造成工厂角色无法形成基于继承的等级结构
</code></pre><h2 id="_5-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_5-6-角色及其职责" aria-hidden="true">#</a> 5.6.角色及其职责</h2><pre><code>Factory(工厂)
核心部分,负责实现创建所有产品的内部逻辑,工厂类可以被外界直接调用,创建所需对象
Product(抽象类产品)
工厂类所创建的所有对象的父类,封装了产品对象的公共方法,所有的具体产品为其子类对象
ConcreteProduct(具体产品)
简单工厂模式的创建目标,所有被创建的对象都是某个具体类的实例,它要实现抽象产品中声明的抽象方法(有关抽象类)
</code></pre><h2 id="_5-7-模型" tabindex="-1"><a class="header-anchor" href="#_5-7-模型" aria-hidden="true">#</a> 5.7.模型</h2><h3 id="_5-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_5-7-1-模型类图" aria-hidden="true">#</a> 5.7.1.模型类图</h3><pre><code>模型类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>模型类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_5-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_5-7-2-模型代码" aria-hidden="true">#</a> 5.7.2.模型代码</h3><pre><code>Product.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Product(抽象产品)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductA(具体产品A)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductA</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductB(具体产品B)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductB</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductC(具体产品C)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductC</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Factory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Factory(简单工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 通过工厂方法生产产品
     * <span class="token keyword">@param</span> <span class="token parameter">productType</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token class-name">String</span> productType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>productType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;productA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>productType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;productB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>productType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;productC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> product<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 调用工厂方法的方法
     * <span class="token keyword">@param</span> <span class="token parameter">productType</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token class-name">String</span> productType<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span>productType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Client(客户端)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Factory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品A</span>
        <span class="token class-name">Product</span> productA <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token string">&quot;productA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂中直接调用工厂方法</span>
        factory<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token string">&quot;productA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品B</span>
        <span class="token class-name">Product</span> productB <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token string">&quot;productB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂中直接调用工厂方法</span>
        factory<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token string">&quot;productB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品C</span>
        <span class="token class-name">Product</span> productC <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token string">&quot;productC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productC<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂中直接调用工厂方法</span>
        factory<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token string">&quot;productC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_5-8-示例" tabindex="-1"><a class="header-anchor" href="#_5-8-示例" aria-hidden="true">#</a> 5.8.示例</h2><h3 id="_5-8-1-不使用简单工厂模式" tabindex="-1"><a class="header-anchor" href="#_5-8-1-不使用简单工厂模式" aria-hidden="true">#</a> 5.8.1.不使用简单工厂模式</h3><h4 id="_5-8-1-1-类图" tabindex="-1"><a class="header-anchor" href="#_5-8-1-1-类图" aria-hidden="true">#</a> 5.8.1.1.类图</h4><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h4 id="_5-8-1-2-代码" tabindex="-1"><a class="header-anchor" href="#_5-8-1-2-代码" aria-hidden="true">#</a> 5.8.1.2.代码</h4><pre><code>Pizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> dough<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> sauce<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toppings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;preparing...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;baking...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cutting...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;boxing...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StringBuilder</span> pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;------&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;dough:&quot;</span> <span class="token operator">+</span> dough <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;sauce:&quot;</span> <span class="token operator">+</span> sauce <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;toppings:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> topping<span class="token operator">:</span>toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>topping<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

</code></pre></div><pre><code>CheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Regular Crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Pizza Sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Fresh Mozzarella&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Parmesan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;White garlic sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Clams&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated parmesan cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">PepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated parmesan cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PizzaStore.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaStore</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token class-name">Pizza</span> pizza<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">PizzaStore</span> pizzaStore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PizzaStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> cheesePizza <span class="token operator">=</span> pizzaStore<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cheesePizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> pepperoniPizza <span class="token operator">=</span> pizzaStore<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pepperoniPizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> clamPizza <span class="token operator">=</span> pizzaStore<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clamPizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="_5-8-2-使用简单工厂模式" tabindex="-1"><a class="header-anchor" href="#_5-8-2-使用简单工厂模式" aria-hidden="true">#</a> 5.8.2.使用简单工厂模式</h3><h4 id="_5-8-2-1-类图" tabindex="-1"><a class="header-anchor" href="#_5-8-2-1-类图" aria-hidden="true">#</a> 5.8.2.1.类图</h4><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h4 id="_5-8-2-2-代码" tabindex="-1"><a class="header-anchor" href="#_5-8-2-2-代码" aria-hidden="true">#</a> 5.8.2.2.代码</h4><pre><code>Pizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> dough<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> sauce<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toppings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;preparing...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;baking...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cutting...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;boxing...&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StringBuilder</span> pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;------&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;dough:&quot;</span> <span class="token operator">+</span> dough <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;sauce:&quot;</span> <span class="token operator">+</span> sauce <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;toppings:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> topping<span class="token operator">:</span>toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pizza<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>topping<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

</code></pre></div><pre><code>CheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Regular Crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Pizza Sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Fresh Mozzarella&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Parmesan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;White garlic sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Clams&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated parmesan cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">PepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Crust&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara sauce&quot;</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated parmesan cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PizzaStoreFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaStoreFactory</span> <span class="token punctuation">{</span>

	<span class="token doc-comment comment">/**
	 * 通过工厂方法生产产品
	 * <span class="token keyword">@param</span> <span class="token parameter">pizzaType</span>
	 * <span class="token keyword">@return</span>
	 */</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> 
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token doc-comment comment">/**
	 * 调用工厂方法的方法
	 * <span class="token keyword">@param</span> <span class="token parameter">pizzaType</span>
	 * <span class="token keyword">@return</span>
	 */</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token function">createPizza</span><span class="token punctuation">(</span>pizzaType<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>simplefactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">PizzaStoreFactory</span> pizzaFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PizzaStoreFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> cheesePizza <span class="token operator">=</span> pizzaFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cheesePizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> pepperoniPizza <span class="token operator">=</span> pizzaFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pepperoniPizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> clamPizza <span class="token operator">=</span> pizzaFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clamPizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h2 id="_5-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_5-9-在开源框架中的应用" aria-hidden="true">#</a> 5.9.在开源框架中的应用</h2><h2 id="_5-9-1-在jdk中的应用" tabindex="-1"><a class="header-anchor" href="#_5-9-1-在jdk中的应用" aria-hidden="true">#</a> 5.9.1.在JDK中的应用</h2><pre><code>JDK8#java.util.Calendar
说明
其中的createCalendar()方法根据传入参数的不同创建出不同的Calendar抽象类的子类,也就是根据传入参数的不同创建出了不同的对象,对调用这个方法的方法而言,屏蔽了具体的创建过程,只需要传入参数即可获取对象,符合简单工厂模式要求

类图
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>代码
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Calendar</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token class-name">Locale<span class="token punctuation">.</span>Category</span><span class="token punctuation">.</span>FORMAT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token class-name">Locale<span class="token punctuation">.</span>Category</span><span class="token punctuation">.</span>FORMAT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">,</span>
                                       <span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">,</span>
                                           <span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">CalendarProvider</span> provider <span class="token operator">=</span>
            <span class="token class-name">LocaleProviderAdapter</span><span class="token punctuation">.</span><span class="token function">getAdapter</span><span class="token punctuation">(</span><span class="token class-name">CalendarProvider</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">getCalendarProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>provider <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> provider<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> iae<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// fall back to the default instantiation</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">hasExtensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> caltype <span class="token operator">=</span> aLocale<span class="token punctuation">.</span><span class="token function">getUnicodeLocaleType</span><span class="token punctuation">(</span><span class="token string">&quot;ca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>caltype <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span>caltype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token string">&quot;buddhist&quot;</span><span class="token operator">:</span>
                cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BuddhistCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token string">&quot;japanese&quot;</span><span class="token operator">:</span>
                    cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JapaneseImperialCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token string">&quot;gregory&quot;</span><span class="token operator">:</span>
                    cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GregorianCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cal <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// If no known calendar type is explicitly specified,</span>
            <span class="token comment">// perform the traditional way to create a Calendar:</span>
            <span class="token comment">// create a BuddhistCalendar for th_TH locale,</span>
            <span class="token comment">// a JapaneseImperialCalendar for ja_JP_JP locale, or</span>
            <span class="token comment">// a GregorianCalendar for any other locales.</span>
            <span class="token comment">// NOTE: The language, country and variant strings are interned.</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;th&quot;</span> <span class="token operator">&amp;&amp;</span> aLocale<span class="token punctuation">.</span><span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;TH&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BuddhistCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;JP&quot;</span> <span class="token operator">&amp;&amp;</span> aLocale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;ja&quot;</span>
                       <span class="token operator">&amp;&amp;</span> aLocale<span class="token punctuation">.</span><span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;JP&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JapaneseImperialCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GregorianCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> cal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><pre><code>可以看出,在getInstance()方法中调用了createCalendar()方法,只需要传入zone, aLocale,就可以获得一个Calendar对象
</code></pre><h1 id="6." tabindex="-1"><a class="header-anchor" href="#6." aria-hidden="true">#</a> 6.创建型模式-工厂模式</h1><h2 id="_6-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_6-1-章节内容概述" aria-hidden="true">#</a> 6.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 6.1.章节内容概述
 6.2.章节内容大纲
 6.3.简介
 6.4.应用场景
 6.5.优缺点
 6.6.角色及其职责
 6.7.模型
 6.8.示例
 6.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_6-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_6-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter6.html" target="_blank">6.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter6.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_6-3-简介" tabindex="-1"><a class="header-anchor" href="#_6-3-简介" aria-hidden="true">#</a> 6.3.简介</h2><pre><code>工厂模式(Factory Pattern)又称工厂方法模式(FactoryMethod Pattern)是一种创建型设计模式,工厂方法模式是简单工厂模式的进一步抽象和推广,将原来在简单工厂中创建的对象改为在工厂类的子类中创建,是GoF设计模式的一种。由于使用了面向对象的多态性,工厂方法模式保持了简单工厂模式的优点,而且克服了它的缺点,同时遵循OCP原则。在工厂方法模式中,提供一个用于创建对象的接口(工厂接口),让其实现类(工厂实现类)决定实例化哪一个类(产品类),并且由该实现类创建对应类的实例。这使得工厂方法模式可以允许系统在不修改工厂角色的情况下引进新产品。
</code></pre><h2 id="_6-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_6-4-应用场景" aria-hidden="true">#</a> 6.4.应用场景</h2><pre><code>a.客户端不关心它所要创建对象的类(产品类)的时候
b.客户端知道它所要创建对象的类(产品类),但不关心如何创建的时候
</code></pre><h2 id="_6-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_6-5-优缺点" aria-hidden="true">#</a> 6.5.优缺点</h2><h3 id="_6-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_6-5-1-优点" aria-hidden="true">#</a> 6.5.1.优点</h3><pre><code>a.使用工厂方法用来创建客户所需要的产品,隐藏了具体产品类的实例化过程,用户只需要关心所需产品对应的工厂,无须关心创建细节,甚至无须知道具体产品类的类名
b.加入新产品时,无须修改抽象工厂和抽象产品提供的接口,无须修改客户端,也无须修改其他的具体工厂和具体产品,而只要添加一个具体工厂和具体产品就可以了。增加了系统的可扩展性,符合OCP开闭原则
c.每个产品都对应一个工厂,所以可以在这个产品对应的工厂中更为细致的控制产品的创建过程,而不会影响到其他的产品
</code></pre><h3 id="_6-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_6-5-2-缺点" aria-hidden="true">#</a> 6.5.2.缺点</h3><pre><code>a.每增加一个新产品,都需要编写新的具体产品类,而且还要提供与之对应的具体工厂类,这样系统中类的个数将成对增加,在一定程度上增加了系统的复杂度,有更多的类需要编译和运行,会给系统带来一些额外的开销。
b.由于考虑到系统的可扩展性,需要引入抽象层,在客户端代码中均使用抽象层进行定义,增加了系统的抽象性和理解难度,进而增加了系统的实现难度。
</code></pre><h2 id="_6-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_6-6-角色及其职责" aria-hidden="true">#</a> 6.6.角色及其职责</h2><pre><code>AbstractProduct(抽象产品)
工厂类所创建的所有对象的父类,封装了产品对象的公共方法,所有的具体产品为其子类对象
ConcreteProduct(具体产品)
工厂类所创建的实际对象
AbstractFactory(抽象工厂)
提供一个用于创建对象的接口(工厂接口),让其实现类(工厂实现类)决定实例化哪一个类(产品类)
ConcreteFactory(具体工厂)
提供实际创建对象的方法
</code></pre><h2 id="_6-7-模型" tabindex="-1"><a class="header-anchor" href="#_6-7-模型" aria-hidden="true">#</a> 6.7.模型</h2><h3 id="_6-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_6-7-1-模型类图" aria-hidden="true">#</a> 6.7.1.模型类图</h3><pre><code>模型类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>模型类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_6-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_6-7-2-模型代码" aria-hidden="true">#</a> 6.7.2.模型代码</h3><pre><code>Product.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Product(抽象产品)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractProduct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductA(具体产品A)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductA</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractProduct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductB(具体产品B)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductB</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractProduct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteProductC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteProductC(具体产品C)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductC</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractProduct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Factory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * AbstractFactory(抽象工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 通过工厂方法生产产品
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">AbstractProduct</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 调用工厂方法的方法
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">AbstractProduct</span> product <span class="token operator">=</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryA(生产ProductA的具体工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryA</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">AbstractProduct</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryB(生产ProductB的具体工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryB</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">AbstractProduct</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryC(生产ProductC的具体工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryC</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">AbstractProduct</span> <span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 客户端
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取生产产品A的工厂</span>
        <span class="token class-name">AbstractFactory</span> factoryA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品A</span>
        <span class="token class-name">AbstractProduct</span> productA <span class="token operator">=</span> factoryA<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂A中直接调用工厂方法</span>
        factoryA<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取生产产品B的工厂</span>
        <span class="token class-name">AbstractFactory</span> factoryB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品B</span>
        <span class="token class-name">AbstractProduct</span> productB <span class="token operator">=</span> factoryB<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂B中直接调用工厂方法</span>
        factoryB<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取生产产品C的工厂</span>
        <span class="token class-name">AbstractFactory</span> factoryC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//生产产品C</span>
        <span class="token class-name">AbstractProduct</span> productC <span class="token operator">=</span> factoryC<span class="token punctuation">.</span><span class="token function">factoryMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>productC<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//在工厂C中直接调用工厂方法</span>
        factoryC<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_6-8-示例" tabindex="-1"><a class="header-anchor" href="#_6-8-示例" aria-hidden="true">#</a> 6.8.示例</h2><h3 id="_6-8-1-不使用工厂模式-实际上使用了简单工厂模式" tabindex="-1"><a class="header-anchor" href="#_6-8-1-不使用工厂模式-实际上使用了简单工厂模式" aria-hidden="true">#</a> 6.8.1.不使用工厂模式(实际上使用了简单工厂模式)</h3><h4 id="_6-8-1-1-类图" tabindex="-1"><a class="header-anchor" href="#_6-8-1-1-类图" aria-hidden="true">#</a> 6.8.1.1.类图</h4><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h4 id="_6-8-1-1-代码" tabindex="-1"><a class="header-anchor" href="#_6-8-1-1-代码" aria-hidden="true">#</a> 6.8.1.1.代码</h4><pre><code>Pizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> dough<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> sauce<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toppings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Prepare &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Tossing dough...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adding sauce...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adding toppings: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> topping <span class="token operator">:</span> toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;   &quot;</span> <span class="token operator">+</span> topping<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bake for 25 minutes at 350&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cut the pizza into diagonal slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Place pizza in official PizzaStore box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StringBuffer</span> display <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;---- &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; ----\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dough <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sauce <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> topping <span class="token operator">:</span> toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>topping <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> display<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleCheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleCheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Deep Dish Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Frozen Clams from Chesapeake Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStylePepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStylePepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Black Olives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Spinach&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Eggplant&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleVeggiePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleVeggiePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Deep Dish Veggie Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Black Olives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Spinach&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Eggplant&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStyleCheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleCheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Sauce and Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><pre><code>NYStyleClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token class-name">NYStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Fresh Clams from Long Island Sound&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStylePepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStylePepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Garlic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Mushrooms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Red Pepper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStyleVeggiePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleVeggiePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Veggie Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Garlic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Mushrooms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Red Pepper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PizzaStore.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 不使用工厂(方法)模式(实际上使用了简单工厂模式)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaStore</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaStyle<span class="token punctuation">,</span> <span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaStyle<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;NY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NYStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaStyle<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;Chicago&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Error: invalid type of pizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token doc-comment comment">/**
	 * 调用工厂方法的方法
	 * <span class="token keyword">@param</span> <span class="token parameter">pizzaType</span>
	 * <span class="token keyword">@return</span>
	 */</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaStyle<span class="token punctuation">,</span> <span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token function">createPizza</span><span class="token punctuation">(</span>pizzaStyle<span class="token punctuation">,</span>pizzaType<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--- Making a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; ---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>nouse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//测试DependentPizzaFactory</span>
		<span class="token class-name">PizzaStore</span> pizzaStore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PizzaStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> pizzaStore<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lee ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="_6-8-2-使用工厂模式" tabindex="-1"><a class="header-anchor" href="#_6-8-2-使用工厂模式" aria-hidden="true">#</a> 6.8.2.使用工厂模式</h3><h4 id="_6-8-2-1-类图" tabindex="-1"><a class="header-anchor" href="#_6-8-2-1-类图" aria-hidden="true">#</a> 6.8.2.1.类图</h4><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h4 id="_6-8-2-2-代码" tabindex="-1"><a class="header-anchor" href="#_6-8-2-2-代码" aria-hidden="true">#</a> 6.8.2.2.代码</h4><pre><code>Pizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> dough<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">String</span> sauce<span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toppings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Prepare &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Tossing dough...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adding sauce...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adding toppings: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> topping <span class="token operator">:</span> toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;   &quot;</span> <span class="token operator">+</span> topping<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bake for 25 minutes at 350&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cut the pizza into diagonal slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Place pizza in official PizzaStore box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StringBuffer</span> display <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;---- &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; ----\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dough <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sauce <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> topping <span class="token operator">:</span> toppings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			display<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>topping <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> display<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleCheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleCheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Deep Dish Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Frozen Clams from Chesapeake Bay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStylePepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStylePepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Style Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Black Olives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Spinach&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Eggplant&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoStyleVeggiePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoStyleVeggiePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">ChicagoStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;Chicago Deep Dish Veggie Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Extra Thick Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Plum Tomato Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Shredded Mozzarella Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Black Olives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Spinach&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Eggplant&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cutting the pizza into square slices&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStyleCheesePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleCheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Sauce and Cheese Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><pre><code>NYStyleClamPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleClamPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span><span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token class-name">NYStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Clam Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Fresh Clams from Long Island Sound&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStylePepperoniPizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStylePepperoniPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Pepperoni Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Sliced Pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Garlic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Mushrooms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Red Pepper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYStyleVeggiePizza.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYStyleVeggiePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">NYStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> <span class="token string">&quot;NY Style Veggie Pizza&quot;</span><span class="token punctuation">;</span>
		dough <span class="token operator">=</span> <span class="token string">&quot;Thin Crust Dough&quot;</span><span class="token punctuation">;</span>
		sauce <span class="token operator">=</span> <span class="token string">&quot;Marinara Sauce&quot;</span><span class="token punctuation">;</span>
 
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Grated Reggiano Cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Garlic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Onion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Mushrooms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		toppings<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Red Pepper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>PizzaFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">PizzaStoreFactory</span> <span class="token punctuation">{</span>
	
	<span class="token doc-comment comment">/**
	 * 工厂方法
	 * <span class="token keyword">@param</span> <span class="token parameter">pizzaType</span>
	 * <span class="token keyword">@return</span>
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token doc-comment comment">/**
	 * 调用工厂方法的方法
	 * <span class="token keyword">@param</span> <span class="token parameter">pizzaType</span>
	 * <span class="token keyword">@return</span>
	 */</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token function">createPizza</span><span class="token punctuation">(</span>pizzaType<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--- Making a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; ---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> pizza<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>NYPizzaFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NYPizzaStoreFactory</span> <span class="token keyword">extends</span> <span class="token class-name">PizzaStoreFactory</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NYStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NYStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ChicagoPizzaStoreFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChicagoPizzaStoreFactory</span> <span class="token keyword">extends</span> <span class="token class-name">PizzaStoreFactory</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> pizzaType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	    	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleVeggiePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	    	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStyleClamPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pizzaType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoStylePepperoniPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>factorymethod<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">PizzaStoreFactory</span> nyPizzaStoreFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NYPizzaStoreFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">PizzaStoreFactory</span> chicagoPizzaStoreFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChicagoPizzaStoreFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
		<span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> nyPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ethan ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
		pizza <span class="token operator">=</span> chicagoPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Joel ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		pizza <span class="token operator">=</span> nyPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ethan ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
		pizza <span class="token operator">=</span> chicagoPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;clam&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Joel ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		pizza <span class="token operator">=</span> nyPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ethan ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
		pizza <span class="token operator">=</span> chicagoPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;pepperoni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Joel ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		pizza <span class="token operator">=</span> nyPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ethan ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
		pizza <span class="token operator">=</span> chicagoPizzaStoreFactory<span class="token punctuation">.</span><span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token string">&quot;veggie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Joel ordered a &quot;</span> <span class="token operator">+</span> pizza<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_6-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_6-9-在开源框架中的应用" aria-hidden="true">#</a> 6.9.在开源框架中的应用</h2><h3 id="_6-9-1-在jdk中的应用" tabindex="-1"><a class="header-anchor" href="#_6-9-1-在jdk中的应用" aria-hidden="true">#</a> 6.9.1.在JDK中的应用</h3><pre><code>JDK8#集合框架部分代码
说明
Collection是抽象工厂,Collection中iterator()方法就是工厂方法,ArrayList和HashSet就是具体工厂,Iterator是抽象产品,具体产品是ArrayList和HasHSet中iterator()方法的return new Itr()创建出来的对象

类图
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>代码
</code></pre><div class="language-java ext-java"><pre class="language-java"><code>    <span class="token class-name">Iterable</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token class-name">Collection</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token class-name">AbstractCollection</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractCollection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token class-name">AbstractList</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractCollection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Itr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    <span class="token class-name">ArrayList</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Itr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    <span class="token class-name">AbstractSet</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractCollection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token class-name">HashSet</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="7." tabindex="-1"><a class="header-anchor" href="#7." aria-hidden="true">#</a> 7.创建型模式-抽象工厂模式</h1><h2 id="_7-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_7-1-章节内容概述" aria-hidden="true">#</a> 7.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 7.1.章节内容概述
 7.2.章节内容大纲
 7.3.简介
 7.4.应用场景
 7.5.优缺点
 7.6.角色及其职责
 7.7.模型
 7.8.示例
 7.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_7-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_7-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter7.html" target="_blank">7.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter7.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_7-3-简介" tabindex="-1"><a class="header-anchor" href="#_7-3-简介" aria-hidden="true">#</a> 7.3.简介</h2><pre><code>抽象工厂模式(Abstract Factory Pattern)是一种创建型设计模式,是工厂方法模式的升级版本,解决了简单工厂模式中工厂类职责太重的问题,抽象工厂中提供一个创建一系列相关或相互依赖对象的接口,这个接口中定义了创建多个不同的对象方法,但是让该接口的子类去实例化具体的类,把实例化具体对象的过程延迟到了子类中去实现。与工厂方法模式不同的是,抽象工厂模式中的具体工厂不再是只能创建一种产品,一个具体的工厂可以创建一个产品族的产品。
</code></pre><h2 id="_7-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_7-4-应用场景" aria-hidden="true">#</a> 7.4.应用场景</h2><pre><code>a.客户端(应用层)不依赖于产品类实例如何被创建、实现等细节
b.强调一系列相关的产品对象(属于同一产品族)一起使用创建对象需要大量重复的代码
c.提供一个产品类的库，所有的产品以同样的接口出现，从而使得客户端不依赖于具体的实现
</code></pre><h2 id="_7-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_7-5-优缺点" aria-hidden="true">#</a> 7.5.优缺点</h2><h3 id="_7-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_7-5-1-优点" aria-hidden="true">#</a> 7.5.1.优点</h3><pre><code>a.具体产品在应用层的代码隔离,无需关心创建的细节
b.将一个系列的产品统一到一起创建
</code></pre><h3 id="_7-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_7-5-2-缺点" aria-hidden="true">#</a> 7.5.2.缺点</h3><pre><code>a.具体产品在应用层的代码隔离，无需关系创建的细节
b.将一个系列的产品统一到一起创建
</code></pre><h2 id="_7-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_7-6-角色及其职责" aria-hidden="true">#</a> 7.6.角色及其职责</h2><pre><code>AbstractFactory
提供了创建产品的接口,它包含多个创建产品的方法,可以创建多个不同等级的产品
ConcreteFactory
主要是实现抽象工厂中的多个抽象方法,完成具体产品的创建
AbstractProduct
定义了产品的规范,描述了产品的主要特性和功能,抽象工厂模式有多个抽象产品
ConcreteProduct
实现了抽象产品角色所定义的接口,由具体工厂来创建,它同具体工厂之间是多对一的关系
</code></pre><h2 id="_7-7-模型" tabindex="-1"><a class="header-anchor" href="#_7-7-模型" aria-hidden="true">#</a> 7.7.模型</h2><h3 id="_7-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_7-7-1-模型类图" aria-hidden="true">#</a> 7.7.1.模型类图</h3><pre><code>模型类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>模型类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><h3 id="_7-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_7-7-2-模型代码" aria-hidden="true">#</a> 7.7.2.模型代码</h3><pre><code>ProductPart1.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part1部分接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductPart1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart1LevelA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part1部分 A级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart1LevelA</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart1</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart1-LevelA&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart1LevelB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part1部分 B级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart1LevelB</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart1</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart1-LevelB&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart1LevelC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part1部分 C级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart1LevelC</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart1</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart1-LevelC&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart2.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part2部分接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductPart2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart2LevelA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part2部分 A级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart2LevelA</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart2</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart2-LevelA&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart2LevelB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part2部分 B级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart2LevelB</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart2</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart2-LevelB&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart2LevelC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part2部分 C级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart2LevelC</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart2</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart2-LevelC&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart3.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part3部分接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductPart3</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart3LevelA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part3部分 A级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart3LevelA</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart3</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart3-LevelA&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart3LevelB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part3部分 B级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart3LevelB</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart3</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart3-LevelB&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ProductPart3LevelC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 产品的Part3部分 C级别
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductPart3LevelC</span> <span class="token keyword">implements</span> <span class="token class-name">ProductPart3</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ProductPart3-LevelC&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AbstractFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * AbstractFactory(抽象工厂:用于创建一个产品族的产品)
 * ProductPart1,ProductPart2,ProductPart3是一个产品族中的不同产品,可以理解为如下情况
 * a.汽车案例
 *  Product                     : 汽车
 *  产品族: 轮胎、座椅、方向盘
 *  ProductPart1                : 轮胎
 *      ProductPart1LevelA      : 特斯拉轮胎
 *      ProductPart1LevelB      : 丰田轮胎
 *      ProductPart1LevelC      : 五菱轮胎
 *  ProductPart2                : 座椅
 *      ProductPart2LevelA      : 特斯拉座椅
 *      ProductPart2LevelB      : 丰田座椅
 *      ProductPart2LevelC      : 五菱座椅
 *  ProductPart3                : 方向盘
 *      ProductPart3LevelA      : 特斯拉方向盘
 *      ProductPart3LevelB      : 丰田方向盘
 *      ProductPart3LevelC      : 五菱方向盘
 * b.运动服装案例
 *  Product                     : 一整套运动服装
 *  产品族: 上衣、裤子、鞋子
 *  ProductPart1                : 上衣
 *      ProductPart1LevelA      : 耐克上衣
 *      ProductPart1LevelB      : 安踏上衣
 *      ProductPart1LevelC      : 特价上衣
 *  ProductPart2                : 裤子
 *      ProductPart2LevelA      : 耐克裤子
 *      ProductPart2LevelB      : 安踏裤子
 *      ProductPart2LevelC      : 特价裤子
 *  ProductPart3                : 鞋子
 *      ProductPart3LevelA      : 耐克鞋子
 *      ProductPart3LevelB      : 耐克鞋子
 *      ProductPart3LevelC      : 耐克鞋子
 * c.工厂案例
 *  Product                     : 工厂
 *  产品族: 汽车、自行车、摩托车
 *  ProductPart1                : 汽车
 *      ProductPart1LevelA      : 特斯拉汽车
 *      ProductPart1LevelB      : 长安汽车
 *      ProductPart1LevelC      : 奇瑞汽车
 *  ProductPart2                : 自行车
 *      ProductPart2LevelA      : 特斯自行车
 *      ProductPart2LevelB      : 长安自行车
 *      ProductPart2LevelC      : 奇瑞自行车
 *  ProductPart3                : 摩托车
 *      ProductPart3LevelA      : 特斯摩托车
 *      ProductPart3LevelB      : 长安摩托车
 *      ProductPart3LevelC      : 奇瑞摩托车
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 通过工厂方法生产产品的Part1部分
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">ProductPart1</span> <span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 通过工厂方法生产产品的Part2部分
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">ProductPart2</span> <span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 通过工厂方法生产产品的Part3部分
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">ProductPart3</span> <span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryLevelA.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryLevelA(生产A级别Product的工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryLevelA</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart1</span> <span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart1LevelA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart2</span> <span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart2LevelA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart3</span> <span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart3LevelA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryLevelB.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryLevelB(生产B级别Product的工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryLevelB</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart1</span> <span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart1LevelB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart2</span> <span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart2LevelB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart3</span> <span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart3LevelB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>ConcreteFactoryLevelC.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ConcreteFactoryLevelC(生产C级别Product的工厂)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactoryLevelC</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart1</span> <span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart1LevelC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart2</span> <span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart2LevelC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductPart3</span> <span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ProductPart3LevelC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 客户端
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AbstractFactory</span> concreteFactoryLevelA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryLevelA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart1</span> productPart1LevelA <span class="token operator">=</span> concreteFactoryLevelA<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart2</span> productPart2LevelA <span class="token operator">=</span> concreteFactoryLevelA<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart3</span> productPart3LevelA <span class="token operator">=</span> concreteFactoryLevelA<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;productLevelA: &quot;</span> <span class="token operator">+</span> productPart1LevelA <span class="token operator">+</span><span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart2LevelA <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart3LevelA<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractFactory</span> concreteFactoryLevelB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryLevelB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart1</span> productPart1LevelB <span class="token operator">=</span> concreteFactoryLevelB<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart2</span> productPart2LevelB <span class="token operator">=</span> concreteFactoryLevelB<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart3</span> productPart3LevelB <span class="token operator">=</span> concreteFactoryLevelB<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;productLevelB: &quot;</span> <span class="token operator">+</span> productPart1LevelB <span class="token operator">+</span><span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart2LevelB <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart3LevelB<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractFactory</span> concreteFactoryLevelC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactoryLevelC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart1</span> productPart1LevelC <span class="token operator">=</span> concreteFactoryLevelC<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart2</span> productPart2LevelC <span class="token operator">=</span> concreteFactoryLevelC<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ProductPart3</span> productPart3LevelC <span class="token operator">=</span> concreteFactoryLevelC<span class="token punctuation">.</span><span class="token function">factoryMethod4ProductPart3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;productLevelC: &quot;</span> <span class="token operator">+</span> productPart1LevelC <span class="token operator">+</span><span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart2LevelC <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> productPart3LevelC<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_7-8-示例" tabindex="-1"><a class="header-anchor" href="#_7-8-示例" aria-hidden="true">#</a> 7.8.示例</h2><h3 id="_7-8-1-不使用抽象工厂模式" tabindex="-1"><a class="header-anchor" href="#_7-8-1-不使用抽象工厂模式" aria-hidden="true">#</a> 7.8.1.不使用抽象工厂模式</h3><h3 id="_7-8-2-使用抽象工厂模式" tabindex="-1"><a class="header-anchor" href="#_7-8-2-使用抽象工厂模式" aria-hidden="true">#</a> 7.8.2.使用抽象工厂模式</h3><pre><code>类图(有Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>类图(无Client)
</code></pre><div class="md-enhance-mermaid loading"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="loading icon"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></svg></div><pre><code>代码
AbstractClothesProduceFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 服装工厂
 * <span class="token keyword">@author</span> lingwh
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractClothesProduceFactory</span> <span class="token punctuation">{</span>
	
	<span class="token comment">//生产帽子</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">AbstractHat</span> <span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//生产夹克衫</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">AbstractJacket</span> <span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//生产裤子</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">AbstractTrousers</span> <span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//生产鞋子</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">AbstractShoes</span> <span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AdidasClothesProduceFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdidasClothesProduceFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClothesProduceFactory</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractHat</span> <span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AdidasHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractJacket</span> <span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AdidasJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractTrousers</span> <span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AdidasTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractShoes</span> <span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AdidasShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>NikeClothesProduceFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NikeClothesProduceFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClothesProduceFactory</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractHat</span> <span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NikeHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractJacket</span> <span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NikeJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractTrousers</span> <span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NikeTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractShoes</span> <span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NikeShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>PumaClothesProduceFactory.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumaClothesProduceFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClothesProduceFactory</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractHat</span> <span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PumaHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractJacket</span> <span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PumaJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractTrousers</span> <span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PumaTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AbstractShoes</span> <span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PumaShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>AbstractHat.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractHat</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AdidasHat.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdidasHat</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractHat</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adidas Hat produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>NikeHat.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NikeHat</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractHat</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Nike Hat produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>PumaHat.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumaHat</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractHat</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Puma Hat produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>AbstractJacket.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractJacket</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AdidasJacket.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdidasJacket</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractJacket</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adidas Jacket produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>NikeJacket.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NikeJacket</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractJacket</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Nike Jacket produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>PumaJacket.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumaJacket</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractJacket</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Puma Jacket produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>AbstractShoes.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractShoes</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AdidasShoes.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdidasShoes</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractShoes</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adidas Shoes produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>NikeShoes.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NikeShoes</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractShoes</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Nike Shoes produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>PumaShoes.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumaShoes</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractShoes</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Puma Shoes produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>AbstractTrousers.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractTrousers</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><pre><code>AdidasTrousers.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdidasTrousers</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractTrousers</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adidas Trousers produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>NikeTrousers.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NikeTrousers</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractTrousers</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Nike Trousers produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>PumaTrousers.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumaTrousers</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractTrousers</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Puma Trousers produce ok...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><pre><code>Client.java
</code></pre><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dragonsoft<span class="token punctuation">.</span>designpattern<span class="token punctuation">.</span>create<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>abstractfactory<span class="token punctuation">.</span>use</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//Adidas工厂</span>
		<span class="token class-name">AbstractClothesProduceFactory</span> adidasClothesFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AdidasClothesProduceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractHat</span> adidasHat <span class="token operator">=</span> adidasClothesFactory<span class="token punctuation">.</span><span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractJacket</span> adidasJacket <span class="token operator">=</span> adidasClothesFactory<span class="token punctuation">.</span><span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractTrousers</span> adidasTrousers <span class="token operator">=</span> adidasClothesFactory<span class="token punctuation">.</span><span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractShoes</span> adidasShoes <span class="token operator">=</span> adidasClothesFactory<span class="token punctuation">.</span><span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		adidasHat<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		adidasJacket<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		adidasTrousers<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		adidasShoes<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//Nike工厂</span>
		<span class="token class-name">AbstractClothesProduceFactory</span> nikeClothesFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NikeClothesProduceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractHat</span> nikeHat <span class="token operator">=</span> nikeClothesFactory<span class="token punctuation">.</span><span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractJacket</span> nikeJacket <span class="token operator">=</span> nikeClothesFactory<span class="token punctuation">.</span><span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractTrousers</span> nikeTrousers <span class="token operator">=</span> nikeClothesFactory<span class="token punctuation">.</span><span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractShoes</span> nikeShoes <span class="token operator">=</span> nikeClothesFactory<span class="token punctuation">.</span><span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		nikeHat<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		nikeJacket<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		nikeTrousers<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		nikeShoes<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//Puma工厂</span>
		<span class="token class-name">AbstractClothesProduceFactory</span> pumaClothesFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PumaClothesProduceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractHat</span> pumaHat <span class="token operator">=</span> pumaClothesFactory<span class="token punctuation">.</span><span class="token function">produceHat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractJacket</span> pumaJacket <span class="token operator">=</span> pumaClothesFactory<span class="token punctuation">.</span><span class="token function">produceJacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractTrousers</span> pumaTrousers <span class="token operator">=</span> pumaClothesFactory<span class="token punctuation">.</span><span class="token function">produceTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AbstractShoes</span> pumaShoes <span class="token operator">=</span> pumaClothesFactory<span class="token punctuation">.</span><span class="token function">produceShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pumaHat<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pumaJacket<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pumaTrousers<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pumaShoes<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_7-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_7-9-在开源框架中的应用" aria-hidden="true">#</a> 7.9.在开源框架中的应用</h2><h1 id="8." tabindex="-1"><a class="header-anchor" href="#8." aria-hidden="true">#</a> 8.创建型模式-原型模式</h1><h2 id="_8-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_8-1-章节内容概述" aria-hidden="true">#</a> 8.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 8.1.章节内容概述
 8.2.章节内容大纲
 8.3.简介
 8.4.应用场景
 8.5.优缺点
 8.6.角色及其职责
 8.7.模型
 8.8.示例
 8.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_8-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_8-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter8.html" target="_blank">8.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter8.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_8-3-简介" tabindex="-1"><a class="header-anchor" href="#_8-3-简介" aria-hidden="true">#</a> 8.3.简介</h2><h2 id="_8-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_8-4-应用场景" aria-hidden="true">#</a> 8.4.应用场景</h2><h2 id="_8-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_8-5-优缺点" aria-hidden="true">#</a> 8.5.优缺点</h2><h3 id="_8-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_8-5-1-优点" aria-hidden="true">#</a> 8.5.1.优点</h3><h3 id="_8-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_8-5-2-缺点" aria-hidden="true">#</a> 8.5.2.缺点</h3><h2 id="_8-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_8-6-角色及其职责" aria-hidden="true">#</a> 8.6.角色及其职责</h2><h2 id="_8-7-模型" tabindex="-1"><a class="header-anchor" href="#_8-7-模型" aria-hidden="true">#</a> 8.7.模型</h2><h3 id="_8-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_8-7-1-模型类图" aria-hidden="true">#</a> 8.7.1.模型类图</h3><h3 id="_8-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_8-7-2-模型代码" aria-hidden="true">#</a> 8.7.2.模型代码</h3><h2 id="_8-8-示例" tabindex="-1"><a class="header-anchor" href="#_8-8-示例" aria-hidden="true">#</a> 8.8.示例</h2><h2 id="_8-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_8-9-在开源框架中的应用" aria-hidden="true">#</a> 8.9.在开源框架中的应用</h2><h1 id="9." tabindex="-1"><a class="header-anchor" href="#9." aria-hidden="true">#</a> 9.创建型模式-建造者模式</h1><h2 id="_9-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_9-1-章节内容概述" aria-hidden="true">#</a> 9.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 9.1.章节内容概述
 9.2.章节内容大纲
 9.3.简介
 9.4.应用场景
 9.5.优缺点
 9.6.角色及其职责
 9.7.模型
 9.8.示例
 9.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_9-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_9-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter9.html" target="_blank">9.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter9.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_9-3-简介" tabindex="-1"><a class="header-anchor" href="#_9-3-简介" aria-hidden="true">#</a> 9.3.简介</h2><h2 id="_9-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_9-4-应用场景" aria-hidden="true">#</a> 9.4.应用场景</h2><h2 id="_9-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_9-5-优缺点" aria-hidden="true">#</a> 9.5.优缺点</h2><h3 id="_9-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_9-5-1-优点" aria-hidden="true">#</a> 9.5.1.优点</h3><h3 id="_9-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_9-5-2-缺点" aria-hidden="true">#</a> 9.5.2.缺点</h3><h2 id="_9-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_9-6-角色及其职责" aria-hidden="true">#</a> 9.6.角色及其职责</h2><h2 id="_9-7-模型" tabindex="-1"><a class="header-anchor" href="#_9-7-模型" aria-hidden="true">#</a> 9.7.模型</h2><h3 id="_9-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_9-7-1-模型类图" aria-hidden="true">#</a> 9.7.1.模型类图</h3><h3 id="_9-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_9-7-2-模型代码" aria-hidden="true">#</a> 9.7.2.模型代码</h3><h2 id="_9-8-示例" tabindex="-1"><a class="header-anchor" href="#_9-8-示例" aria-hidden="true">#</a> 9.8.示例</h2><h2 id="_9-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_9-9-在开源框架中的应用" aria-hidden="true">#</a> 9.9.在开源框架中的应用</h2><h1 id="10." tabindex="-1"><a class="header-anchor" href="#10." aria-hidden="true">#</a> 10.结构型模式-适配器模式</h1><h2 id="_10-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_10-1-章节内容概述" aria-hidden="true">#</a> 10.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 10.1.章节内容概述
 10.2.章节内容大纲
 10.3.简介
 10.4.应用场景
 10.5.优缺点
 10.6.角色及其职责
 10.7.模型
 10.8.示例
 10.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_10-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_10-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter10.html" target="_blank">10.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter10.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_10-3-简介" tabindex="-1"><a class="header-anchor" href="#_10-3-简介" aria-hidden="true">#</a> 10.3.简介</h2><h2 id="_10-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_10-4-应用场景" aria-hidden="true">#</a> 10.4.应用场景</h2><h2 id="_10-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_10-5-优缺点" aria-hidden="true">#</a> 10.5.优缺点</h2><h3 id="_10-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_10-5-1-优点" aria-hidden="true">#</a> 10.5.1.优点</h3><h3 id="_10-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_10-5-2-缺点" aria-hidden="true">#</a> 10.5.2.缺点</h3><h2 id="_10-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_10-6-角色及其职责" aria-hidden="true">#</a> 10.6.角色及其职责</h2><h2 id="_10-7-模型" tabindex="-1"><a class="header-anchor" href="#_10-7-模型" aria-hidden="true">#</a> 10.7.模型</h2><h3 id="_10-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_10-7-1-模型类图" aria-hidden="true">#</a> 10.7.1.模型类图</h3><h3 id="_10-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_10-7-2-模型代码" aria-hidden="true">#</a> 10.7.2.模型代码</h3><h2 id="_10-8-示例" tabindex="-1"><a class="header-anchor" href="#_10-8-示例" aria-hidden="true">#</a> 10.8.示例</h2><h2 id="_10-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_10-9-在开源框架中的应用" aria-hidden="true">#</a> 10.9.在开源框架中的应用</h2><h1 id="11." tabindex="-1"><a class="header-anchor" href="#11." aria-hidden="true">#</a> 11.结构型模式-桥接模式</h1><h2 id="_11-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_11-1-章节内容概述" aria-hidden="true">#</a> 11.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 11.1.章节内容概述
 11.2.章节内容大纲
 11.3.简介
 11.4.应用场景
 11.5.优缺点
 11.6.角色及其职责
 11.7.模型
 11.8.示例
 11.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_11-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_11-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter11.html" target="_blank">11.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter11.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_11-3-简介" tabindex="-1"><a class="header-anchor" href="#_11-3-简介" aria-hidden="true">#</a> 11.3.简介</h2><h2 id="_11-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_11-4-应用场景" aria-hidden="true">#</a> 11.4.应用场景</h2><h2 id="_11-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_11-5-优缺点" aria-hidden="true">#</a> 11.5.优缺点</h2><h3 id="_11-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_11-5-1-优点" aria-hidden="true">#</a> 11.5.1.优点</h3><h3 id="_11-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_11-5-2-缺点" aria-hidden="true">#</a> 11.5.2.缺点</h3><h2 id="_11-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_11-6-角色及其职责" aria-hidden="true">#</a> 11.6.角色及其职责</h2><h2 id="_11-7-模型" tabindex="-1"><a class="header-anchor" href="#_11-7-模型" aria-hidden="true">#</a> 11.7.模型</h2><h3 id="_11-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_11-7-1-模型类图" aria-hidden="true">#</a> 11.7.1.模型类图</h3><h3 id="_11-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_11-7-2-模型代码" aria-hidden="true">#</a> 11.7.2.模型代码</h3><h2 id="_11-8-示例" tabindex="-1"><a class="header-anchor" href="#_11-8-示例" aria-hidden="true">#</a> 11.8.示例</h2><h2 id="_11-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_11-9-在开源框架中的应用" aria-hidden="true">#</a> 11.9.在开源框架中的应用</h2><h1 id="12." tabindex="-1"><a class="header-anchor" href="#12." aria-hidden="true">#</a> 12.结构型模式-装饰者模式</h1><h2 id="_12-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_12-1-章节内容概述" aria-hidden="true">#</a> 12.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 12.1.章节内容概述
 12.2.章节内容大纲
 12.3.简介
 12.4.应用场景
 12.5.优缺点
 12.6.角色及其职责
 12.7.模型
 12.8.示例
 12.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_12-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_12-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter12.html" target="_blank">12.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter12.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_12-3-简介" tabindex="-1"><a class="header-anchor" href="#_12-3-简介" aria-hidden="true">#</a> 12.3.简介</h2><h2 id="_12-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_12-4-应用场景" aria-hidden="true">#</a> 12.4.应用场景</h2><h2 id="_12-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_12-5-优缺点" aria-hidden="true">#</a> 12.5.优缺点</h2><h3 id="_12-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_12-5-1-优点" aria-hidden="true">#</a> 12.5.1.优点</h3><h3 id="_12-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_12-5-2-缺点" aria-hidden="true">#</a> 12.5.2.缺点</h3><h2 id="_12-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_12-6-角色及其职责" aria-hidden="true">#</a> 12.6.角色及其职责</h2><h2 id="_12-7-模型" tabindex="-1"><a class="header-anchor" href="#_12-7-模型" aria-hidden="true">#</a> 12.7.模型</h2><h3 id="_12-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_12-7-1-模型类图" aria-hidden="true">#</a> 12.7.1.模型类图</h3><h3 id="_12-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_12-7-2-模型代码" aria-hidden="true">#</a> 12.7.2.模型代码</h3><h2 id="_12-8-示例" tabindex="-1"><a class="header-anchor" href="#_12-8-示例" aria-hidden="true">#</a> 12.8.示例</h2><h2 id="_12-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_12-9-在开源框架中的应用" aria-hidden="true">#</a> 12.9.在开源框架中的应用</h2><h1 id="13." tabindex="-1"><a class="header-anchor" href="#13." aria-hidden="true">#</a> 13.结构型模式-组合模式</h1><h2 id="_13-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_13-1-章节内容概述" aria-hidden="true">#</a> 13.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 13.1.章节内容概述
 13.2.章节内容大纲
 13.3.简介
 13.4.应用场景
 13.5.优缺点
 13.6.角色及其职责
 13.7.模型
 13.8.示例
 13.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_13-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_13-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter13.html" target="_blank">13.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter13.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_13-3-简介" tabindex="-1"><a class="header-anchor" href="#_13-3-简介" aria-hidden="true">#</a> 13.3.简介</h2><h2 id="_13-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_13-4-应用场景" aria-hidden="true">#</a> 13.4.应用场景</h2><h2 id="_13-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_13-5-优缺点" aria-hidden="true">#</a> 13.5.优缺点</h2><h3 id="_13-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_13-5-1-优点" aria-hidden="true">#</a> 13.5.1.优点</h3><h3 id="_13-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_13-5-2-缺点" aria-hidden="true">#</a> 13.5.2.缺点</h3><h2 id="_13-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_13-6-角色及其职责" aria-hidden="true">#</a> 13.6.角色及其职责</h2><h2 id="_13-7-模型" tabindex="-1"><a class="header-anchor" href="#_13-7-模型" aria-hidden="true">#</a> 13.7.模型</h2><h3 id="_13-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_13-7-1-模型类图" aria-hidden="true">#</a> 13.7.1.模型类图</h3><h3 id="_13-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_13-7-2-模型代码" aria-hidden="true">#</a> 13.7.2.模型代码</h3><h2 id="_13-8-示例" tabindex="-1"><a class="header-anchor" href="#_13-8-示例" aria-hidden="true">#</a> 13.8.示例</h2><h2 id="_13-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_13-9-在开源框架中的应用" aria-hidden="true">#</a> 13.9.在开源框架中的应用</h2><h1 id="14." tabindex="-1"><a class="header-anchor" href="#14." aria-hidden="true">#</a> 14.结构型模式-外观模式</h1><h2 id="_14-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_14-1-章节内容概述" aria-hidden="true">#</a> 14.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 14.1.章节内容概述
 14.2.章节内容大纲
 14.3.简介
 14.4.应用场景
 14.5.优缺点
 14.6.角色及其职责
 14.7.模型
 14.8.示例
 14.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_14-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_14-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter14.html" target="_blank">14.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter14.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_14-3-简介" tabindex="-1"><a class="header-anchor" href="#_14-3-简介" aria-hidden="true">#</a> 14.3.简介</h2><h2 id="_14-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_14-4-应用场景" aria-hidden="true">#</a> 14.4.应用场景</h2><h2 id="_14-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_14-5-优缺点" aria-hidden="true">#</a> 14.5.优缺点</h2><h3 id="_14-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_14-5-1-优点" aria-hidden="true">#</a> 14.5.1.优点</h3><h3 id="_14-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_14-5-2-缺点" aria-hidden="true">#</a> 14.5.2.缺点</h3><h2 id="_14-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_14-6-角色及其职责" aria-hidden="true">#</a> 14.6.角色及其职责</h2><h2 id="_14-7-模型" tabindex="-1"><a class="header-anchor" href="#_14-7-模型" aria-hidden="true">#</a> 14.7.模型</h2><h3 id="_14-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_14-7-1-模型类图" aria-hidden="true">#</a> 14.7.1.模型类图</h3><h3 id="_14-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_14-7-2-模型代码" aria-hidden="true">#</a> 14.7.2.模型代码</h3><h2 id="_14-8-示例" tabindex="-1"><a class="header-anchor" href="#_14-8-示例" aria-hidden="true">#</a> 14.8.示例</h2><h2 id="_14-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_14-9-在开源框架中的应用" aria-hidden="true">#</a> 14.9.在开源框架中的应用</h2><h1 id="15." tabindex="-1"><a class="header-anchor" href="#15." aria-hidden="true">#</a> 15.结构型模式-享元模式</h1><h2 id="_15-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_15-1-章节内容概述" aria-hidden="true">#</a> 15.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 15.1.章节内容概述
 15.2.章节内容大纲
 15.3.简介
 15.4.应用场景
 15.5.优缺点
 15.6.角色及其职责
 15.7.模型
 15.8.示例
 15.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_15-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_15-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter15.html" target="_blank">15.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter15.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_15-3-简介" tabindex="-1"><a class="header-anchor" href="#_15-3-简介" aria-hidden="true">#</a> 15.3.简介</h2><h2 id="_15-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_15-4-应用场景" aria-hidden="true">#</a> 15.4.应用场景</h2><h2 id="_15-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_15-5-优缺点" aria-hidden="true">#</a> 15.5.优缺点</h2><h3 id="_15-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_15-5-1-优点" aria-hidden="true">#</a> 15.5.1.优点</h3><h3 id="_15-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_15-5-2-缺点" aria-hidden="true">#</a> 15.5.2.缺点</h3><h2 id="_15-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_15-6-角色及其职责" aria-hidden="true">#</a> 15.6.角色及其职责</h2><h2 id="_15-7-模型" tabindex="-1"><a class="header-anchor" href="#_15-7-模型" aria-hidden="true">#</a> 15.7.模型</h2><h3 id="_15-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_15-7-1-模型类图" aria-hidden="true">#</a> 15.7.1.模型类图</h3><h3 id="_15-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_15-7-2-模型代码" aria-hidden="true">#</a> 15.7.2.模型代码</h3><h2 id="_15-8-示例" tabindex="-1"><a class="header-anchor" href="#_15-8-示例" aria-hidden="true">#</a> 15.8.示例</h2><h2 id="_15-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_15-9-在开源框架中的应用" aria-hidden="true">#</a> 15.9.在开源框架中的应用</h2><h1 id="16." tabindex="-1"><a class="header-anchor" href="#16." aria-hidden="true">#</a> 16.结构型模式-代理模式</h1><h2 id="_16-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_16-1-章节内容概述" aria-hidden="true">#</a> 16.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 16.1.章节内容概述
 16.2.章节内容大纲
 16.3.简介
 16.4.应用场景
 16.5.优缺点
 16.6.角色及其职责
 16.7.模型
 16.8.示例
 16.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_16-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_16-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter16.html" target="_blank">16.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter16.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_16-3-简介" tabindex="-1"><a class="header-anchor" href="#_16-3-简介" aria-hidden="true">#</a> 16.3.简介</h2><h2 id="_16-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_16-4-应用场景" aria-hidden="true">#</a> 16.4.应用场景</h2><h2 id="_16-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_16-5-优缺点" aria-hidden="true">#</a> 16.5.优缺点</h2><h3 id="_16-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_16-5-1-优点" aria-hidden="true">#</a> 16.5.1.优点</h3><h3 id="_16-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_16-5-2-缺点" aria-hidden="true">#</a> 16.5.2.缺点</h3><h2 id="_16-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_16-6-角色及其职责" aria-hidden="true">#</a> 16.6.角色及其职责</h2><h2 id="_16-7-模型" tabindex="-1"><a class="header-anchor" href="#_16-7-模型" aria-hidden="true">#</a> 16.7.模型</h2><h3 id="_16-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_16-7-1-模型类图" aria-hidden="true">#</a> 16.7.1.模型类图</h3><h3 id="_16-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_16-7-2-模型代码" aria-hidden="true">#</a> 16.7.2.模型代码</h3><h2 id="_16-8-示例" tabindex="-1"><a class="header-anchor" href="#_16-8-示例" aria-hidden="true">#</a> 16.8.示例</h2><h2 id="_16-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_16-9-在开源框架中的应用" aria-hidden="true">#</a> 16.9.在开源框架中的应用</h2><h1 id="17." tabindex="-1"><a class="header-anchor" href="#17." aria-hidden="true">#</a> 17.行为型模式-模版方法模式</h1><h2 id="_17-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_17-1-章节内容概述" aria-hidden="true">#</a> 17.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 17.1.章节内容概述
 17.2.章节内容大纲
 17.3.简介
 17.4.应用场景
 17.5.优缺点
 17.6.角色及其职责
 17.7.模型
 17.8.示例
 17.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_17-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_17-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter17.html" target="_blank">17.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter17.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_17-3-简介" tabindex="-1"><a class="header-anchor" href="#_17-3-简介" aria-hidden="true">#</a> 17.3.简介</h2><h2 id="_17-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_17-4-应用场景" aria-hidden="true">#</a> 17.4.应用场景</h2><h2 id="_17-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_17-5-优缺点" aria-hidden="true">#</a> 17.5.优缺点</h2><h3 id="_17-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_17-5-1-优点" aria-hidden="true">#</a> 17.5.1.优点</h3><h3 id="_17-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_17-5-2-缺点" aria-hidden="true">#</a> 17.5.2.缺点</h3><h2 id="_17-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_17-6-角色及其职责" aria-hidden="true">#</a> 17.6.角色及其职责</h2><h2 id="_17-7-模型" tabindex="-1"><a class="header-anchor" href="#_17-7-模型" aria-hidden="true">#</a> 17.7.模型</h2><h3 id="_17-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_17-7-1-模型类图" aria-hidden="true">#</a> 17.7.1.模型类图</h3><h3 id="_17-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_17-7-2-模型代码" aria-hidden="true">#</a> 17.7.2.模型代码</h3><h2 id="_17-8-示例" tabindex="-1"><a class="header-anchor" href="#_17-8-示例" aria-hidden="true">#</a> 17.8.示例</h2><h2 id="_17-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_17-9-在开源框架中的应用" aria-hidden="true">#</a> 17.9.在开源框架中的应用</h2><h1 id="18." tabindex="-1"><a class="header-anchor" href="#18." aria-hidden="true">#</a> 18.行为型模式-命令模式</h1><h2 id="_18-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_18-1-章节内容概述" aria-hidden="true">#</a> 18.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 18.1.章节内容概述
 18.2.章节内容大纲
 18.3.简介
 18.4.应用场景
 18.5.优缺点
 18.6.角色及其职责
 18.7.模型
 18.8.示例
 18.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_18-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_18-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter18.html" target="_blank">18.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter18.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_18-3-简介" tabindex="-1"><a class="header-anchor" href="#_18-3-简介" aria-hidden="true">#</a> 18.3.简介</h2><h2 id="_18-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_18-4-应用场景" aria-hidden="true">#</a> 18.4.应用场景</h2><h2 id="_18-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_18-5-优缺点" aria-hidden="true">#</a> 18.5.优缺点</h2><h3 id="_18-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_18-5-1-优点" aria-hidden="true">#</a> 18.5.1.优点</h3><h3 id="_18-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_18-5-2-缺点" aria-hidden="true">#</a> 18.5.2.缺点</h3><h2 id="_18-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_18-6-角色及其职责" aria-hidden="true">#</a> 18.6.角色及其职责</h2><h2 id="_18-7-模型" tabindex="-1"><a class="header-anchor" href="#_18-7-模型" aria-hidden="true">#</a> 18.7.模型</h2><h3 id="_18-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_18-7-1-模型类图" aria-hidden="true">#</a> 18.7.1.模型类图</h3><h3 id="_18-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_18-7-2-模型代码" aria-hidden="true">#</a> 18.7.2.模型代码</h3><h2 id="_18-8-示例" tabindex="-1"><a class="header-anchor" href="#_18-8-示例" aria-hidden="true">#</a> 18.8.示例</h2><h2 id="_18-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_18-9-在开源框架中的应用" aria-hidden="true">#</a> 18.9.在开源框架中的应用</h2><h1 id="19." tabindex="-1"><a class="header-anchor" href="#19." aria-hidden="true">#</a> 19.行为型模式-迭代器模式</h1><h2 id="_19-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_19-1-章节内容概述" aria-hidden="true">#</a> 19.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 19.1.章节内容概述
 19.2.章节内容大纲
 19.3.简介
 19.4.应用场景
 19.5.优缺点
 19.6.角色及其职责
 19.7.模型
 19.8.示例
 19.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_19-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_19-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter19.html" target="_blank">19.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter19.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_19-3-简介" tabindex="-1"><a class="header-anchor" href="#_19-3-简介" aria-hidden="true">#</a> 19.3.简介</h2><h2 id="_19-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_19-4-应用场景" aria-hidden="true">#</a> 19.4.应用场景</h2><h2 id="_19-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_19-5-优缺点" aria-hidden="true">#</a> 19.5.优缺点</h2><h3 id="_19-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_19-5-1-优点" aria-hidden="true">#</a> 19.5.1.优点</h3><h3 id="_19-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_19-5-2-缺点" aria-hidden="true">#</a> 19.5.2.缺点</h3><h2 id="_19-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_19-6-角色及其职责" aria-hidden="true">#</a> 19.6.角色及其职责</h2><h2 id="_19-7-模型" tabindex="-1"><a class="header-anchor" href="#_19-7-模型" aria-hidden="true">#</a> 19.7.模型</h2><h3 id="_19-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_19-7-1-模型类图" aria-hidden="true">#</a> 19.7.1.模型类图</h3><h3 id="_19-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_19-7-2-模型代码" aria-hidden="true">#</a> 19.7.2.模型代码</h3><h2 id="_19-8-示例" tabindex="-1"><a class="header-anchor" href="#_19-8-示例" aria-hidden="true">#</a> 19.8.示例</h2><h2 id="_19-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_19-9-在开源框架中的应用" aria-hidden="true">#</a> 19.9.在开源框架中的应用</h2><h1 id="20." tabindex="-1"><a class="header-anchor" href="#20." aria-hidden="true">#</a> 20.行为型模式-观察者模式</h1><h2 id="_20-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_20-1-章节内容概述" aria-hidden="true">#</a> 20.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 20.1.章节内容概述
 20.2.章节内容大纲
 20.3.简介
 20.4.应用场景
 20.5.优缺点
 20.6.角色及其职责
 20.7.模型
 20.8.示例
 20.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_20-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_20-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter20.html" target="_blank">20.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter20.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_20-3-简介" tabindex="-1"><a class="header-anchor" href="#_20-3-简介" aria-hidden="true">#</a> 20.3.简介</h2><h2 id="_20-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_20-4-应用场景" aria-hidden="true">#</a> 20.4.应用场景</h2><h2 id="_20-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_20-5-优缺点" aria-hidden="true">#</a> 20.5.优缺点</h2><h3 id="_20-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_20-5-1-优点" aria-hidden="true">#</a> 20.5.1.优点</h3><h3 id="_20-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_20-5-2-缺点" aria-hidden="true">#</a> 20.5.2.缺点</h3><h2 id="_20-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_20-6-角色及其职责" aria-hidden="true">#</a> 20.6.角色及其职责</h2><h2 id="_20-7-模型" tabindex="-1"><a class="header-anchor" href="#_20-7-模型" aria-hidden="true">#</a> 20.7.模型</h2><h3 id="_20-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_20-7-1-模型类图" aria-hidden="true">#</a> 20.7.1.模型类图</h3><h3 id="_20-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_20-7-2-模型代码" aria-hidden="true">#</a> 20.7.2.模型代码</h3><h2 id="_20-8-示例" tabindex="-1"><a class="header-anchor" href="#_20-8-示例" aria-hidden="true">#</a> 20.8.示例</h2><h2 id="_20-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_20-9-在开源框架中的应用" aria-hidden="true">#</a> 20.9.在开源框架中的应用</h2><h1 id="21." tabindex="-1"><a class="header-anchor" href="#21." aria-hidden="true">#</a> 21.行为型模式-中介者模式</h1><h2 id="_21-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_21-1-章节内容概述" aria-hidden="true">#</a> 21.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 21.1.章节内容概述
 21.2.章节内容大纲
 21.3.简介
 21.4.应用场景
 21.5.优缺点
 21.6.角色及其职责
 21.7.模型
 21.8.示例
 21.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_21-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_21-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter21.html" target="_blank">21.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter21.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_21-3-简介" tabindex="-1"><a class="header-anchor" href="#_21-3-简介" aria-hidden="true">#</a> 21.3.简介</h2><h2 id="_21-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_21-4-应用场景" aria-hidden="true">#</a> 21.4.应用场景</h2><h2 id="_21-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_21-5-优缺点" aria-hidden="true">#</a> 21.5.优缺点</h2><h3 id="_21-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_21-5-1-优点" aria-hidden="true">#</a> 21.5.1.优点</h3><h3 id="_21-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_21-5-2-缺点" aria-hidden="true">#</a> 21.5.2.缺点</h3><h2 id="_21-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_21-6-角色及其职责" aria-hidden="true">#</a> 21.6.角色及其职责</h2><h2 id="_21-7-模型" tabindex="-1"><a class="header-anchor" href="#_21-7-模型" aria-hidden="true">#</a> 21.7.模型</h2><h3 id="_21-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_21-7-1-模型类图" aria-hidden="true">#</a> 21.7.1.模型类图</h3><h3 id="_21-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_21-7-2-模型代码" aria-hidden="true">#</a> 21.7.2.模型代码</h3><h2 id="_21-8-示例" tabindex="-1"><a class="header-anchor" href="#_21-8-示例" aria-hidden="true">#</a> 21.8.示例</h2><h2 id="_21-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_21-9-在开源框架中的应用" aria-hidden="true">#</a> 21.9.在开源框架中的应用</h2><h1 id="22." tabindex="-1"><a class="header-anchor" href="#22." aria-hidden="true">#</a> 22.行为型模式-备忘录模式</h1><h2 id="_22-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_22-1-章节内容概述" aria-hidden="true">#</a> 22.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 22.1.章节内容概述
 22.2.章节内容大纲
 22.3.简介
 22.4.应用场景
 22.5.优缺点
 22.6.角色及其职责
 22.7.模型
 22.8.示例
 22.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_22-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_22-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter22.html" target="_blank">22.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter22.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_22-3-简介" tabindex="-1"><a class="header-anchor" href="#_22-3-简介" aria-hidden="true">#</a> 22.3.简介</h2><h2 id="_22-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_22-4-应用场景" aria-hidden="true">#</a> 22.4.应用场景</h2><h2 id="_22-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_22-5-优缺点" aria-hidden="true">#</a> 22.5.优缺点</h2><h3 id="_22-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_22-5-1-优点" aria-hidden="true">#</a> 22.5.1.优点</h3><h3 id="_22-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_22-5-2-缺点" aria-hidden="true">#</a> 22.5.2.缺点</h3><h2 id="_22-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_22-6-角色及其职责" aria-hidden="true">#</a> 22.6.角色及其职责</h2><h2 id="_22-7-模型" tabindex="-1"><a class="header-anchor" href="#_22-7-模型" aria-hidden="true">#</a> 22.7.模型</h2><h3 id="_22-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_22-7-1-模型类图" aria-hidden="true">#</a> 22.7.1.模型类图</h3><h3 id="_22-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_22-7-2-模型代码" aria-hidden="true">#</a> 22.7.2.模型代码</h3><h2 id="_22-8-示例" tabindex="-1"><a class="header-anchor" href="#_22-8-示例" aria-hidden="true">#</a> 22.8.示例</h2><h2 id="_22-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_22-9-在开源框架中的应用" aria-hidden="true">#</a> 22.9.在开源框架中的应用</h2><h1 id="23." tabindex="-1"><a class="header-anchor" href="#23." aria-hidden="true">#</a> 23.行为型模式-解释器模式</h1><h2 id="_23-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_23-1-章节内容概述" aria-hidden="true">#</a> 23.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 23.1.章节内容概述
 23.2.章节内容大纲
 23.3.简介
 23.4.应用场景
 23.5.优缺点
 23.6.角色及其职责
 23.7.模型
 23.8.示例
 23.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_23-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_23-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter23.html" target="_blank">23.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter23.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_23-3-简介" tabindex="-1"><a class="header-anchor" href="#_23-3-简介" aria-hidden="true">#</a> 23.3.简介</h2><h2 id="_23-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_23-4-应用场景" aria-hidden="true">#</a> 23.4.应用场景</h2><h2 id="_23-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_23-5-优缺点" aria-hidden="true">#</a> 23.5.优缺点</h2><h3 id="_23-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_23-5-1-优点" aria-hidden="true">#</a> 23.5.1.优点</h3><h3 id="_23-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_23-5-2-缺点" aria-hidden="true">#</a> 23.5.2.缺点</h3><h2 id="_23-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_23-6-角色及其职责" aria-hidden="true">#</a> 23.6.角色及其职责</h2><h2 id="_23-7-模型" tabindex="-1"><a class="header-anchor" href="#_23-7-模型" aria-hidden="true">#</a> 23.7.模型</h2><h3 id="_23-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_23-7-1-模型类图" aria-hidden="true">#</a> 23.7.1.模型类图</h3><h3 id="_23-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_23-7-2-模型代码" aria-hidden="true">#</a> 23.7.2.模型代码</h3><h2 id="_23-8-示例" tabindex="-1"><a class="header-anchor" href="#_23-8-示例" aria-hidden="true">#</a> 23.8.示例</h2><h2 id="_23-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_23-9-在开源框架中的应用" aria-hidden="true">#</a> 23.9.在开源框架中的应用</h2><h1 id="24." tabindex="-1"><a class="header-anchor" href="#24." aria-hidden="true">#</a> 24.行为型模式-状态模式</h1><h2 id="_24-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_24-1-章节内容概述" aria-hidden="true">#</a> 24.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 24.1.章节内容概述
 24.2.章节内容大纲
 24.3.简介
 24.4.应用场景
 24.5.优缺点
 24.6.角色及其职责
 24.7.模型
 24.8.示例
 24.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_24-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_24-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter24.html" target="_blank">24.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter24.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_24-3-简介" tabindex="-1"><a class="header-anchor" href="#_24-3-简介" aria-hidden="true">#</a> 24.3.简介</h2><h2 id="_24-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_24-4-应用场景" aria-hidden="true">#</a> 24.4.应用场景</h2><h2 id="_24-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_24-5-优缺点" aria-hidden="true">#</a> 24.5.优缺点</h2><h3 id="_24-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_24-5-1-优点" aria-hidden="true">#</a> 24.5.1.优点</h3><h3 id="_24-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_24-5-2-缺点" aria-hidden="true">#</a> 24.5.2.缺点</h3><h2 id="_24-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_24-6-角色及其职责" aria-hidden="true">#</a> 24.6.角色及其职责</h2><h2 id="_24-7-模型" tabindex="-1"><a class="header-anchor" href="#_24-7-模型" aria-hidden="true">#</a> 24.7.模型</h2><h3 id="_24-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_24-7-1-模型类图" aria-hidden="true">#</a> 24.7.1.模型类图</h3><h3 id="_24-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_24-7-2-模型代码" aria-hidden="true">#</a> 24.7.2.模型代码</h3><h2 id="_24-8-示例" tabindex="-1"><a class="header-anchor" href="#_24-8-示例" aria-hidden="true">#</a> 24.8.示例</h2><h2 id="_24-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_24-9-在开源框架中的应用" aria-hidden="true">#</a> 24.9.在开源框架中的应用</h2><h1 id="25." tabindex="-1"><a class="header-anchor" href="#25." aria-hidden="true">#</a> 25.行为型模式-策略模式</h1><h2 id="_25-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_25-1-章节内容概述" aria-hidden="true">#</a> 25.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 25.1.章节内容概述
 25.2.章节内容大纲
 25.3.简介
 25.4.应用场景
 25.5.优缺点
 25.6.角色及其职责
 25.7.模型
 25.8.示例
 25.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_25-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_25-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter25.html" target="_blank">25.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter25.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_25-3-简介" tabindex="-1"><a class="header-anchor" href="#_25-3-简介" aria-hidden="true">#</a> 25.3.简介</h2><h2 id="_25-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_25-4-应用场景" aria-hidden="true">#</a> 25.4.应用场景</h2><h2 id="_25-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_25-5-优缺点" aria-hidden="true">#</a> 25.5.优缺点</h2><h3 id="_25-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_25-5-1-优点" aria-hidden="true">#</a> 25.5.1.优点</h3><h3 id="_25-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_25-5-2-缺点" aria-hidden="true">#</a> 25.5.2.缺点</h3><h2 id="_25-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_25-6-角色及其职责" aria-hidden="true">#</a> 25.6.角色及其职责</h2><h2 id="_25-7-模型" tabindex="-1"><a class="header-anchor" href="#_25-7-模型" aria-hidden="true">#</a> 25.7.模型</h2><h3 id="_25-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_25-7-1-模型类图" aria-hidden="true">#</a> 25.7.1.模型类图</h3><h3 id="_25-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_25-7-2-模型代码" aria-hidden="true">#</a> 25.7.2.模型代码</h3><h2 id="_25-8-示例" tabindex="-1"><a class="header-anchor" href="#_25-8-示例" aria-hidden="true">#</a> 25.8.示例</h2><h2 id="_25-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_25-9-在开源框架中的应用" aria-hidden="true">#</a> 25.9.在开源框架中的应用</h2><h1 id="26." tabindex="-1"><a class="header-anchor" href="#26." aria-hidden="true">#</a> 26.行为型模式-职责链模式</h1><h2 id="_26-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_26-1-章节内容概述" aria-hidden="true">#</a> 26.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 26.1.章节内容概述
 26.2.章节内容大纲
 26.3.简介
 26.4.应用场景
 26.5.优缺点
 26.6.角色及其职责
 26.7.模型
 26.8.示例
 26.9.在开源框架中的应用
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_26-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_26-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter26.html" target="_blank">26.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter26.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_26-3-简介" tabindex="-1"><a class="header-anchor" href="#_26-3-简介" aria-hidden="true">#</a> 26.3.简介</h2><h2 id="_26-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_26-4-应用场景" aria-hidden="true">#</a> 26.4.应用场景</h2><h2 id="_26-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_26-5-优缺点" aria-hidden="true">#</a> 26.5.优缺点</h2><h3 id="_26-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_26-5-1-优点" aria-hidden="true">#</a> 26.5.1.优点</h3><h3 id="_26-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_26-5-2-缺点" aria-hidden="true">#</a> 26.5.2.缺点</h3><h2 id="_26-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_26-6-角色及其职责" aria-hidden="true">#</a> 26.6.角色及其职责</h2><h2 id="_26-7-模型" tabindex="-1"><a class="header-anchor" href="#_26-7-模型" aria-hidden="true">#</a> 26.7.模型</h2><h3 id="_26-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_26-7-1-模型类图" aria-hidden="true">#</a> 26.7.1.模型类图</h3><h3 id="_26-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_26-7-2-模型代码" aria-hidden="true">#</a> 26.7.2.模型代码</h3><h2 id="_26-8-示例" tabindex="-1"><a class="header-anchor" href="#_26-8-示例" aria-hidden="true">#</a> 26.8.示例</h2><h2 id="_26-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_26-9-在开源框架中的应用" aria-hidden="true">#</a> 26.9.在开源框架中的应用</h2><h1 id="27." tabindex="-1"><a class="header-anchor" href="#27." aria-hidden="true">#</a> 27.行为型模式-访问者模式</h1><h2 id="_27-1-章节内容概述" tabindex="-1"><a class="header-anchor" href="#_27-1-章节内容概述" aria-hidden="true">#</a> 27.1.章节内容概述</h2><pre><code>本章节涉及主要内容有：
 27.1.章节内容概述
 27.2.章节内容大纲
 27.3.简介
 27.4.应用场景
 27.5.优缺点
 27.6.角色及其职责
 27.7.模型
 27.8.示例
 27.9.在开源框架中的应用 
具体每个小节中包含的内容可使通过下面的章节内容大纲进行查看。
</code></pre><h2 id="_27-2-章节内容大纲" tabindex="-1"><a class="header-anchor" href="#_27-2-章节内容大纲" aria-hidden="true">#</a> <a href="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter27.html" target="_blank">27.2.章节内容大纲</a></h2><div><iframe src="/enhance/markmap/general/designpattern/designpattern-java/chapter/designpattern-java-outline5-chapter27.html" width="100%" height="500rem" frameborder="0" scrolling="No" leftmargin="0" topmargin="0" style="background-color:#E3EAF2;border-radius:6px;"></iframe></div><h2 id="_27-3-简介" tabindex="-1"><a class="header-anchor" href="#_27-3-简介" aria-hidden="true">#</a> 27.3.简介</h2><h2 id="_27-4-应用场景" tabindex="-1"><a class="header-anchor" href="#_27-4-应用场景" aria-hidden="true">#</a> 27.4.应用场景</h2><h2 id="_27-5-优缺点" tabindex="-1"><a class="header-anchor" href="#_27-5-优缺点" aria-hidden="true">#</a> 27.5.优缺点</h2><h3 id="_27-5-1-优点" tabindex="-1"><a class="header-anchor" href="#_27-5-1-优点" aria-hidden="true">#</a> 27.5.1.优点</h3><h3 id="_27-5-2-缺点" tabindex="-1"><a class="header-anchor" href="#_27-5-2-缺点" aria-hidden="true">#</a> 27.5.2.缺点</h3><h2 id="_27-6-角色及其职责" tabindex="-1"><a class="header-anchor" href="#_27-6-角色及其职责" aria-hidden="true">#</a> 27.6.角色及其职责</h2><h2 id="_27-7-模型" tabindex="-1"><a class="header-anchor" href="#_27-7-模型" aria-hidden="true">#</a> 27.7.模型</h2><h3 id="_27-7-1-模型类图" tabindex="-1"><a class="header-anchor" href="#_27-7-1-模型类图" aria-hidden="true">#</a> 27.7.1.模型类图</h3><h3 id="_27-7-2-模型代码" tabindex="-1"><a class="header-anchor" href="#_27-7-2-模型代码" aria-hidden="true">#</a> 27.7.2.模型代码</h3><h2 id="_27-8-示例" tabindex="-1"><a class="header-anchor" href="#_27-8-示例" aria-hidden="true">#</a> 27.8.示例</h2><h2 id="_27-9-在开源框架中的应用" tabindex="-1"><a class="header-anchor" href="#_27-9-在开源框架中的应用" aria-hidden="true">#</a> 27.9.在开源框架中的应用</h2><div data-v-1641239a><div class="toggle-show-all-sidebars-btn hide-in-mobile" aria-label="显示所有博客侧边栏" data-balloon-pos="left" data-v-1641239a><span class="icon iconfont icon-a-archivecatalogue-fill" data-v-1641239a></span></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/9/10 08:56:45</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: LRwq942133">lingwh</span><!--]--><!--]--></div></footer><!----><div class="waline-wrapper" style="display:block;" darkmode="false"><div data-waline provider="Waline"><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="link">网址</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><!-- eslint-disable-next-line vue/no-v-html --><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noreferrer"><svg width="16" height="16" ariahidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button class="wl-action" title="表情" style="display:none;"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewbox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button class="wl-action" title="预览"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if-->  字</div><button class="wl-btn">登录</button><button class="wl-btn primary" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewbox="0 0 100 100" preserveaspectratio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokewidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributename="transform" type="rotate" repeatcount="indefinite" dur="1s" values="0 50 50;360 50 50" keytimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-count"><!--v-if--> 评论</div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewbox="0 0 100 100" preserveaspectratio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokewidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributename="transform" type="rotate" repeatcount="indefinite" dur="1s" values="0 50 50;360 50 50" keytimes="0;1"></animateTransform></circle></svg></div><!--]--><!-- Copyright Information --><!--v-if--></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Copyright 2021 © lingwh 欢迎访问</div><!----></footer><!--]--></div><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装<span></span></button><button class="cancel-button">取消</button></div></div></div></div><!----><!--]--></div>
    <script type="module" src="/pure/assets/app.d4c08878.js" defer></script>
  </body>
</html>
